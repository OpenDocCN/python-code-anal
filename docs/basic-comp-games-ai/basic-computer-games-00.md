# BasicComputerGamesÊ∫êÁ†ÅËß£Êûê 0

# How to run the games

The games in this repository have been translated into a number of different languages. How to run them depends on the target language.

## csharp

### dotnet command-line

The best cross-platform method for running the csharp examples is with the `dotnet` command-line tool. This can be downloaded for **MacOS**, **Windows** and **Linux** from [dotnet.microsoft.com](https://dotnet.microsoft.com/).

From there, the program can be run by

1. Opening a terminal window
1. Navigating to the corresponding directory
1. Starting with `dotnet run`

### Visual Studio

Alternatively, for non-dotnet compatible translations, you will need [Visual Studio](https://visualstudio.microsoft.com/vs/community/) which can be used to both open the project and run the example.

1. Open the corresponding `.csproj` or `.sln` file
1. Click `Run` from within the Visual Studio IDE

## java

The Java translations can be run via the command line or from an IDE such as [Eclipse](https://www.eclipse.org/downloads/packages/release/kepler/sr1/eclipse-ide-java-developers) or [IntelliJ](https://www.jetbrains.com/idea/)

To run from the command line, you will need a Java SDK (eg. [Oracle JDK](https://www.oracle.com/java/technologies/downloads/) or [Open JDK](https://openjdk.java.net/)).

1. Navigate to the corresponding directory.
1. Compile the program with `javac`:
   * eg. `javac AceyDuceyGame.java`
1. Run the compiled program with `java`:
   * eg. `java AceyDuceyGame`

or if you are **using JDK11 or later** you can now execute a self contained java file that has a main method directly with `java <filename>.java`.

## javascript

There are two ways of javascript implementations:

### browser

The html examples can be run from within your web browser. Simply open the corresponding `.html` file from your web browser.

### node.js

Some games are implemented as a [node.js](https://nodejs.org/) script. In this case there is no `*.html` file in the folder.

1. [install node.js](https://nodejs.org/en/download/) for your system.
1. change directory to the root of this repository (e.g. `cd basic-computer-games`).
1. from a terminal call the script you want to run (e.g. `node 78_Sine_Wave/javascript/sinewave.mjs`).

_Hint: Normally javascript files have a `*.js` extension. We are using `*.mjs` to let node know , that we are using [ES modules](https://nodejs.org/docs/latest/api/esm.html#modules-ecmascript-modules) instead of [CommonJS](https://nodejs.org/docs/latest/api/modules.html#modules-commonjs-modules)._

## kotlin

Kotlin programs are compiled with the Kotlin compiler, and run with the java runtime, just like java programs.
In addition to the java runtime you will need the `kotlinc` compiler, which can be installed using [these instructions](https://kotlinlang.org/docs/command-line.html).

1. Navigate to the corresponding directory.
1. Compile the program with `kotlinc`:
   * eg. `kotlinc AceyDuceyGame.kt -include-runtime -d AceyDuceyGame.jar`
1. Run the compiled program with `java`:
   * eg. `java -jar AceyDuceyGame.jar`

## pascal

The pascal examples can be run using [Free Pascal](https://www.freepascal.org/). Additionally, `.lsi` project files can be opened with the [Lazarus Project IDE](https://www.lazarus-ide.org/).

The pascal examples include both *simple* (single-file) and *object-oriented* (in the `/object-pascal`directories) examples.

1. You can compile the program from the command line with the `fpc` command.
   * eg. `fpc amazing.pas`
1. The output is an executable file that can be run directly.

## perl

The perl translations can be run using a perl interpreter (a copy can be downloaded from [perl.org](https://www.perl.org/)) if not already installed.

1. From the command-line, navigate to the corresponding directory.
1. Invoke with the `perl` command.
   * eg. `perl aceyducey.pl`

## python

The python translations can be run from the command line by using the `py` interpreter. If not already installed, a copy can be downloaded from [python.org](https://www.python.org/downloads/) for **Windows**, **MacOS** and **Linux**.

1. From the command-line, navigate to the corresponding directory.
1. Invoke with the `py` or `python` interpreter (depending on your python version).
   * eg. `py acey_ducey_oo.py`
   * eg. `python aceyducey.py`

**Note**

Some translations include multiple versions for python, such as `acey ducey` which features versions for Python 2 (`aceyducey.py`) and Python 3 (`acey_ducey.py`) as well as an extra object-oriented version (`acey_ducey_oo.py`).

You can manage and use different versions of python with [pip](https://pypi.org/project/pip/).

## ruby

If you don't already have a ruby interpreter, you can download it from the [ruby project site](https://www.ruby-lang.org/en/).

1. From the command-line, navigate to the corresponding directory.
1. Invoke with the `ruby` tool.
   * eg. `ruby aceyducey.rb`

## vbnet

Follow the same steps as for the [csharp](#csharp) translations. This can be run with `dotnet` or `Visual Studio`.

## rust

If you don't already have Rust on your computer, you can follow the instruction on [Rust Book](https://doc.rust-lang.org/book/ch01-01-installation.html)

1. From the command-line, navigate to the corresponding directory.
2. Run the following command.
   * `cargo run`


### What are we doing?

We‚Äôre updating the first million selling computer book, [BASIC Computer Games](https://en.wikipedia.org/wiki/BASIC_Computer_Games), for 2022 and beyond!

- [Read the original book](https://annarchive.com/files/Basic_Computer_Games_Microcomputer_Edition.pdf) (pdf)
- [Play the original games in your browser](https://troypress.com/wp-content/uploads/user/js-basic/index.html)

### Where can we discuss it?

Please see [the discussion here](https://discourse.codinghorror.com/t/-/7927) for a worklog and conversation around this project.

### Project structure

I have moved all [the original BASIC source code](http://www.vintage-basic.net/games.html) into a folder for each project in the original book (first volume). Note that Lyle Kopnicky has generously normalized all the code (thanks Lyle!) to run against [Vintage Basic](http://www.vintage-basic.net/download.html) circa 2009:

> I‚Äôve included all the games here for your tinkering pleasure. I‚Äôve tested and tweaked each one of them to make sure they‚Äôll run with Vintage BASIC, though you may see a few oddities. That‚Äôs part of the fun of playing with BASIC: it never works quite the same on two machines. The games will play better if you keep CAPS LOCK on, as they were designed to be used with capital-letter input.

Each project has subfolders corresponding to the languages we‚Äôd like to see the games ported to. This is based on the [2022 TIOBE index of top languages](https://www.tiobe.com/tiobe-index/) that are _**memory safe**_ and _**general purpose scripting languages**_ per [this post](https://discourse.codinghorror.com/t/-/7927/34):

1. C# 
2. Java
3. JavaScript
4. Kotlin
5. Lua
6. Perl
7. Python
8. Ruby
9. Rust
10. VB.NET

> üì¢ Note that in March 2022 we removed Pascal / Object Pascal and replaced it with Rust as we couldn‚Äôt determine if Pascal is effectively memory safe. We‚Äôve also added Lua, as it made the top 20 in TIOBE (as of 2022) and it is both memory safe and a scripting language. The Pascal ports were moved to the alternate languages folder.

> ‚ö†Ô∏è Please note that we have decided, as a project, that we **do not want any IDE-specific or build-specific files in the repository.** Please refrain from committing any files to the repository that only exist to work with a specific IDE or a specific build system.

### Alternate Languages

If you wish to port one of the programs to a language not in our list ‚Äì that is, a language which is either not memory safe, or not a general purpose scripting language, you can do so via the `00_Alternate_Languages` folder. Place your port in the appropriate game subfolder, in a subfolder named for the language. Please note that these ports are appreciated, but they will not count toward the donation total at the end of the project.

### Project goals

Feel free to begin converting these classic games into the above list of modern, memory safe languages. In fact, courtesy of @mojoaxel, you can even view the JavaScript versions in your web browser at

https://coding-horror.github.io/basic-computer-games/

But first, a few guidelines:

- **These are very old games**. They date from the mid-70s so they‚Äôre not exactly examples of what kids (or anyone, really?) would be playing these days. Consider them more like classic programming exercises to teach programming.  We‚Äôre paying it forward by converting them into modern languages, so the next generation can learn from the programs in this classic book ‚Äì and compare implementations across common modern languages.

- **Stay true to the original program**. These are mostly unsophisticated, simple command line / console games, so we should strive to replicate the command line / console output and behavior illustrated in the original book. See the README in the project folder for links to the original scanned source input and output. Try [running the game in your browser](https://troypress.com/wp-content/uploads/user/js-basic/index.html). Avoid the impulse to add features; keep it simple, _except_ for modern conventions, see next item üëá

- **Please DO update for modern coding conventions**. Support uppercase and lowercase. Use structured programming. Use subroutines. Try to be an example of good, modern coding practices!

- **Use lots of comments to explain what is going on**. Comment liberally! If there were clever tricks in the original code, decompose those tricks into simpler (even if more verbose) code, and use comments to explain what‚Äôs happening and why. If there is something particularly tricky about a program, edit the **Porting Notes** section of the `readme.md` to let everyone know. Those `GOTO`s can be very pesky..

- **Please don‚Äôt get _too_ fancy**. Definitely use the most recent versions and features of the target language, but also try to keep the code samples simple and explainable ‚Äì the goal is to teach programming in the target language, not necessarily demonstrate the cleverest one-line tricks, or big system "enterprise" coding techniques designed for thousands of lines of code.

- **Please don't check in any build specific or IDE specific files**. We want the repository to be simple and clean, so we have ruled out including any IDE or build system specific files from the repository. Git related files are OK, as we are using Git and this is GitHub. üòâ

### Emulation and Bugfixes

We want the general behavior of the original programs to be preserved, _however_, we also want to update them, specifically:

- allow both UPPERCASE and lowercase input and display
- incorporate any bugfixes to the original programs; see the `readme.md` in the game folder
- improved error handling for bad or erroneous input

Please note that on the back of the Basic Computer Games book it says **Microsoft 8K Basic, Rev 4.0 was the version David Ahl used to test**, so that is the level of compatibility we are looking for. ¬†QBasic on the DOS emulation is a¬†later version of Basic but one that retains downwards compatibility so far in our testing. To verify behavior, try [running the programs in your browser](https://troypress.com/wp-content/uploads/user/js-basic/index.html) with [JS BASIC, effectively Applesoft BASIC](https://github.com/inexorabletash/jsbasic/).

### Have fun!

Thank you for taking part in this project to update a classic programming book ‚Äì one of the most influential programming books in computing history ‚Äì for 2022 and beyond!

NOTE: per [the official blog post announcement](https://blog.codinghorror.com/updating-the-single-most-influential-book-of-the-basic-era/), I will be **donating $5 for each contributed program in the 10 agreed upon languages to [Girls Who Code](https://girlswhocode.com/)**.

### Current Progress

<details><summary>toggle for game by language table</summary>

| Name                   | csharp | java | javascript | kotlin | lua | perl | python | ruby | rust | vbnet |
| ---------------------- | ------ | ---- | ---------- | ------ | --- | ---- | ------ | ---- | ---- | ----- |
| 01_Acey_Ducey          | x      | x    | x          | x      | x   | x    | x      | x    | x    | x     |
| 02_Amazing             | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 03_Animal              | x      | x    | x          | x      | x   | x    | x      | x    | x    | x     |
| 04_Awari               | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 05_Bagels              | x      | x    | x          | x      | x   | x    | x      | x    | x    | x     |
| 06_Banner              | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 07_Basketball          | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 08_Batnum              | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 09_Battle              | x      | x    | x          |        |     |      | x      |      |      | x     |
| 10_Blackjack           | x      | x    | x          |        |     |      | x      | x    | x    | x     |
| 11_Bombardment         | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 12_Bombs_Away          | x      | x    | x          |        | x   | x    | x      |      |      | x     |
| 13_Bounce              | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 14_Bowling             | x      | x    | x          |        |     | x    | x      |      |      | x     |
| 15_Boxing              | x      | x    | x          |        |     | x    | x      |      |      | x     |
| 16_Bug                 | x      | x    | x          |        |     |      | x      | x    |      | x     |
| 17_Bullfight           | x      |      | x          | x      |     |      | x      |      |      | x     |
| 18_Bullseye            | x      | x    | x          |        |     | x    | x      |      | x    | x     |
| 19_Bunny               | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 20_Buzzword            | x      | x    | x          |        | x   | x    | x      | x    | x    | x     |
| 21_Calendar            | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 22_Change              | x      | x    | x          |        |     | x    | x      |      | x    | x     |
| 23_Checkers            | x      |      | x          |        |     | x    | x      | x    |      | x     |
| 24_Chemist             | x      | x    | x          |        |     | x    | x      |      | x    | x     |
| 25_Chief               | x      | x    | x          |        | x   | x    | x      | x    |      | x     |
| 26_Chomp               | x      | x    | x          |        |     | x    | x      |      |      | x     |
| 27_Civil_War           | x      | x    | x          |        |     |      | x      |      |      | x     |
| 28_Combat              | x      | x    | x          |        |     | x    | x      |      |      | x     |
| 29_Craps               | x      | x    | x          |        | x   | x    | x      | x    | x    | x     |
| 30_Cube                | x      | x    | x          |        |     |      | x      | x    | x    | x     |
| 31_Depth_Charge        | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 32_Diamond             | x      | x    | x          | x      |     | x    | x      | x    | x    | x     |
| 33_Dice                | x      | x    | x          |        | x   | x    | x      | x    | x    | x     |
| 34_Digits              | x      | x    | x          |        |     | x    | x      |      |      | x     |
| 35_Even_Wins           | x      |      | x          |        |     | x    | x      |      | x    | x     |
| 36_Flip_Flop           | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 37_Football            | x      |      | x          |        |     |      | x      |      |      | x     |
| 38_Fur_Trader          | x      | x    | x          |        |     | x    | x      |      |      | x     |
| 39_Golf                | x      |      | x          |        |     |      | x      |      |      | x     |
| 40_Gomoko              | x      | x    | x          |        |     | x    | x      |      |      | x     |
| 41_Guess               | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 42_Gunner              | x      | x    | x          |        |     | x    | x      |      |      | x     |
| 43_Hammurabi           | x      | x    | x          |        |     |      | x      |      |      | x     |
| 44_Hangman             | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 45_Hello               | x      | x    | x          |        | x   | x    | x      | x    |      | x     |
| 46_Hexapawn            | x      |      |            |        |     |      | x      |      |      | x     |
| 47_Hi-Lo               | x      |      | x          | x      | x   | x    | x      | x    | x    | x     |
| 48_High_IQ             | x      | x    | x          |        |     |      | x      |      |      | x     |
| 49_Hockey              | x      |      | x          |        |     |      | x      |      |      | x     |
| 50_Horserace           | x      |      | x          |        |     |      |        |      | x    | x     |
| 51_Hurkle              | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 52_Kinema              | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 53_King                | x      |      | x          |        |     |      | x      |      | x    | x     |
| 54_Letter              | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 55_Life                | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 56_Life_for_Two        | x      | x    | x          |        |     | x    | x      |      |      | x     |
| 57_Literature_Quiz     | x      | x    | x          |        |     | x    | x      |      | x    | x     |
| 58_Love                | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 59_Lunar_LEM_Rocket    | x      |      | x          |        |     |      | x      |      | x    | x     |
| 60_Mastermind          | x      | x    | x          |        |     | x    | x      |      | x    | x     |
| 61_Math_Dice           | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 62_Mugwump             | x      | x    | x          |        |     | x    | x      |      | x    | x     |
| 63_Name                | x      | x    | x          | x      |     | x    | x      | x    |      | x     |
| 64_Nicomachus          | x      | x    | x          |        |     | x    | x      |      | x    | x     |
| 65_Nim                 | x      |      | x          |        |     |      | x      | x    | x    | x     |
| 66_Number              | x      | x    | x          |        |     | x    | x      |      | x    | x     |
| 67_One_Check           | x      | x    | x          |        |     | x    | x      |      |      | x     |
| 68_Orbit               | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 69_Pizza               | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 70_Poetry              | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 71_Poker               | x      | x    | x          |        |     |      |        |      |      | x     |
| 72_Queen               | x      |      | x          |        |     | x    | x      |      | x    | x     |
| 73_Reverse             | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 74_Rock_Scissors_Paper | x      | x    | x          | x      |     | x    | x      | x    | x    | x     |
| 75_Roulette            | x      | x    | x          |        |     | x    | x      |      | x    | x     |
| 76_Russian_Roulette    | x      | x    | x          | x      |     | x    | x      | x    | x    | x     |
| 77_Salvo               | x      |      | x          |        |     |      | x      |      |      | x     |
| 78_Sine_Wave           | x      | x    | x          | x      |     | x    | x      | x    | x    | x     |
| 79_Slalom              | x      |      | x          |        |     |      | x      |      |      | x     |
| 80_Slots               | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 81_Splat               | x      | x    | x          |        |     | x    | x      |      | x    | x     |
| 82_Stars               | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 83_Stock_Market        | x      | x    | x          |        |     |      | x      |      |      | x     |
| 84_Super_Star_Trek     | x      | x    | x          |        |     |      | x      |      | x    | x     |
| 85_Synonym             | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 86_Target              | x      | x    | x          |        |     | x    | x      |      |      | x     |
| 87_3-D_Plot            | x      | x    | x          |        |     | x    | x      | x    |      | x     |
| 88_3-D_Tic-Tac-Toe     | x      |      | x          |        |     |      | x      |      |      | x     |
| 89_Tic-Tac-Toe         | x      | x    | x          | x      |     | x    | x      |      | x    | x     |
| 90_Tower               | x      | x    | x          |        |     | x    | x      |      | x    | x     |
| 91_Train               | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 92_Trap                | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 93_23_Matches          | x      | x    | x          |        |     | x    | x      | x    | x    | x     |
| 94_War                 | x      | x    | x          | x      |     | x    | x      | x    | x    | x     |
| 95_Weekday             | x      | x    | x          |        |     | x    | x      |      | x    | x     |
| 96_Word                | x      | x    | x          |        |     | x    | x      | x    | x    | x     |

</details>


#### Alternate Languages

This folder contains implementations of each program in alternate languages which are _not_ one of the agreed upon 10 languages.

Implementations here are NOT bound to these three criteria:

1. Popular (by TIOBE index)
2. Memory safe
3. Generally considered a 'scripting' language

So for example, (here only) C or PASCAL are allowed. Please still remain faithful to original look-and-feel (console applications).
Try to keep your code portable (unless it is not possible, and then be very explicit about this limitation in your
README and your folder naming).

We welcome additional ports in whatever language you prefer, but these additional ports are for educational purposes only, and do not count towards the donation total at the end of the project.


Please refer to the `readme.md` in the parent folder. 

Each subfolder represents a port of this program to a language which is _not_ one of the agreed upon 10 languages, which are intended to meet these three criteria:

1. Popular (by TIOBE index)
2. Memory safe
3. Generally considered a 'scripting' language

We welcome additional ports, but these additional ports are for educational purposes only.

#### External Links
 - Common Lisp: https://github.com/koalahedron/lisp-computer-games/blob/master/01%20Acey%20Ducey/common-lisp/acey-deucy.lisp
 - PowerShell: https://github.com/eweilnau/basic-computer-games-powershell/blob/main/AceyDucey.ps1


Original source downloaded [from Vintage Basic](http://www.vintage-basic.net/games.html)

Conversion to [C++14](https://en.wikipedia.org/wiki/C%2B%2B14)

The build folder are executables for x86 and x64 systems. Compiled and built using Visual Studio.

# `00_Alternate_Languages/01_Acey_Ducey/c++/source/Aceyducey.cpp`

ËøôÊÆµ‰ª£Á†ÅÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØËÆ©Áî®Êà∑ÂèØ‰ª•ÈÄâÊã©ÊòØÂê¶Ë¶ÅÂºÄÂßãÊ∏∏ÊàèÔºåÂπ∂‰∏îÂú®Ê∏∏Êàè‰∏≠Ê®°ÊãüÁé©ÂÆ∂‰∏éÊ∏∏Êàè‰∏≠ÁöÑÁîµËÑëËøõË°å‰∫§‰∫í„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥Ôºå‰ª£Á†ÅÈ¶ñÂÖà‰ΩøÁî® `<iostream>` Âíå `<time.h>` Â∫ìÊù•‰ªé `time` ÂáΩÊï∞‰∏≠Ëé∑ÂèñÂΩìÂâçÊó∂Èó¥ÔºåÂπ∂Â∞ÜÂÖ∂‰Ωú‰∏∫ÈöèÊú∫Êï∞ÁßçÂ≠ê„ÄÇÁÑ∂ÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ `isPlaying` ÂèòÈáèÊù•Ë°®Á§∫Ê∏∏ÊàèÊòØÂê¶Ê≠£Âú®Áé©„ÄÇÊé•‰∏ãÊù•Ôºå‰ª£Á†ÅËÆæÁΩÆÊ∏∏ÊàèÈáëÈí±ÂÄº‰∏∫ 100ÔºåÂπ∂Ë∞ÉÁî® `WelcomeMessage()` ÂáΩÊï∞Êù•ËæìÂá∫Ê¨¢ËøéÊ∂àÊÅØ„ÄÇ

ËøõÂÖ•Ê∏∏Êàè‰∏ªÂæ™ÁéØÂêéÔºå‰ª£Á†ÅË∞ÉÁî® `Play()` ÂáΩÊï∞Êù•ËÆ©Áé©ÂÆ∂ËøõË°åÊìç‰Ωú„ÄÇÂ¶ÇÊûúÁé©ÂÆ∂ÈÄâÊã©ÁªìÊùüÊ∏∏ÊàèÔºåÁ®ãÂ∫èÂ∞ÜËæìÂá∫ "O.K., HOPE YOU HAD FUN!" Âπ∂ÈÄÄÂá∫Ê∏∏Êàè„ÄÇ

ËØ•‰ª£Á†ÅËøòÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ welcome Ê∂àÊÅØÔºåÁî®‰∫éÂú®Ê∏∏ÊàèÂºÄÂßãÊó∂ËæìÂá∫Ê¨¢ËøéÊ∂àÊÅØ„ÄÇ


```
#include <iostream>
#include <time.h>
#include "Aceyducey.h"


int main()
{
    //Setting Seed for the Random Generator
    srand((unsigned int)time(NULL));
    bool isPlaying(true);
    Money = 100;
    WelcomeMessage();
    while (isPlaying)
    {
        Play(isPlaying);
    }
    printf("O.K., HOPE YOU HAD FUN!\n");
}

```

ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏Ä‰∏™Âêç‰∏∫ "WelcomeMessage" ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éÂú®ÊéßÂà∂Âè∞‰∏≠ËæìÂá∫Ê¨¢ËøéÊ∂àÊÅØ„ÄÇ

ËØ•ÂáΩÊï∞ÂåÖÂê´‰∏Ä‰∏™ for Âæ™ÁéØÔºåÂæ™ÁéØÂèòÈáè i ‰ªé 0 ÈÄíÂ¢ûÂà∞ 24„ÄÇÂú®ÊØè‰∏™Âæ™ÁéØ‰∏≠ÔºåÂáΩÊï∞ËæìÂá∫‰∏Ä‰∏™Á©∫Ê†º„ÄÇ

ÈöèÂêéÔºåÂáΩÊï∞ÂèàÂåÖÂê´‰∏Ä‰∏™ for Âæ™ÁéØÔºåÂæ™ÁéØÂèòÈáè i ‰ªé 0 ÈÄíÂ¢ûÂà∞ 13„ÄÇÂú®ÊØè‰∏™Âæ™ÁéØ‰∏≠ÔºåÂáΩÊï∞‰πüËæìÂá∫‰∏Ä‰∏™Á©∫Ê†º„ÄÇ

ÂáΩÊï∞ÊúÄÂêéÂú®ËæìÂá∫‰∏≠Âä†ÂÖ•‰∫Ü‰ª•‰∏ã‰∏§Ë°åÔºö

"ACEY DUCEY CARD GAME"

"CREATIVE COMPUTING MORRISTOWN, NEW JERSEY"

Ëøô‰∏§Ë°åÊòØÂú®ËæìÂá∫ÂáΩÊï∞‰∏≠Ê∑ªÂä†ÁöÑÔºåÁî®‰∫éÂú®ËæìÂá∫ÁªìÊûú‰∏≠Â¢ûÂä†‰∫Ü‰∏Ä‰∫õÊñáÊú¨Ôºå‰ΩøÂæóÁªìÊûúÊõ¥Âä† "Ê∏∏Êàè" È£éÊ†º„ÄÇ


```
void WelcomeMessage()
{
    for (int i = 0; i < 25; i++)
    {
        printf(" ");
    }
    printf("ACEY DUCEY CARD GAME\n");
    for (int i = 0; i < 14; i++)
    {
        printf(" ");
    }
    printf("CREATIVE COMPUTING  MORRISTOWN, NEW JERSEY\n\n\nACEY-DUCEY IS PLAYED IN THE FOLLOWING MANNER \n");
    printf("THE DEALER (COMPUTER) DEALS TWO CARDS FACE UP\nYOU HAVE AN OPTION TO BET OR NOT BET DEPENDING\n");
    printf("ON WHETHER OR NOT YOU FEEL THE CARD WILL HAVE\nA VALUE BETWEEN THE FIRST TWO.\n");
    printf("IF YOU DO NOT WANT TO BET, INPUT A 0\n");
}

```

ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏Ä‰∏™Âêç‰∏∫ "Play" ÁöÑÂáΩÊï∞ÔºåÂÖ∂‰ΩúÁî®ÊòØËÆ©Áé©ÂÆ∂‰∏ãÊ≥®ÔºåÁÑ∂ÂêéÂÜ≥ÂÆöÊòØÂê¶ÁªßÁª≠Ê∏∏Êàè„ÄÇ

ÂáΩÊï∞È¶ñÂÖàËæìÂá∫Á±ª‰ºº‚ÄúÊàëÁé∞Âú®Êúâ100ÁæéÂÖÉ‚ÄùÁöÑÊèêÁ§∫ÔºåÁÑ∂Âêé‰ªé2Âº†Áâå‰∏≠ÊäΩÂá∫‰∏ÄÂº†ÁâåÂπ∂Â∞ÜÂÖ∂‰∏¢ÂõûÔºåÊé•ÁùÄËØ¢ÈóÆÁé©ÂÆ∂ÊòØÂê¶Ë¶Å‰∏ãÊ≥®„ÄÇÂ¶ÇÊûúÁé©ÂÆ∂‰∏ãÊ≥®ÔºåÁ®ãÂ∫èÊé•‰∏ãÊù•‰ºöÂÜçÊäΩ‰∏ÄÂº†ÁâåÂπ∂Âà§Êñ≠Áé©ÂÆ∂Êâã‰∏≠ÁöÑÁâåÊòØÂê¶Â§ß‰∫éÂ∫ÑÂÆ∂ÁöÑÁâå„ÄÇÂ¶ÇÊûúÊòØÔºåÁé©ÂÆ∂Â∞±Ëµ¢‰∫ÜÔºåÁ®ãÂ∫èÂ∞ÜÂ¢ûÂä†Â∫ÑÂÆ∂ÁöÑËµåÊ≥®ÔºåÂπ∂Â∞ÜËøô‰∫õËµåÊ≥®Âä†Âà∞Â∫ÑÂÆ∂ÁöÑÊÄªËµåÊ≥®‰∏≠„ÄÇÂê¶ÂàôÔºåÁ®ãÂ∫è‰ºöÊ†πÊçÆÂ∫ÑÂÆ∂ÁöÑÁâåÂà§Êñ≠ÊòØÂê¶ËØ•Áé©ÂÆ∂Â§±Ë¥•ÔºåÂπ∂Â∞ÜÂ∫ÑÂÆ∂ÁöÑËµåÊ≥®‰ªéÂΩìÂâçËµåÊ≥®‰∏≠Êâ£Èô§„ÄÇÊúÄÂêéÔºåÂ¶ÇÊûúÊ∏∏ÊàèÁªìÊùüÔºàÈÄöÂ∏∏ÈÄöËøáÁÇπÂáª "YES" Êàñ "NO" ÂÜ≥ÂÆöÔºâÔºåÁ®ãÂ∫èÂ∞ÜÂèñÊ∂àÊ∏∏ÊàèÂπ∂ÊääËµåÊ≥®‰∏≠ÁöÑ‰∏ÄÁôæÁæéÂÖÉËøîÂõûÁªôÁé©ÂÆ∂„ÄÇ

ÊÄª‰πãÔºåËøôÊÆµ‰ª£Á†ÅÁöÑ‰∏ªË¶ÅÁõÆÁöÑÊòØËÆ©Áé©ÂÆ∂‰∏ãÊ≥®Âπ∂ÂÜ≥ÂÆöÊòØÂê¶ÁªßÁª≠Ê∏∏ÊàèÔºå‰ª•ÂèäÂ§ÑÁêÜÊ∏∏ÊàèÁªìÊùüÁöÑÊÉÖÂÜµ„ÄÇ


```
void Play(bool& isPlaying)
{
    short int DealerCards[2];
    int Bet;
    short int CurrentCard;
    printf("YOU NOW HAVE %d DOLLARS.\n\n", Money);
    printf("HERE ARE YOUR NEXT TWO CARDS: \n");

    //Draw Dealers Cards
    DrawCard(DealerCards[0]);
    printf("\n");
    DrawCard(DealerCards[1]);
    printf("\n\n\n");

    //Check if Bet is Valid
    do {
        printf("WHAT IS YOUR BET: ");
        std::cin >> Bet;
        if (Bet == 0)
        {
            printf("CHICKEN!!\n\n");
        }
    } while (Bet > Money || Bet < 0);

    //Draw Players Card
    DrawCard(CurrentCard);
    printf("\n");
    if (CurrentCard > DealerCards[0] && CurrentCard < DealerCards[1])
    {
        printf("YOU WIN!!!\n");
        Money += Bet;
        return;
    }
    else
    {
        printf("SORRY, YOU LOSE\n");
        Money -= Bet;
    }
    if (isGameOver())
    {
        printf("TRY AGAIN (YES OR NO)\n\n");
        std::string response;
        std::cin >> response;
        if (response != "YES")
        {
            isPlaying = false;
        }
        Money = 100;
    }
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫isGameOverÁöÑÂ∏ÉÂ∞îÂèòÈáèÔºåÂÖ∂‰ΩúÁî®ÊòØÂà§Êñ≠Ê∏∏ÊàèÊòØÂê¶ÁªìÊùü„ÄÇÂ¶ÇÊûúMoneyÁöÑÂÄºÂ∞è‰∫é0ÔºåÈÇ£‰πàÊ∏∏ÊàèÁªìÊùüÔºåÁ®ãÂ∫è‰ºöËæìÂá∫‰∏ÄÊù°Ê∂àÊÅØÂπ∂ËøîÂõûtrueÔºåÂê¶ÂàôÔºåÁ®ãÂ∫è‰ºöÁªßÁª≠ÊâßË°å„ÄÇ

Êé•‰∏ãÊù•ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫drawCardÁöÑÂáΩÊï∞ÔºåÂÖ∂‰ΩúÁî®ÊòØ‰ªé‰∏ÄÂâØÁâå‰∏≠ÊäΩÂá∫‰∏ÄÂº†ÁâåÔºåÂπ∂ËæìÂá∫ÊäΩÂá∫ÁöÑÁâåÁöÑÁÇπÊï∞„ÄÇÂáΩÊï∞‰∏≠‰ΩøÁî®‰∫Ü‰∏§‰∏™shortÁ±ªÂûãÁöÑÂèòÈáèÔºå‰∏Ä‰∏™Áî®‰∫éÂ≠òÂÇ®ÁâåÁöÑÁÇπÊï∞ÔºåÂè¶‰∏Ä‰∏™Áî®‰∫éÂ≠òÂÇ®ÈöèÊú∫ÁöÑÁâå„ÄÇÂáΩÊï∞‰∏≠‰ΩøÁî®randÂáΩÊï∞ÁîüÊàê‰∏Ä‰∏™0Âà∞3‰πãÈó¥ÁöÑÈöèÊú∫Êï∞ÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Âä†‰∏äÈöèÊú∫Êï∞2ÔºåÂæóÂà∞‰∏Ä‰∏™Êñ∞ÁöÑÁâåÁöÑÁÇπÊï∞„ÄÇ

Êé•ÁùÄÔºå‰ΩøÁî®switchËØ≠Âè•Âà§Êñ≠ÂæóÂà∞ÁöÑÁâåÁöÑÁÇπÊï∞ÔºåÂπ∂ËæìÂá∫Áõ∏Â∫îÁöÑÁâåÂêç„ÄÇÂ¶ÇÊûúÂæóÂà∞ÁöÑÁâåÁÇπÊï∞‰∏çÊòØ11„ÄÅ12„ÄÅ13Êàñ14‰∏≠ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ÔºåÈÇ£‰πàÁ®ãÂ∫è‰ºöËæìÂá∫ËØ•ÁâåÁÇπÁöÑÊï∞Â≠ó„ÄÇ

ÊúÄÂêéÔºåÊÄªÁªì‰∏Ä‰∏ãÔºåËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âà§Êñ≠Ê∏∏ÊàèÊòØÂê¶ÁªìÊùüÁöÑÂ∏ÉÂ∞îÂèòÈáèÔºå‰ª•Âèä‰∏Ä‰∏™Áî®‰∫é‰ªé‰∏ÄÂâØÁâå‰∏≠ÊäΩÂá∫‰∏ÄÂº†ÁâåÂπ∂ËæìÂá∫ÂÖ∂ÁÇπÊï∞ÁöÑÂáΩÊï∞„ÄÇ


```
bool isGameOver()
{
    if (Money <= 0)
    {
        printf("\n\n");
        printf("SORRY, FRIEND, BUT YOU BLEW YOUR WAD.\n\n");
        return true;
    }
    return false;
}

void DrawCard(short int& Card)
{
    //Basically generate 2 numbers first one is between 2-11 and second one 0-3
    short int RandomNum1 = (rand() % 10) + 2;
    short int RandomNum2 = rand() % 4;
    Card = RandomNum1 + RandomNum2;

    switch (Card)
    {
    case 11:
        printf("JACK");
        break;
    case 12:
        printf("QUEEN");
        break;
    case 13:
        printf("KING");
        break;
    case 14:
        printf("ACE");
        break;
    default:
        printf("%d", Card);
    }
}
```

Original source downloaded from [Vintage Basic](http://www.vintage-basic.net/games.html)

Converted to [D](https://dlang.org/) by [Bastiaan Veelo](https://github.com/veelo).

Two versions are supplied that are functionally equivalent, but differ in source layout:

<dl>
  <dt><tt>aceyducey_literal.d</tt></dt>
  <dd>A largely literal transcription of the original Basic source. All unnecessary uglyness is preserved.</dd>
  <dt><tt>aceyducey.d</tt></dt>
  <dd>An idiomatic D refactoring of the original, with a focus on increasing the readability and robustness.
      Memory-safety <A href="https://dlang.org/spec/memory-safe-d.html">is ensured by the language</a>, thanks to the
      <tt>@safe</tt> annotation.</dd>
</dl>

## Running the code

Assuming the reference [dmd](https://dlang.org/download.html#dmd) compiler:
```shell
dmd -run aceyducey.d
```

[Other compilers](https://dlang.org/download.html) also exist.

Note that there are compiler switches related to memory-safety (`-preview=dip25` and `-preview=dip1000`) that are not
used here because they are unnecessary in this case. What these do is to make the analysis more thorough, so that with
them some code that needed to be `@system` can then be inferred to be in fact `@safe`. [Code that compiles without
these switches is just as safe as when compiled with them]
(https://forum.dlang.org/post/dftgjalswvwfjpyushgn@forum.dlang.org).


# Acey Ducey

This is an Elm implementation of the `Basic Compouter Games` Game Acey Ducey.

## Build App

- install elm

```bash
yarn
yarn build
```


# `00_Alternate_Languages/01_Acey_Ducey/elm/docs/app.js`

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `F` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºö`arity`„ÄÅ`fun` Âíå `wrapper`„ÄÇ

`F` ÂáΩÊï∞ÁöÑÂäüËÉΩÊòØÂ∞Ü `wrapper` ÂØπË±°ÁöÑÊâÄÊúâ `a` Â±ûÊÄßÈÉΩËÆæÁΩÆ‰∏∫ `arity` ÂÄºÔºåÂπ∂Â∞Ü `fun` ÂáΩÊï∞ËÆæÁΩÆ‰∏∫ `wrapper` ÂØπË±°‰∏≠ÁöÑ `f` Â±ûÊÄß„ÄÇÁÑ∂ÂêéÔºåÂÆÉËøîÂõûÁªèËøá `wrapper` ÂØπË±°Ë∞ÉÁî® `fun` ÂáΩÊï∞ÁöÑÁªìÊûú„ÄÇ

`F2` ÂáΩÊï∞ÊòØÂØπ `F` ÂáΩÊï∞ËøõË°åÂπ≥ÊñπÁöÑÁâàÊú¨„ÄÇÂÆÉÂè™Êé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `fun`ÔºåÁÑ∂ÂêéËøîÂõû‰∏Ä‰∏™Êñ∞ÂáΩÊï∞ `F2`ÔºåËøô‰∏™Êñ∞ÂáΩÊï∞Âú®ÂÜÖÈÉ®Ë∞ÉÁî®‰∫Ü‰∏§Ê¨° `F` ÂáΩÊï∞ÔºåÊØèÊ¨°‰º†ÂÖ•‰∏çÂêåÁöÑÂèÇÊï∞ `a`„ÄÇ

`F3` ÂáΩÊï∞ÊòØ `F2` ÂáΩÊï∞ÁöÑÁ´ãÊñπ„ÄÇÂÆÉ‰πüÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `fun`ÔºåÁÑ∂ÂêéÂÜÖÈÉ®Ë∞ÉÁî®‰∫Ü‰∏âÊ¨° `F` ÂáΩÊï∞ÔºåÊØèÊ¨°‰º†ÂÖ•‰∏çÂêåÁöÑÂèÇÊï∞ `a`„ÄÇ


```
(function(scope){
'use strict';

function F(arity, fun, wrapper) {
  wrapper.a = arity;
  wrapper.f = fun;
  return wrapper;
}

function F2(fun) {
  return F(2, fun, function(a) { return function(b) { return fun(a,b); }; })
}
function F3(fun) {
  return F(3, fun, function(a) {
    return function(b) { return function(c) { return fun(a, b, c); }; };
  });
}
```

Ëøô‰∏âÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏â‰∏™ÂáΩÊï∞F4„ÄÅF5ÂíåF6ÔºåÂÆÉ‰ª¨ÁöÑÂÖ±Âêå‰ΩúÁî®ÊòØÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞fun‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÔºåËØ•Êñ∞ÂáΩÊï∞ÂêåÊ†∑Êé•Âèó‰∏Ä‰∏™ÂèÇÊï∞aÔºåÂπ∂ËæìÂá∫‰∏Ä‰∏™Ë∞ÉÁî®ËØ•Êñ∞ÂáΩÊï∞ÁöÑÂáΩÊï∞„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøô‰∏âÊÆµ‰ª£Á†ÅÂàÜÂà´ÂÆûÁé∞‰∫ÜÂ∞Ü‰∏Ä‰∏™ÂåÖÂê´‰∏â‰∏™Êé•ÂèófunÂáΩÊï∞‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞ÔºåÁªÑÂêàÊàê‰∏Ä‰∏™Êõ¥Â§ßÁöÑÂáΩÊï∞ÔºåËøô‰∏™Êñ∞ÂáΩÊï∞ÂêåÊ†∑ÂåÖÂê´‰∏â‰∏™Êé•ÂèófunÂáΩÊï∞‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞ÔºåÂπ∂ËæìÂá∫‰∏Ä‰∏™Ë∞ÉÁî®ËØ•Êñ∞ÂáΩÊï∞ÁöÑÂáΩÊï∞„ÄÇ

‰æãÂ¶ÇÔºåÂΩìË∞ÉÁî®F4(function(a) { return function(b) { return function(c) { return function(d) { return a(b, c, d); } } })Êó∂ÔºåËØ•ÂáΩÊï∞‰ºöÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´‰∏Ä‰∏™Êé•Âèófunction(a)‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞Âíå‰∏Ä‰∏™Êé•Âèófunction(b)‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞ÔºåÂπ∂ËæìÂá∫‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÔºåËØ•Êñ∞ÂáΩÊï∞ÂåÖÂê´‰∏Ä‰∏™Êé•Âèófunction(c)‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞Âíå‰∏Ä‰∏™Êé•Âèófunction(d)‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Ë∞ÉÁî®ÂéüÊù•‰º†ÂÖ•ÁöÑÂáΩÊï∞ÔºåÂπ∂Â∞ÜÂèÇÊï∞a„ÄÅbÂíåc‰º†ÈÄíÁªôËØ•ÂáΩÊï∞„ÄÇ


```
function F4(fun) {
  return F(4, fun, function(a) { return function(b) { return function(c) {
    return function(d) { return fun(a, b, c, d); }; }; };
  });
}
function F5(fun) {
  return F(5, fun, function(a) { return function(b) { return function(c) {
    return function(d) { return function(e) { return fun(a, b, c, d, e); }; }; }; };
  });
}
function F6(fun) {
  return F(6, fun, function(a) { return function(b) { return function(c) {
    return function(d) { return function(e) { return function(f) {
    return fun(a, b, c, d, e, f); }; }; }; }; };
  });
}
```

Ëøô‰∏âÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏â‰∏™ÂáΩÊï∞F7„ÄÅF8ÂíåF9ÔºåÂÆÉ‰ª¨ÈÉΩÊé•Âèó‰∏Ä‰∏™Âçï‰∏ÄÁöÑÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂Â∞ÜËøô‰∏™ÂáΩÊï∞‰º†ÈÄíÁªô‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÊúÄÂêéËøîÂõûËøô‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÁöÑËøîÂõûÂÄº„ÄÇËøô‰∫õÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞Ü‰º†ÂÖ•ÁöÑÂáΩÊï∞Ë∞ÉÁî®Ëá™Ë∫´ÔºåÂπ∂Â∞ÜËøîÂõûÂÄº‰Ωú‰∏∫Êñ∞ÁöÑÂáΩÊï∞‰º†ÈÄíÁªô‰∏ã‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞„ÄÇËøôÁßçÈÄíÂΩíË∞ÉÁî®ÁöÑÊñπÂºèË¢´Áß∞‰∏∫‚ÄúÂõûÂà∞Ë∞ÉÁî®ËÄÖ‚ÄùÁöÑÊñπÂºèÔºå‰πüÂ∞±ÊòØÂ∞ÜÂáΩÊï∞ÁöÑË∞ÉÁî®ËÄÖÊú¨Ë∫´‰º†ÈÄíÁªôÂáΩÊï∞Êú¨Ë∫´„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏â‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÊØè‰∏™ÂÜÖÈÉ®ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™Êï¥Êï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂Âú®Ëøô‰∏™Êï¥Êï∞‰∏äÂ∫îÁî®‰∏ÄÁ≥ªÂàóÁöÑÈÄíÂΩíË∞ÉÁî®„ÄÇËøô‰∫õÈÄíÂΩíË∞ÉÁî®ÁöÑË°®ËææÂºèÈÉΩÂåÖÂê´‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞Êú¨Ë∫´Ôºå‰ª•Âèä‰∏Ä‰∏™Â∞ÜÂèÇÊï∞‰º†ÈÄíÁªôÂÜÖÈÉ®ÂáΩÊï∞ÁöÑÊï¥Êï∞Ë°®ËææÂºè„ÄÇÈÄöËøáËøô‰∫õÈÄíÂΩíË∞ÉÁî®ÔºåÊúÄÁªàËøîÂõû‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞Êú¨Ë∫´ÔºåËøô‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÁöÑÂèÇÊï∞ÊòØ‰º†ÂÖ•ÁöÑÂáΩÊï∞Êú¨Ë∫´„ÄÇ

Âõ†Ê≠§ÔºåËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏ÄÁ≥ªÂàóÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉ‰ª¨Â∞Ü‰ª•ÈÄíÂΩíÁöÑÊñπÂºèË∞ÉÁî®‰º†ÂÖ•ÁöÑÂáΩÊï∞ÔºåÂπ∂Â∞ÜÁªìÊûúËøîÂõûÁªôË∞ÉÁî®ËÄÖ„ÄÇËøô‰∫õÂáΩÊï∞ÂèØ‰ª•Ë¢´Áî®Êù•ÂàõÂª∫Ëá™ÂÆö‰πâÁöÑÂáΩÊï∞Ë∞ÉÁî®Ê†àÔºåÊàñËÄÖÂÆûÁé∞ÂÖ∂‰ªñÂ§çÊùÇÁöÑÂäüËÉΩ„ÄÇ


```
function F7(fun) {
  return F(7, fun, function(a) { return function(b) { return function(c) {
    return function(d) { return function(e) { return function(f) {
    return function(g) { return fun(a, b, c, d, e, f, g); }; }; }; }; }; };
  });
}
function F8(fun) {
  return F(8, fun, function(a) { return function(b) { return function(c) {
    return function(d) { return function(e) { return function(f) {
    return function(g) { return function(h) {
    return fun(a, b, c, d, e, f, g, h); }; }; }; }; }; }; };
  });
}
function F9(fun) {
  return F(9, fun, function(a) { return function(b) { return function(c) {
    return function(d) { return function(e) { return function(f) {
    return function(g) { return function(h) { return function(i) {
    return fun(a, b, c, d, e, f, g, h, i); }; }; }; }; }; }; }; };
  });
}

```



Ëøô‰∫õÂáΩÊï∞ÈÉΩÊòØÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞„ÄÇÂÆÉ‰ª¨ÁöÑÂå∫Âà´Âú®‰∫éÂèÇÊï∞ÁöÑÊï∞ÈáèÂíåÁ±ªÂûãÔºå‰ª•ÂèäËøîÂõûÂÄº„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÊØè‰∏™ÂáΩÊï∞ÈÉΩÂÖ∑Êúâ‰ª•‰∏ãÂ§ßËá¥Áõ∏ÂêåÁöÑÈÄªËæëÔºö

1. Â¶ÇÊûú‰º†ÂÖ•ÁöÑÂáΩÊï∞ `fun` ‰∏≠ÊúâÂèÇÊï∞ `a` Âíå `b`ÔºåÂàôÂÖàË∞ÉÁî® `fun` ‰∏≠ÁöÑ `a` ÂáΩÊï∞ÔºåÂπ∂Â∞ÜÁªìÊûú‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰º†ÂÖ•„ÄÇ
2. Â¶ÇÊûú `fun` ‰∏≠Ê≤°Êúâ‰º†ÂÖ• `a` Âíå `b` ÂáΩÊï∞ÔºåÂàôËøîÂõû `null`„ÄÇ
3. ÂØπ‰∫éÊØè‰∏™ÂáΩÊï∞ÔºåÂ¶ÇÊûú‰º†ÂÖ•ÁöÑÂèÇÊï∞Êï∞ÈáèÁ≠â‰∫éÂáΩÊï∞Ëá™Ë∫´ÁöÑÂèÇÊï∞Êï∞ÈáèÔºåÂàôËøîÂõûË∞ÉÁî® `f` ÂáΩÊï∞ÔºåÂπ∂Â∞Ü‰º†ÂÖ•ÁöÑÂèÇÊï∞‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•„ÄÇÂê¶ÂàôÔºåËøîÂõûË∞ÉÁî® `f` ÂáΩÊï∞ÔºåÂπ∂Â∞Ü `a` Âíå `b` ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•ÔºåÂπ∂Â∞ÜËøîÂõûÂÄº‰Ωú‰∏∫ÂèÇÊï∞ËøîÂõû„ÄÇ

Ëøô‰∫õÂáΩÊï∞ÂèØ‰ª•Áî®Êù•ÂàõÂª∫Êõ¥Âä†ÈÄöÁî®ÂíåÂèØËØªÁöÑÂáΩÊï∞Ôºå‰ΩøÂæóÊàë‰ª¨Âè™ÈúÄË¶ÅÁºñÂÜô‰∏ÄÊ¨°‰ª£Á†ÅÔºåÂ∞±ÂèØ‰ª•Âú®‰∏çÂêåÁöÑ‰∏ä‰∏ãÊñá‰∏≠‰ΩøÁî®Áõ∏ÂêåÁöÑÂáΩÊï∞„ÄÇ


```
function A2(fun, a, b) {
  return fun.a === 2 ? fun.f(a, b) : fun(a)(b);
}
function A3(fun, a, b, c) {
  return fun.a === 3 ? fun.f(a, b, c) : fun(a)(b)(c);
}
function A4(fun, a, b, c, d) {
  return fun.a === 4 ? fun.f(a, b, c, d) : fun(a)(b)(c)(d);
}
function A5(fun, a, b, c, d, e) {
  return fun.a === 5 ? fun.f(a, b, c, d, e) : fun(a)(b)(c)(d)(e);
}
function A6(fun, a, b, c, d, e, f) {
  return fun.a === 6 ? fun.f(a, b, c, d, e, f) : fun(a)(b)(c)(d)(e)(f);
}
```

These are functions that appear to take in a fixed number of arguments `a`, `b`, `c`, `d`, `e`, `f`, `g`, and `h` and `i`, and return a function that takes these arguments in a specific order. 

The idea behind these functions is that they are trying to " augment " the functions `fun`, `A7`, and `A9`, by taking into account the values of the variables `a`, `b`, `c`, `d`, `e`, `f`, `g`, and `h`.

In other words, each of these functions is trying to "augment " the input arguments by pre-defining a function that should be called with the input arguments, and then returning that function instead of the original `fun` function.

For example, the `A7` function takes the input arguments `a`, `b`, `c`, `d`, `e`, `f`, `g`, and returns a function that calls the `f` function with the input arguments, and then returns the result of calling `f` without any arguments.

The `A8` and `A9` functions work in a similar way, but with the input arguments augmented to include the values of the variables `h` and `i`, in addition to `a`, `b`, `c`, `d`, `e`, `f`, `g`, and `h`.


```
function A7(fun, a, b, c, d, e, f, g) {
  return fun.a === 7 ? fun.f(a, b, c, d, e, f, g) : fun(a)(b)(c)(d)(e)(f)(g);
}
function A8(fun, a, b, c, d, e, f, g, h) {
  return fun.a === 8 ? fun.f(a, b, c, d, e, f, g, h) : fun(a)(b)(c)(d)(e)(f)(g)(h);
}
function A9(fun, a, b, c, d, e, f, g, h, i) {
  return fun.a === 9 ? fun.f(a, b, c, d, e, f, g, h, i) : fun(a)(b)(c)(d)(e)(f)(g)(h)(i);
}




// EQUALITY

```

This is a JavaScript function called `_Utils_eq` that compares two values. It takes two arguments, `x` and `y`, and returns a boolean value indicating whether they are equal.

The function uses a depth-first search algorithm to compare the values. The search depth is limited to 100 levels to prevent performance issues.

The function first checks if the input is an object or a function. If the input is an object or a function, it is wrapped in a `_Utils_Tuple2` object and the comparison is skipped.

If the input is a number or a boolean, the function uses the `JSON.stringify` and `JSON.parse` functions to convert the input to a string and parse it back to a number, respectively.

The function then converts both `x` and `y` to a list and pushes them onto a `stack` object. The search depth is increased by 1 for each level of the `stack` object.

The function then iterates through the key-value pairs of the `x` and `y` objects. If a key-value pair is found to be equal, the function returns `true`. If not, the function returns `false`. If the search depth reaches 100, the function will exit the loop and consider the comparison to be false.


```
function _Utils_eq(x, y)
{
	for (
		var pair, stack = [], isEqual = _Utils_eqHelp(x, y, 0, stack);
		isEqual && (pair = stack.pop());
		isEqual = _Utils_eqHelp(pair.a, pair.b, 0, stack)
		)
	{}

	return isEqual;
}

function _Utils_eqHelp(x, y, depth, stack)
{
	if (x === y)
	{
		return true;
	}

	if (typeof x !== 'object' || x === null || y === null)
	{
		typeof x === 'function' && _Debug_crash(5);
		return false;
	}

	if (depth > 100)
	{
		stack.push(_Utils_Tuple2(x,y));
		return true;
	}

	/**_UNUSED/
	if (x.$ === 'Set_elm_builtin')
	{
		x = $elm$core$Set$toList(x);
		y = $elm$core$Set$toList(y);
	}
	if (x.$ === 'RBNode_elm_builtin' || x.$ === 'RBEmpty_elm_builtin')
	{
		x = $elm$core$Dict$toList(x);
		y = $elm$core$Dict$toList(y);
	}
	//*/

	/**/
	if (x.$ < 0)
	{
		x = $elm$core$Dict$toList(x);
		y = $elm$core$Dict$toList(y);
	}
	//*/

	for (var key in x)
	{
		if (!_Utils_eqHelp(x[key], y[key], depth + 1, stack))
		{
			return false;
		}
	}
	return true;
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Utils_equal` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ `x` Âíå `y`ÔºåÂπ∂ËøîÂõûÂÆÉ‰ª¨ÁöÑÊØîËæÉÁªìÊûúÔºåÂèØ‰ª•‰ΩøÁî® `==`„ÄÅ`!=` Êàñ `>`„ÄÅ`<`„ÄÅ`>=`„ÄÅ`<=` ‰∏≠ÁöÑ‰ªªÊÑè‰∏ÄÁßç„ÄÇ

Êé•ÁùÄÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Utils_notEqual` ÁöÑÂáΩÊï∞ÔºåÂÆÉË∑ü `_Utils_equal` Áõ∏ÂèçÔºå‰∏çÂÅö‰ªª‰ΩïÂ§ÑÁêÜÔºå‰ΩÜ‰Ωú‰∏∫ÊØîËæÉËøêÁÆóÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞„ÄÇ

Âú® `_Utils_cmp` ÂáΩÊï∞‰∏≠ÔºåÂØπ‰∏§‰∏™ÂèÇÊï∞ `x` Âíå `y` ËøõË°å‰∫ÜÊØîËæÉ„ÄÇÂ¶ÇÊûú `x` Âíå `y` ‰∏Ä‰∏™ÊòØÂØπË±°ÔºåÂàôÊåâÁÖßÂØπË±°ÁöÑÂéüÁ±ªÂûãËøõË°åÊØîËæÉ„ÄÇÂ¶ÇÊûú `x` Âíå `y` ÈÉΩÊòØÂ≠óÁ¨¶‰∏≤ÔºåÂàôÂ∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢ÊàêÊï∞Â≠óËøõË°åÊØîËæÉ„ÄÇÂê¶ÂàôÔºåÂ¶ÇÊûú `x` Êúâ `$` Â±ûÊÄßÔºåÂàôËÆ§‰∏∫ `x` ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÁÑ∂ÂêéÂØπÊï∞ÁªÑÁöÑÁ¨¨‰∏ÄÂÖÉÁ¥†ËøõË°åÊØîËæÉ„ÄÇÂ¶ÇÊûú `x` Âíå `y` ÁöÑÁ±ªÂûã‰∏çÂêåÔºåÂàôËøîÂõû `-1`„ÄÇ


```
var _Utils_equal = F2(_Utils_eq);
var _Utils_notEqual = F2(function(a, b) { return !_Utils_eq(a,b); });



// COMPARISONS

// Code in Generate/JavaScript.hs, Basics.js, and List.js depends on
// the particular integer values assigned to LT, EQ, and GT.

function _Utils_cmp(x, y, ord)
{
	if (typeof x !== 'object')
	{
		return x === y ? /*EQ*/ 0 : x < y ? /*LT*/ -1 : /*GT*/ 1;
	}

	/**_UNUSED/
	if (x instanceof String)
	{
		var a = x.valueOf();
		var b = y.valueOf();
		return a === b ? 0 : a < b ? -1 : 1;
	}
	//*/

	/**/
	if (typeof x.$ === 'undefined')
	//*/
	/**_UNUSED/
	if (x.$[0] === '#')
	//*/
	{
		return (ord = _Utils_cmp(x.a, y.a))
			? ord
			: (ord = _Utils_cmp(x.b, y.b))
				? ord
				: _Utils_cmp(x.c, y.c);
	}

	// traverse conses until end of a list or a mismatch
	for (; x.b && y.b && !(ord = _Utils_cmp(x.a, y.a)); x = x.b, y = y.b) {} // WHILE_CONSES
	return ord || (x.b ? /*GT*/ 1 : y.b ? /*LT*/ -1 : /*EQ*/ 0);
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫ÜÂõõ‰∏™ÂáΩÊï∞ÔºåÂÆÉ‰ª¨ÈÉΩÊé•Âèó‰∏§‰∏™ÂèÇÊï∞aÂíåbÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÊØîËæÉÁªìÊûúÔºåÁî®‰∫éÊØîËæÉaÂíåbÁöÑÂ§ßÂ∞èÂÖ≥Á≥ª„ÄÇËøôÈáå‰ΩøÁî®‰∫ÜJavaScript‰∏≠ÁöÑÂáΩÊï∞ÂºèÁºñÁ®ãÈ£éÊ†º„ÄÇ

Á¨¨‰∏Ä‰∏™ÂáΩÊï∞Ôºö`var _Utils_lt`ÔºåÊØîËæÉÁöÑÊòØaÂíåbÁöÑÂ§ßÂ∞èÂÖ≥Á≥ªÔºåÂ¶ÇÊûúaÂ∞è‰∫ébÔºåËøîÂõûË¥üÊï∞ÔºåÂê¶ÂàôËøîÂõû0„ÄÇ

Á¨¨‰∫å‰∏™ÂáΩÊï∞Ôºö`var _Utils_le`ÔºåÊØîËæÉÁöÑÊòØaÂíåbÁöÑÂ§ßÂ∞èÂÖ≥Á≥ªÔºåÂ¶ÇÊûúaÂ∞è‰∫ébÔºåËøîÂõûË¥üÊï∞ÔºåÂê¶ÂàôËøîÂõû0„ÄÇ‰∏éÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞ÁöÑÂå∫Âà´Âú®‰∫éÔºåÂ¶ÇÊûúa‰∏çÂ∞è‰∫ébÔºåÁ¨¨‰∫å‰∏™ÂáΩÊï∞‰ºöËøîÂõû0ÔºåËÄå‰∏çÊòØË¥üÊï∞„ÄÇ

Á¨¨‰∏â‰∏™ÂáΩÊï∞Ôºö`var _Utils_gt`ÔºåÊØîËæÉÁöÑÊòØaÂíåbÁöÑÂ§ßÂ∞èÂÖ≥Á≥ªÔºåÂ¶ÇÊûúaÂ§ß‰∫ébÔºåËøîÂõûÊ≠£Êï∞ÔºåÂê¶ÂàôËøîÂõû0„ÄÇ

Á¨¨Âõõ‰∏™ÂáΩÊï∞Ôºö`var _Utils_ge`ÔºåÊØîËæÉÁöÑÊòØaÂíåbÁöÑÂ§ßÂ∞èÂÖ≥Á≥ªÔºåÂ¶ÇÊûúaÂ§ß‰∫ébÔºåËøîÂõûÊ≠£Êï∞ÔºåÂê¶ÂàôËøîÂõû0„ÄÇ‰∏éÁ¨¨‰∏â‰∏™ÂáΩÊï∞ÁöÑÂå∫Âà´Âú®‰∫éÔºåÂ¶ÇÊûúa‰∏çÂ§ß‰∫ébÔºåÁ¨¨Âõõ‰∏™ÂáΩÊï∞‰ºöËøîÂõû0ÔºåËÄå‰∏çÊòØÊ≠£Êï∞„ÄÇ

Á¨¨‰∫î‰∏™ÂáΩÊï∞Ôºö`var _Utils_compare`ÔºåÊØîËæÉÁöÑÊòØ‰∏§‰∏™Êï∞ÁöÑÂ§ßÂ∞èÂÖ≥Á≥ªÔºåÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Â∞è‰∫éÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåËøîÂõû-1ÔºõÂ¶ÇÊûúÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Â§ß‰∫éÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåËøîÂõû1ÔºõÂ¶ÇÊûú‰∏§‰∏™ÂèÇÊï∞Áõ∏Á≠âÔºåËøîÂõû0„ÄÇ

ÊúÄÂêéÔºåÂú®‰ª£Á†ÅÁöÑÊúÄÂêéÈÉ®ÂàÜÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫`_Utils_Tuple0`ÁöÑÂ∏∏ÈáèÔºåÂÆÉÁöÑÂÄº‰∏∫0„ÄÇ


```
var _Utils_lt = F2(function(a, b) { return _Utils_cmp(a, b) < 0; });
var _Utils_le = F2(function(a, b) { return _Utils_cmp(a, b) < 1; });
var _Utils_gt = F2(function(a, b) { return _Utils_cmp(a, b) > 0; });
var _Utils_ge = F2(function(a, b) { return _Utils_cmp(a, b) >= 0; });

var _Utils_compare = F2(function(x, y)
{
	var n = _Utils_cmp(x, y);
	return n < 0 ? $elm$core$Basics$LT : n ? $elm$core$Basics$GT : $elm$core$Basics$EQ;
});


// COMMON VALUES

var _Utils_Tuple0 = 0;
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫ÜÂõõ‰∏™ÂáΩÊï∞Ôºö`_Utils_Tuple2`„ÄÅ`_Utils_Tuple3`„ÄÅ`_Utils_chr` Âíå `_Utils_update`„ÄÇÂÆÉ‰ª¨ÁöÑÂÖ∑‰Ωì‰ΩúÁî®Â¶Ç‰∏ãÔºö

1. `_Utils_Tuple2`ÔºöÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÁöÑÂÖÉÁªÑÔºåÁ¨¨‰∏Ä‰∏™Â±ûÊÄß‰∏é‰º†ÂÖ•ÁöÑÂèÇÊï∞ `a` Áõ∏ÂêåÔºåÁ¨¨‰∫å‰∏™Â±ûÊÄß‰∏é‰º†ÂÖ•ÁöÑÂèÇÊï∞ `b` Áõ∏Âêå„ÄÇ

2. `_Utils_Tuple2_UNUSED`ÔºöÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÁöÑÂÖÉÁªÑÔºåÁ¨¨‰∏Ä‰∏™Â±ûÊÄß‰∏é‰º†ÂÖ•ÁöÑÂèÇÊï∞ `a` Áõ∏ÂêåÔºåÁ¨¨‰∫å‰∏™Â±ûÊÄß‰ΩøÁî®‰∫Ü `#2` Âà´ÂêçÔºåÂàùÂßãÂÄº‰∏∫‰º†ÂÖ•ÂèÇÊï∞ `a`ÔºåÂêåÊó∂ `b` Â±ûÊÄß‰πüË¢´Ë¶ÜÁõñ„ÄÇ

3. `_Utils_Tuple3`ÔºöÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´‰∏â‰∏™Â±ûÊÄßÁöÑÂÖÉÁªÑÔºåÁ¨¨‰∏Ä‰∏™Â±ûÊÄß‰∏é‰º†ÂÖ•ÁöÑÂèÇÊï∞ `a` Áõ∏ÂêåÔºåÁ¨¨‰∫å‰∏™Â±ûÊÄß‰∏é‰º†ÂÖ•ÁöÑÂèÇÊï∞ `b` Áõ∏ÂêåÔºåÁ¨¨‰∏â‰∏™Â±ûÊÄß‰∏é‰º†ÂÖ•ÁöÑÂèÇÊï∞ `c` Áõ∏Âêå„ÄÇ

4. `_Utils_Tuple3_UNUSED`ÔºöÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´‰∏â‰∏™Â±ûÊÄßÁöÑÂÖÉÁªÑÔºåÁ¨¨‰∏Ä‰∏™Â±ûÊÄß‰∏é‰º†ÂÖ•ÁöÑÂèÇÊï∞ `a` Áõ∏ÂêåÔºåÁ¨¨‰∫å‰∏™Â±ûÊÄß‰ΩøÁî®‰∫Ü `#3` Âà´ÂêçÔºåÂàùÂßãÂÄº‰∏∫‰º†ÂÖ•ÂèÇÊï∞ `a`ÔºåÂêåÊó∂ `b` Â±ûÊÄß‰πüË¢´Ë¶ÜÁõñÔºåÁ¨¨‰∏â‰∏™Â±ûÊÄß‰∏é‰º†ÂÖ•ÁöÑÂèÇÊï∞ `c` Áõ∏Âêå„ÄÇ

5. `_Utils_chr`ÔºöÂàõÂª∫‰∏Ä‰∏™ÊñπÊ≥ïÔºåÊé•Êî∂‰∏Ä‰∏™Â≠óÁ¨¶‰Ωú‰∏∫ÂèÇÊï∞ÔºåËøîÂõûËØ•Â≠óÁ¨¶„ÄÇ

6. `_Utils_chr_UNUSED`ÔºöÂàõÂª∫‰∏Ä‰∏™ÊñπÊ≥ïÔºåÊé•Êî∂‰∏Ä‰∏™Â≠óÁ¨¶‰Ωú‰∏∫ÂèÇÊï∞Ôºå‰ΩøÁî® `String` ÂØπË±°ÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´ËØ•Â≠óÁ¨¶ÁöÑÂ≠óÁ¨¶‰∏≤ÂØπË±°ÔºåÂπ∂ËøîÂõûËØ•ÂØπË±°„ÄÇ


```
var _Utils_Tuple0_UNUSED = { $: '#0' };

function _Utils_Tuple2(a, b) { return { a: a, b: b }; }
function _Utils_Tuple2_UNUSED(a, b) { return { $: '#2', a: a, b: b }; }

function _Utils_Tuple3(a, b, c) { return { a: a, b: b, c: c }; }
function _Utils_Tuple3_UNUSED(a, b, c) { return { $: '#3', a: a, b: b, c: c }; }

function _Utils_chr(c) { return c; }
function _Utils_chr_UNUSED(c) { return new String(c); }


// RECORDS

function _Utils_update(oldRecord, updatedFields)
{
	var newRecord = {};

	for (var key in oldRecord)
	{
		newRecord[key] = oldRecord[key];
	}

	for (var key in updatedFields)
	{
		newRecord[key] = updatedFields[key];
	}

	return newRecord;
}


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Utils_ap` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ `xs` Âíå `ys`ÔºåÂπ∂ËøîÂõûÂÆÉ‰ª¨ÁöÑÂπ∂Â≠óÁ¨¶‰∏≤„ÄÇ

ÂáΩÊï∞‰Ωì‰∏≠È¶ñÂÖàÊ£ÄÊü• `xs` ÁöÑÁ±ªÂûãÔºåÂ¶ÇÊûúÂÆÉÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÈÇ£‰πàÂáΩÊï∞Â∞ÜËøîÂõû `xs` Âíå `ys` ÁöÑÂíå„ÄÇÂê¶ÂàôÔºåÂ¶ÇÊûú `xs` ÊòØ‰∏Ä‰∏™ÂàóË°®ÔºåÈÇ£‰πàÂáΩÊï∞Â∞ÜËøîÂõû `ys`ÔºåÂõ†‰∏∫ÂàóË°®ÁöÑÂπ∂‰ªçÁÑ∂ÊòØ‰∏Ä‰∏™ÂàóË°®„ÄÇ

Êé•‰∏ãÊù•ÔºåÂáΩÊï∞ÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_List_Cons` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ `xs` Âíå `ys`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÊåáÂêë `root` ÁöÑÂàóË°®„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÂÆûÁé∞‰∫Ü‰∏§‰∏™Âæ™ÁéØÔºåÁ¨¨‰∏Ä‰∏™Âæ™ÁéØÂ∞Ü `xs` ÁöÑ `b` ÂÖÉÁ¥†Ê∑ªÂä†Âà∞Ê†πÂàóË°®‰∏≠ÔºåÁ¨¨‰∫å‰∏™Âæ™ÁéØÂ∞Ü `xs` ‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†Ôºà‰∏çÂåÖÊã¨ `b` ÂÖÉÁ¥†ÔºâÊ∑ªÂä†Âà∞Ê†πÂàóË°®‰∏≠„ÄÇ

ÊúÄÂêéÔºåÂáΩÊï∞Â∞ÜÊ†πÂàóË°®ËøîÂõûÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Âú®ÈúÄË¶ÅÊó∂Âä®ÊÄÅÂú∞Ê∑ªÂä†ÂÖÉÁ¥†Âà∞Ê†πÂàóË°®‰∏≠„ÄÇ


```
// APPEND

var _Utils_append = F2(_Utils_ap);

function _Utils_ap(xs, ys)
{
	// append Strings
	if (typeof xs === 'string')
	{
		return xs + ys;
	}

	// append Lists
	if (!xs.b)
	{
		return ys;
	}
	var root = _List_Cons(xs.a, ys);
	xs = xs.b
	for (var curr = root; xs.b; xs = xs.b) // WHILE_CONS
	{
		curr = curr.b = _List_Cons(xs.a, ys);
	}
	return root;
}



```

ËØ•‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_List_Nil` ÁöÑÂØπË±°ÔºåÂÖ∂ÂÄº‰∏∫ 0„ÄÇÊé•ÁùÄÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_List_Nil_UNUSED` ÁöÑÂØπË±°ÔºåÂÖ∂ÂÄº‰∏∫ `[]`„ÄÇÁÑ∂ÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_List_Cons` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞ `hd` Âíå `tl`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÁöÑÂØπË±°„ÄÇÂÖ∂‰∏≠Â±ûÊÄß `$` ÁöÑÂÄº‰∏∫ 1ÔºåÂ±ûÊÄß `a` ÁöÑÂÄº‰∏∫‰º†ÂÖ•ÁöÑÂèÇÊï∞ `hd`ÔºåÂ±ûÊÄß `b` ÁöÑÂÄº‰∏∫‰º†ÂÖ•ÁöÑÂèÇÊï∞ `tl`„ÄÇÊé•ÁùÄÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_List_Cons_UNUSED` ÁöÑÂáΩÊï∞Ôºå‰∏é‰∏äÈù¢ÂáΩÊï∞ÂêçÁß∞Á±ª‰ººÔºå‰ΩÜÂ±ûÊÄß `a` ÁöÑÂÄº‰∏∫ `::`ÔºåÂ±ûÊÄß `b` ÁöÑÂÄº‰ªç‰∏∫ `::`„ÄÇÊúÄÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_List_fromArray` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™Êï∞ÁªÑÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Âè™ÂåÖÂê´‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑ `_List_Nil` ÂØπË±°„ÄÇËØ•ÂáΩÊï∞‰ΩøÁî®‰∫Ü‰∏Ä‰∏™Âæ™ÁéØÊù•ÈÅçÂéÜËæìÂÖ•ÁöÑÊï∞ÁªÑÔºåÊØèÊ¨°Â∞ÜÂΩìÂâçÂÖÉÁ¥†‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰º†ÈÄíÁªô `_List_Cons` ÂáΩÊï∞ÔºåÂπ∂Â∞ÜËøîÂõûÁöÑÁªìÊûúËµãÂÄºÁªôÁ¨¨‰∏Ä‰∏™Â±ûÊÄß `a`ÔºåÂ∞ÜÁ¨¨‰∫å‰∏™ÂèÇÊï∞ `out` ‰Ωú‰∏∫Á¨¨‰∏â‰∏™ÂèÇÊï∞‰º†ÈÄíÁªô `_List_Cons` ÂáΩÊï∞ÔºåÂπ∂Â∞ÜËøîÂõûÁöÑÁªìÊûúËµãÂÄºÁªôÁ¨¨‰∫å‰∏™Â±ûÊÄß `b`„ÄÇËøôÊ†∑ÊúÄÁªàÂæóÂà∞ÁöÑ `_List_fromArray` ÂáΩÊï∞ÂèØ‰ª•Êñπ‰æøÂú∞ÂàõÂª∫Âè™ÂåÖÂê´ËæìÂÖ•Êï∞ÁªÑÂÖÉÁ¥†ÁöÑ `_List_Nil` ÂØπË±°„ÄÇ


```
var _List_Nil = { $: 0 };
var _List_Nil_UNUSED = { $: '[]' };

function _List_Cons(hd, tl) { return { $: 1, a: hd, b: tl }; }
function _List_Cons_UNUSED(hd, tl) { return { $: '::', a: hd, b: tl }; }


var _List_cons = F2(_List_Cons);

function _List_fromArray(arr)
{
	var out = _List_Nil;
	for (var i = arr.length; i--; )
	{
		out = _List_Cons(arr[i], out);
	}
	return out;
}

```

ËØ•‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_List_toArray` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂèØËø≠‰ª£ÂØπË±° `xs` ‰Ωú‰∏∫ÂèÇÊï∞„ÄÇËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞Ü `xs` ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÂÄºÂ≠òÂÇ®Âú®‰∏Ä‰∏™Êñ∞Êï∞ÁªÑ `out` ‰∏≠ÔºåÊñ∞Êï∞ÁªÑÁöÑÈïøÂ∫¶‰∏é `xs` ‰∏≠ÁöÑÂÖÉÁ¥†Êï∞ÈáèÁõ∏Âêå„ÄÇ

ÂáΩÊï∞‰Ωì‰∏≠‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ while Âæ™ÁéØÂíå‰∏Ä‰∏™ for Âæ™ÁéØ„ÄÇÂÖ∂‰∏≠Ôºåwhile Âæ™ÁéØÁî®‰∫éÈÅçÂéÜ `xs` ‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜÂÖ∂ÂÄºÂ≠òÂÇ®Âà∞Êñ∞Êï∞ÁªÑ `out` ‰∏≠„ÄÇfor Âæ™ÁéØÁî®‰∫éÈÅçÂéÜ `ys` ‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜÂÖ∂‰∏é `f` ËøõË°å‰ΩúÁî®ÔºåÂæóÂà∞‰∏Ä‰∏™Êñ∞ÁöÑÂÖÉÁ¥†ÂÄºÔºåËØ•ÂÄºÂ≠òÂÇ®Âú®Êñ∞Êï∞ÁªÑ `arr` ‰∏≠„ÄÇ

ÊúÄÁªàÔºåÂáΩÊï∞ËøîÂõûÊñ∞Êï∞ÁªÑ `arr`„ÄÇ

ËØ•ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ÂèØËø≠‰ª£ÂØπË±° `xs` ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞Êï∞ÁªÑ `out`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®‰∫Ü‰∏§‰∏™Âæ™ÁéØÔºåÁ¨¨‰∏Ä‰∏™Âæ™ÁéØÈÅçÂéÜ `xs` ‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÁ¨¨‰∫å‰∏™Âæ™ÁéØÈÅçÂéÜ `ys` ‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜÂÖ∂‰∏é `f` ËøõË°å‰ΩúÁî®ÔºåÂæóÂà∞‰∏Ä‰∏™Êñ∞ÁöÑÂÖÉÁ¥†ÂÄºÔºåËØ•ÂÄºÂ≠òÂÇ®Âú®Êñ∞Êï∞ÁªÑ `arr` ‰∏≠„ÄÇ


```
function _List_toArray(xs)
{
	for (var out = []; xs.b; xs = xs.b) // WHILE_CONS
	{
		out.push(xs.a);
	}
	return out;
}

var _List_map2 = F3(function(f, xs, ys)
{
	for (var arr = []; xs.b && ys.b; xs = xs.b, ys = ys.b) // WHILE_CONSES
	{
		arr.push(A2(f, xs.a, ys.a));
	}
	return _List_fromArray(arr);
});

```

Ëøô‰∏§ÊÆµ‰ª£Á†ÅÈÉΩÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_List_map3` ÁöÑÂáΩÊï∞ÂèòÈáèÔºå‰ΩÜÂÖ∂‰ΩúÁî®ÊòØÂ∞Ü‰∏Ä‰∏™ÂõõÂÖÉÊï∞ÁªÑ `xs`„ÄÅ`ys` Âíå `zs` ‰∏≠ÁöÑÂÖÉÁ¥†ÈÄöËøáË∞ÉÁî®ÂáΩÊï∞ `A3` Âíå `A4` Â§öÊ¨°ÔºåÂπ∂Â∞ÜÁªìÊûúËøîÂõû„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøô‰∏§ÊÆµ‰ª£Á†ÅÈÉΩ‰ΩøÁî®‰∫Ü `WHILE_CONSES` Âæ™ÁéØÔºåÂú®ÊØèÊ¨°Ëø≠‰ª£‰∏≠ÔºåÂ∞Ü `xs`„ÄÅ`ys` Âíå `zs` ‰∏≠ÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†Â≠òÂÇ®Âà∞Êñ∞ÁöÑÊï∞ÁªÑ `arr` ‰∏≠„ÄÇÂú®Âæ™ÁéØÊù°‰ª∂‰∏≠Ôºå‰ΩøÁî®‰∫Ü `&&` ËøûÊé•Â§ö‰∏™Êù°‰ª∂ÔºåË°®Á§∫Âè™ÊúâÂΩìÊâÄÊúâÊù°‰ª∂ÈÉΩ‰∏∫ `true` Êó∂ÔºåÊâç‰ºöÁªßÁª≠Âæ™ÁéØ„ÄÇ

Âú® `_List_map3` ÁöÑÂáΩÊï∞ÂÆö‰πâ‰∏≠Ôºå‰ΩøÁî®‰∫Ü `var arr = [];` Êù•Â£∞Êòé‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÁªÑ `arr`ÔºåÁî®‰∫éÂ≠òÂÇ®ÂõõÂÖÉÊï∞ÁªÑ `xs`„ÄÅ`ys` Âíå `zs` ÁöÑÂÖÉÁ¥†„ÄÇÁÑ∂ÂêéÔºåÂú®Âæ™ÁéØ‰ΩìÂÜÖÔºå‰ΩøÁî®‰∫Ü `for (var arr = []; xs.b && ys.b && zs.b; xs = xs.b, ys = ys.b, zs = zs.b)` Êù•Âæ™ÁéØÈÅçÂéÜ `xs`„ÄÅ`ys` Âíå `zs` ‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨Â≠òÂÇ®Âà∞ `arr` ‰∏≠„ÄÇ

Âú® `_List_map4` ÁöÑÂáΩÊï∞ÂÆö‰πâ‰∏≠Ôºå‰ΩøÁî®‰∫Ü‰∏é `_List_map3` Á±ª‰ººÁöÑÊñπÂºèÔºå‰ΩÜÊòØÂèòÈáèÂêçÂíåÂèÇÊï∞ÂàóË°®‰∏çÂêå„ÄÇÂÖ∂Âæ™ÁéØÊù°‰ª∂‰∏∫ `ws.b && xs.b && ys.b && zs.b`Ôºå‰ΩøÁî®‰∫Ü `&&` ËøûÊé•Â§ö‰∏™Êù°‰ª∂ÔºåË°®Á§∫Âè™ÊúâÂΩìÊâÄÊúâÊù°‰ª∂ÈÉΩ‰∏∫ `true` Êó∂ÔºåÊâç‰ºöÁªßÁª≠Âæ™ÁéØ„ÄÇ

ÂÖ∂Âæ™ÁéØ‰ΩìÂÜÖ‰ΩøÁî®‰∫Ü `for (var arr = []; ws.b ? xs.a && ys.a && zs.a : undefined; ws = ws.b, xs = xs.b, ys = ys.b, zs = zs.b)` Êù•Âæ™ÁéØÈÅçÂéÜ `ws`„ÄÅ`xps` Âíå `ys` ‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨Â≠òÂÇ®Âà∞ `arr` ‰∏≠„ÄÇÂÖ∂‰∏≠Ôºå‰ΩøÁî®‰∫Ü `? :` ËØ≠Ê≥ïÊù•ÁÆÄÂåñË°®ËææÂºèÔºåË°®Á§∫Â¶ÇÊûú `ws.b` ‰∏∫ `true`ÔºåÂàôÂ∞Ü `xps.a`„ÄÅ`ys.a` Âíå `zs.a` ÁöÑÂÄºÂ≠òÂÇ®Âà∞ `arr` ‰∏≠ÔºõÂê¶ÂàôÔºåÂ∞ÜÁªìÊûúÁΩÆ‰∏∫ `undefined`„ÄÇ


```
var _List_map3 = F4(function(f, xs, ys, zs)
{
	for (var arr = []; xs.b && ys.b && zs.b; xs = xs.b, ys = ys.b, zs = zs.b) // WHILE_CONSES
	{
		arr.push(A3(f, xs.a, ys.a, zs.a));
	}
	return _List_fromArray(arr);
});

var _List_map4 = F5(function(f, ws, xs, ys, zs)
{
	for (var arr = []; ws.b && xs.b && ys.b && zs.b; ws = ws.b, xs = xs.b, ys = ys.b, zs = zs.b) // WHILE_CONSES
	{
		arr.push(A4(f, ws.a, xs.a, ys.a, zs.a));
	}
	return _List_fromArray(arr);
});

```

ËøôÊòØ‰∏Ä‰∏™Áî® JavaScript ÁºñÂÜôÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_List_map5` ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éÂØπ‰∏Ä‰∏™Êï∞ÁªÑËøõË°åÊéíÂ∫èÂíåmapÊìç‰Ωú„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ `f`Ôºå‰∏Ä‰∏™Â§ñÈÉ®ÂáΩÊï∞ `ws`Ôºå‰∏Ä‰∏™Â§ñÈÉ®ÂáΩÊï∞ `xs` Âíå‰∏Ä‰∏™Â§ñÈÉ®ÂáΩÊï∞ `ys`ÔºåËøô‰∫õÂáΩÊï∞ÈÉΩÊòØ‰º†ÈÄíÁªô `_List_map5` ÁöÑÂèÇÊï∞„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ while Âæ™ÁéØÂíå‰∏Ä‰∏™ return ËØ≠Âè•ÔºåÂÖ∂‰∏≠ÁöÑÂæ™ÁéØÊù°‰ª∂‰∏∫ `vs.b && ws.b && xs.b && ys.b && zs.b; vs = vs.b, ws = ws.b, xs = xs.b, ys = ys.b, zs = zs.b)`ÔºåË°®Á§∫Âè™Ë¶ÅËæìÂÖ•ÁöÑÊï∞ÁªÑ `xs`Ôºå`ws`Ôºå`ys` Âíå `zs` ‰∏≠ÁöÑ‰ªªÊÑè‰∏Ä‰∏™‰∏çÁ≠â‰∫é `null`ÔºåÂ∞±ÁªßÁª≠ÊâßË°åÂæ™ÁéØ‰ΩìÂÜÖÁöÑ‰ª£Á†Å„ÄÇÂæ™ÁéØ‰ΩìÂÜÖÁöÑ‰ª£Á†ÅÈ¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `arr` ÁöÑÁ©∫Êï∞ÁªÑÔºåÁÑ∂Âêé‰ΩøÁî® `A5` ÂáΩÊï∞ÂØπËæìÂÖ•ÁöÑÂèÇÊï∞ `f`Ôºå`vs.a`Ôºå`ws.a`Ôºå`x


```
var _List_map5 = F6(function(f, vs, ws, xs, ys, zs)
{
	for (var arr = []; vs.b && ws.b && xs.b && ys.b && zs.b; vs = vs.b, ws = ws.b, xs = xs.b, ys = ys.b, zs = zs.b) // WHILE_CONSES
	{
		arr.push(A5(f, vs.a, ws.a, xs.a, ys.a, zs.a));
	}
	return _List_fromArray(arr);
});

var _List_sortBy = F2(function(f, xs)
{
	return _List_fromArray(_List_toArray(xs).sort(function(a, b) {
		return _Utils_cmp(f(a), f(b));
	}));
});

```

ËøôÊòØ‰∏ÄÊÆµ JavaScript ‰ª£Á†ÅÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_List_sortWith` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÂáΩÊï∞ `f` Âíå‰∏Ä‰∏™Êï∞ÁªÑ `xs`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÈÄöËøáË∞ÉÁî®Âè¶‰∏Ä‰∏™ÂáΩÊï∞ `_List_fromArray` ÂØπ `xs` Êï∞ÁªÑËøõË°åÊéíÂ∫èÔºåÊéíÂ∫èÂêéÁöÑÁªìÊûúÂ≠òÂÇ®ÂõûÂéüÊï∞ÁªÑ `xs` ‰∏≠„ÄÇ

ÊéíÂ∫èËßÑÂàôÂ¶Ç‰∏ãÔºö

1. Â¶ÇÊûú `f` ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞ `a` Âíå `b`ÔºåÂàôËÆ°ÁÆóÂÆÉ‰ª¨‰πãÈó¥ÁöÑ `ord` ÂÄº„ÄÇ
2. Â¶ÇÊûú `ord` ‰∏çÁ≠â‰∫é `$elm$core$Basics$EQ`Ôºå‰πü‰∏çÁ≠â‰∫é `$elm$core$Basics$LT`ÔºåÂàôÔºö
	* Â¶ÇÊûú `ord` Â§ß‰∫éÁ≠â‰∫é `$elm$core$Basics$LT`ÔºåÈÇ£‰πà `-1` ‰Ωú‰∏∫ÁªìÊûúËøîÂõû„ÄÇ
	* Â¶ÇÊûú `ord` Â∞è‰∫é `$elm$core$Basics$LT`ÔºåÈÇ£‰πà `0` ‰Ωú‰∏∫ÁªìÊûúËøîÂõû„ÄÇ
	* Â¶ÇÊûú `ord` Á≠â‰∫é `$elm$core$Basics$LT`ÔºåÈÇ£‰πà `0` ‰Ωú‰∏∫ÁªìÊûúËøîÂõû„ÄÇ

‰ª£Á†Å‰∏≠ËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_JsArray_empty` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `value`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Á©∫Êï∞ÁªÑ„ÄÇ

ËøôÊÆµ‰ª£Á†ÅÁöÑ‰ΩúÁî®ÊòØÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_List_sortWith` ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éÂØπ‰∏Ä‰∏™Êï∞ÁªÑ `xs` ËøõË°åÊéíÂ∫èÔºåÂπ∂ÂØπÊéíÂ∫èÁªìÊûúËøõË°åÁõ∏Â∫îÁöÑÂ§ÑÁêÜ„ÄÇ


```
var _List_sortWith = F2(function(f, xs)
{
	return _List_fromArray(_List_toArray(xs).sort(function(a, b) {
		var ord = A2(f, a, b);
		return ord === $elm$core$Basics$EQ ? 0 : ord === $elm$core$Basics$LT ? -1 : 1;
	}));
});



var _JsArray_empty = [];

function _JsArray_singleton(value)
{
    return [value];
}

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_JsArray_length`ÔºåÂÖ∂‰ΩúÁî®ÊòØËøîÂõû‰∏Ä‰∏™ JavaScript Êï∞ÁªÑÔºàÊàñÊôÆÈÄöÂØπË±°Ôºâ‰∏≠ÂÖÉÁ¥†ÁöÑÊï∞Èáè„ÄÇ

ÂáΩÊï∞‰Ωì‰∏≠ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ `_JsArray_initialize`ÔºåÂÖ∂Êé•Êî∂‰∏â‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™Â§ßÂ∞èÔºàÈùûÂøÖÈúÄÔºâ„ÄÅ‰∏Ä‰∏™ÂÅèÁßªÈáèÔºàÈùûÂøÖÈúÄÔºâÂíå‰∏Ä‰∏™ÂáΩÊï∞Ë°®ËææÂºè„ÄÇËøô‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÁªÑÔºàÊàñÂØπË±°ÔºâÊó∂ÊâßË°åÊâÄÈúÄÁöÑÂàùÂßãÂåñÊìç‰ΩúÔºåÂπ∂ËøîÂõûÁªìÊûú„ÄÇ

Âú® `_JsArray_initialize` ÁöÑÂÜÖÈÉ®ÔºåÈÄöËøá‰∏Ä‰∏™ for Âæ™ÁéØÊù•ÈÅçÂéÜÊï∞ÁªÑÔºàÊàñÂØπË±°ÔºâÁöÑÊØè‰∏™ÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜË∞ÉÁî®‰º†ÈÄíÁªôËøô‰∏™ÂáΩÊï∞ÁöÑË°®ËææÂºè‰Ωú‰∏∫ÂÅèÁßªÈáè„ÄÇËøôÊ†∑ÔºåÂú®Âæ™ÁéØ‰ΩìÂÜÖÔºåÂ∞±ÂèØ‰ª•ËÆ°ÁÆóÂá∫Êï∞ÁªÑÔºàÊàñÂØπË±°Ôºâ‰∏≠ÊâÄÊúâÂÖÉÁ¥†ÁöÑÂíåÔºå‰ªéËÄåËøîÂõûÂÆÉ‰ª¨ÁöÑÈïøÂ∫¶„ÄÇ


```
function _JsArray_length(array)
{
    return array.length;
}

var _JsArray_initialize = F3(function(size, offset, func)
{
    var result = new Array(size);

    for (var i = 0; i < size; i++)
    {
        result[i] = func(offset + i);
    }

    return result;
});

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ‰ª£Á†ÅÁâáÊÆµÔºåÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞ `_JsArray_initializeFromList` Âíå `_JsArray_unsafeGet`„ÄÇ

`_JsArray_initializeFromList` ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö`max` Âíå `ls`„ÄÇ`max` ÂèÇÊï∞Ë°®Á§∫Êï∞ÁªÑÁöÑÊúÄÂ§ßÂÖÉÁ¥†Êï∞ÈáèÔºå`ls` ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂàóË°®ÔºàÊàñÊï∞ÁªÑÔºâÂØπË±°„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑÈÄªËæëÊòØÂàõÂª∫‰∏Ä‰∏™Êñ∞Êï∞ÁªÑ `result`ÔºåÂπ∂ÈÅçÂéÜ `max` Âíå `ls` ‰∏≠ÁöÑÂÖÉÁ¥†„ÄÇÂØπ‰∫éÊØè‰∏™ÂÖÉÁ¥†ÔºåÂ∞ÜÂÖ∂‰ªé `ls` ‰º†ÈÄíÁªô‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂Â∞Ü `ls` ËÆæÁΩÆ‰∏∫‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑ‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇÊúÄÂêéÔºåÂ∞Ü `result` Êï∞ÁªÑÈïøÂ∫¶ËÆæÁΩÆ‰∏∫ÈÅçÂéÜÂà∞ÁöÑÂÖÉÁ¥†Êï∞ÈáèÔºåÂπ∂ËøîÂõûËØ•Êï∞ÁªÑ‰ª•Âèä `ls` ÂØπË±°„ÄÇ

`_JsArray_unsafeGet` ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö`index` Âíå `array`„ÄÇ`index` ÂèÇÊï∞Ë°®Á§∫Ë¶ÅËøîÂõûÁöÑÂÖÉÁ¥†Âú®Êï∞ÁªÑ‰∏≠ÁöÑÁ¥¢ÂºïÔºå`array` ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂàóË°®ÔºàÊàñÊï∞ÁªÑÔºâÂØπË±°„ÄÇËøô‰∏™ÂáΩÊï∞ËøîÂõûÊï∞ÁªÑ‰∏≠ÁöÑÊåáÂÆöÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜÂÖ∂ËøîÂõû„ÄÇÁî±‰∫é‰ΩøÁî®‰∫Ü `unsafeGet` ÂáΩÊï∞ÔºåÂÆÉËøîÂõûÁöÑÊòØ‰∏Ä‰∏™ÂºïÁî®ÔºåËÄå‰∏çÊòØÊï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†„ÄÇ


```
var _JsArray_initializeFromList = F2(function (max, ls)
{
    var result = new Array(max);

    for (var i = 0; i < max && ls.b; i++)
    {
        result[i] = ls.a;
        ls = ls.b;
    }

    result.length = i;
    return _Utils_Tuple2(result, ls);
});

var _JsArray_unsafeGet = F2(function(index, array)
{
    return array[index];
});

```

Ëøô‰∏§ÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞Ôºö`_JsArray_unsafeSet` Âíå `_JsArray_push`„ÄÇÂÆÉ‰ª¨ÈÉΩÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `array`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑ `Array` ÂØπË±°„ÄÇ

`_JsArray_unsafeSet` ÂáΩÊï∞ÁöÑÂÆûÁé∞ËæÉ‰∏∫Â§çÊùÇÔºå‰ΩÜ‰∏ªË¶Å‰ΩúÁî®ÊòØÁ°Æ‰øù `array` ‰∏≠ÁöÑÂÄºÈÉΩË¢´ÂÆâÂÖ®ÁöÑÂ§çÂà∂Âà∞‰∫ÜÊñ∞ÁöÑ `Array` ÂØπË±°‰∏≠„ÄÇÂÆÉÁöÑÂÆûÁé∞ÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö

1. Ëé∑Âèñ `array` ÂØπË±°ÁöÑÂΩìÂâçÈïøÂ∫¶ `length`„ÄÇ
2. ÂàõÂª∫‰∏Ä‰∏™Âíå `array` ÈïøÂ∫¶Áõ∏ÂêåÁöÑ `Array` ÂØπË±° `result`„ÄÇ
3. Áî®‰∏Ä‰∏™Âæ™ÁéØÈÅçÂéÜ `array` ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÔºåÂ∞ÜÂÖ∂Â§çÂà∂Âà∞ `result` ÂØπË±°‰∏≠ÂØπÂ∫îÁöÑ‰ΩçÁΩÆ„ÄÇ
4. Á°Æ‰øù `result` ÂØπË±°‰∏≠ÁöÑÂÖÉÁ¥†Êï∞Èáè‰∏é `array` ÂØπË±°‰∏≠ÁöÑÂÖÉÁ¥†Êï∞ÈáèÁõ∏Âêå„ÄÇ
5. ËøîÂõû `result` ÂØπË±°„ÄÇ

`_JsArray_push` ÂáΩÊï∞ÁöÑÂÆûÁé∞ËæÉ‰∏∫ÁÆÄÂçïÔºå‰ΩÜ‰∏ªË¶Å‰ΩúÁî®ÊòØÂú® `array` ÂØπË±°‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÂÖÉÁ¥†„ÄÇÂÆÉÁöÑÂÆûÁé∞ÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö

1. Ëé∑Âèñ `array` ÂØπË±°ÁöÑÂΩìÂâçÈïøÂ∫¶ `length`„ÄÇ
2. ÂàõÂª∫‰∏Ä‰∏™Âíå `array` ÈïøÂ∫¶Áõ∏ÂêåÁöÑ `Array` ÂØπË±° `result`„ÄÇ
3. Áî®‰∏Ä‰∏™Âæ™ÁéØÈÅçÂéÜ `array` ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÔºåÂ∞ÜÂÖ∂Ê∑ªÂä†Âà∞ `result` ÂØπË±°‰∏≠ÂØπÂ∫îÁöÑ‰ΩçÁΩÆ„ÄÇ
4. Á°Æ‰øù `result` ÂØπË±°‰∏≠ÁöÑÂÖÉÁ¥†Êï∞Èáè‰∏é `array` ÂØπË±°‰∏≠ÁöÑÂÖÉÁ¥†Êï∞ÈáèÁõ∏Âêå„ÄÇ
5. ËøîÂõû `result` ÂØπË±°„ÄÇ

Ëøô‰∏§ÊÆµ‰ª£Á†ÅÂÆö‰πâÁöÑÂáΩÊï∞ÂèØ‰ª•Êñπ‰æøÂú∞Áî®‰∫éÂÆâÂÖ®ÁöÑÊàñÈùûÂÆâÂÖ®ÁöÑ `Array` ÂØπË±°ÁöÑËÆæÁΩÆÂíåÊ∑ªÂä†ÂÖÉÁ¥†Êìç‰Ωú„ÄÇ


```
var _JsArray_unsafeSet = F3(function(index, value, array)
{
    var length = array.length;
    var result = new Array(length);

    for (var i = 0; i < length; i++)
    {
        result[i] = array[i];
    }

    result[index] = value;
    return result;
});

var _JsArray_push = F2(function(value, array)
{
    var length = array.length;
    var result = new Array(length + 1);

    for (var i = 0; i < length; i++)
    {
        result[i] = array[i];
    }

    result[length] = value;
    return result;
});

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ‰∏≠Áî®Êù•ÊâßË°åÂáΩÊï∞Â∞ÅË£ÖÔºàfunctional programmingÔºâÁöÑ‰ª£Á†Å„ÄÇÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÂáΩÊï∞ÂºèÁºñÁ®ã‰ºö‰ΩøÁî®È´òÈò∂ÂáΩÊï∞Êù•ÂàõÂª∫Êõ¥Âä†Â§çÊùÇÁöÑË°å‰∏∫ÔºåËÄå‰∏çÊòØ‰ΩøÁî®Á±ª‰ºº `var _JsArray_foldl` Âíå `var _JsArray_foldr` ËøôÊ†∑ÁöÑÂèòÈáè„ÄÇ

`var _JsArray_foldl` Âíå `var _JsArray_foldr` ÂàÜÂà´ÂÆö‰πâ‰∫Ü‰∏§Áßç‰∏çÂêåÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ª¨ÈÉΩÊòØÂü∫‰∫é‰∏Ä‰∏™ÂáΩÊï∞ `func` Âíå‰∏Ä‰∏™ÂàùÂßãÂÄº `acc`ÔºåÂíå‰∏Ä‰∏™Êï∞ÁªÑ `array`„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÈÄöÂ∏∏‰ΩøÁî® `var _$capture` ÂáΩÊï∞Êù•ÊçïÊçâÊï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†ÂÄºÔºåËÄå‰∏çÊòØ‰ΩøÁî® `var array` ÂÆö‰πâÁöÑÊï∞ÁªÑÂèòÈáè„ÄÇ

Âú®ËøôÈáåÔºå`var _JsArray_foldl` Âíå `var _JsArray_foldr` ÁöÑ‰ΩúÁî®Â∞±ÊòØÂàõÂª∫‰∏Ä‰∏™ÂèØ‰ª•ÂØπÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÊâßË°å‰∏ÄÊ¨° `func` ÁöÑÂáΩÊï∞ÔºåÂπ∂Â∞ÜÁªìÊûúÂ≠òÂÇ®Âú®ÂèòÈáè `acc` ‰∏≠„ÄÇËøô‰∏™ÂáΩÊï∞ÂèØ‰ª•Ë¢´Áî®Êù•ÂÆö‰πâ‰∏Ä‰∏™Ê®°ÂùóÂåñÔºàÊ®°ÂùóÂåñÈÄöÂ∏∏ÊÑèÂë≥ÁùÄÂèØÈáçÂ§ç‰ΩøÁî®ÔºâÁöÑË°å‰∏∫ÔºåËÄå‰∏çÊòØ‰∏∫‰∫ÜËß£ÂÜ≥Êüê‰∏™ÁâπÂÆöÁöÑÈóÆÈ¢ò„ÄÇ


```
var _JsArray_foldl = F3(function(func, acc, array)
{
    var length = array.length;

    for (var i = 0; i < length; i++)
    {
        acc = A2(func, array[i], acc);
    }

    return acc;
});

var _JsArray_foldr = F3(function(func, acc, array)
{
    for (var i = array.length - 1; i >= 0; i--)
    {
        acc = A2(func, array[i], acc);
    }

    return acc;
});

```

Ëøô‰∏§ÊÆµ‰ª£Á†ÅÈÉΩÊòØ‰ΩøÁî® JavaScript ÁöÑÂáΩÊï∞ÂºèÁºñÁ®ãÈ£éÊ†ºÊù•ÂàõÂª∫ JavaScript ÂØπË±°Ôºà‰∏ªË¶ÅÊòØÊï∞ÁªÑÔºâÁöÑÊñπÂºè„ÄÇ

Á¨¨‰∏ÄÊÆµ‰ª£Á†Å `var _JsArray_map`Ôºö

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_JsArray_map` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞ `func` Âíå‰∏Ä‰∏™Êï∞ÁªÑ `array` ‰Ωú‰∏∫ÂèÇÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Êñ∞Êï∞ÁªÑ `result`ÔºåÊï∞ÁªÑÈïøÂ∫¶‰∏éËæìÂÖ•ÁöÑ `array` Áõ∏Âêå„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®ÔºåÈ¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂèòÈáè `length`ÔºåÁÑ∂Âêé‰ΩøÁî® `for` Âæ™ÁéØÊù•ÈÅçÂéÜËæìÂÖ•ÁöÑ `array`„ÄÇÂú®Âæ™ÁéØ‰ΩìÂÜÖÔºåË∞ÉÁî®‰º†ÈÄíÁªô `func` ÁöÑÂáΩÊï∞ÔºåÂπ∂Â∞Ü `array` ‰∏≠ÁöÑÂΩìÂâçÂÖÉÁ¥†ÔºàÈÄöÂ∏∏ÊòØÂáΩÊï∞ÁöÑÂèÇÊï∞Ôºâ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôËØ•ÂáΩÊï∞„ÄÇÊúÄÂêéÔºåÂ∞ÜÂáΩÊï∞ËøîÂõûÁöÑÁªìÊûúÂ≠òÂÇ®ÂõûÂéüÊù•ÁöÑ `result` Êï∞ÁªÑ‰∏≠ÔºåÂÆåÊàêÊï∞ÁªÑÁöÑÂàõÂª∫„ÄÇ

Á¨¨‰∫åÊÆµ‰ª£Á†Å `var _JsArray_indexedMap`Ôºö

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_JsArray_indexedMap` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞ `func`„ÄÅ‰∏Ä‰∏™ÂÅèÁßªÈáè `offset` Âíå‰∏Ä‰∏™Êï∞ÁªÑ `array` ‰Ωú‰∏∫ÂèÇÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Êñ∞Êï∞ÁªÑ `result`ÔºåÊï∞ÁªÑÈïøÂ∫¶‰∏éËæìÂÖ•ÁöÑ `array` Áõ∏ÂêåÔºå‰ΩÜÂè™ÂåÖÂê´ÊåáÂÆöÂÅèÁßªÈáè `offset` ÂêéÁöÑÂÖÉÁ¥†„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®ÔºåÈ¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂèòÈáè `length`ÔºåÁÑ∂Âêé‰ΩøÁî® `for` Âæ™ÁéØÊù•ÈÅçÂéÜËæìÂÖ•ÁöÑ `array`„ÄÇÂú®Âæ™ÁéØ‰ΩìÂÜÖÔºåË∞ÉÁî®‰º†ÈÄíÁªô `func` ÁöÑÂáΩÊï∞ÔºåÂπ∂Â∞Ü `offset` Âíå `array` ‰∏≠ÁöÑÂΩìÂâçÂÖÉÁ¥†ÔºàÈÄöÂ∏∏ÊòØÂáΩÊï∞ÁöÑÂèÇÊï∞Ôºâ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôËØ•ÂáΩÊï∞„ÄÇÊúÄÂêéÔºåÂ∞ÜÂáΩÊï∞ËøîÂõûÁöÑÁªìÊûúÂ≠òÂÇ®ÂõûÂéüÊù•ÁöÑ `result` Êï∞ÁªÑ‰∏≠ÔºåÂÆåÊàêÊï∞ÁªÑÁöÑÂàõÂª∫„ÄÇ


```
var _JsArray_map = F2(function(func, array)
{
    var length = array.length;
    var result = new Array(length);

    for (var i = 0; i < length; i++)
    {
        result[i] = func(array[i]);
    }

    return result;
});

var _JsArray_indexedMap = F3(function(func, offset, array)
{
    var length = array.length;
    var result = new Array(length);

    for (var i = 0; i < length; i++)
    {
        result[i] = A2(func, offset + i, array[i]);
    }

    return result;
});

```

Ëøô‰∏§ÊÆµ‰ª£Á†ÅÈÉΩ‰ΩøÁî®‰∫Ü JavaScript ‰∏≠ÁöÑÂáΩÊï∞ÂºèÁºñÁ®ãÊäÄÂ∑ß„ÄÇ

Á¨¨‰∏ÄÊÆµ‰ª£Á†Å `var _JsArray_slice = F3(function(from, to, array)
{
   return array.slice(from, to);
});` ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_JsArray_slice` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂáΩÊï∞ÂºèÂèÇÊï∞ `array`ÔºåËøîÂõû‰∏Ä‰∏™Êñ∞Êï∞ÁªÑÔºåÂåÖÂê´‰∫Ü `array` Êï∞ÁªÑÁöÑ‰ªé `from` Âà∞ `to` ÁöÑÂÖÉÁ¥†„ÄÇÂáΩÊï∞ÂºèÂÆö‰πâÊòØÊåáÂ∞ÜÂèòÈáè `array` Â§çÂà∂Âà∞Êñ∞Êï∞ÁªÑ‰∏≠ÔºåËÄå‰∏çÊòØ‰øÆÊîπÂéüÊúâÊï∞ÁªÑ„ÄÇ

Á¨¨‰∫åÊÆµ‰ª£Á†Å `var _JsArray_appendN = F3(function(n, dest, source)
{
   var destLen = dest.length;
   var itemsToCopy = n - destLen;

   if (itemsToCopy > source.length)
   {
       itemsToCopy = source.length;
   }

   var size = destLen + itemsToCopy;
   var result = new Array(size);

   for (var i = 0; i < destLen; i++)
   {
       result[i] = dest[i];
   }

   for (var i = 0; i < itemsToCopy; i++)
   {
       result[i + destLen] = source[i];
   }

   return result;
});` ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_JsArray_appendN` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏§‰∏™ÂáΩÊï∞ÂºèÂèÇÊï∞ `n` Âíå `dest`ÔºåËøîÂõû‰∏Ä‰∏™Êñ∞Êï∞ÁªÑÔºåÂåÖÂê´‰∫Ü `dest` Êï∞ÁªÑ‰∏≠ `n` - `destLen` ‰∏™ÂÖÉÁ¥†Ôºå‰ª•Âèä‰ªé `source` Êï∞ÁªÑ‰∏≠Â§çÂà∂Âà∞Êñ∞Êï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†„ÄÇÂáΩÊï∞ÂºèÂÆö‰πâÊòØÊåáÂ∞ÜÂèòÈáè `dest` Âíå `source` Â§çÂà∂Âà∞Êñ∞Êï∞ÁªÑ‰∏≠ÔºåËÄå‰∏çÊòØ‰øÆÊîπÂéüÊúâÊï∞ÁªÑ„ÄÇ


```
var _JsArray_slice = F3(function(from, to, array)
{
    return array.slice(from, to);
});

var _JsArray_appendN = F3(function(n, dest, source)
{
    var destLen = dest.length;
    var itemsToCopy = n - destLen;

    if (itemsToCopy > source.length)
    {
        itemsToCopy = source.length;
    }

    var size = destLen + itemsToCopy;
    var result = new Array(size);

    for (var i = 0; i < destLen; i++)
    {
        result[i] = dest[i];
    }

    for (var i = 0; i < itemsToCopy; i++)
    {
        result[i + destLen] = source[i];
    }

    return result;
});



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Debug_log` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ `tag` Âíå `value`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞ÔºåÂπ∂Â∞ÜÂÖ∂ËøîÂõûÂÄºËµãÁªô `_Debug_log` ÂèòÈáè„ÄÇ

Êé•‰∏ãÊù•Ôºå‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Debug_log_UNUSED` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰∏é‰∏äÈù¢ÂÆö‰πâÁöÑ `_Debug_log` ÂáΩÊï∞‰∏ÄÊ†∑Ôºå‰ΩÜËøîÂõûÂÄºÁ±ªÂûã‰∏∫ `null`„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑÂèÇÊï∞Âíå `_Debug_log` ÂáΩÊï∞‰∏ÄÊ†∑Ôºå‰πüÊúâ `tag` Âíå `value` ‰∏§‰∏™ÂèÇÊï∞„ÄÇ‰∏çËøáÔºåÂú®ÂáΩÊï∞ÂÜÖÈÉ®ÔºåÂÖàË∞ÉÁî®‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Debug_toString` ÁöÑÂáΩÊï∞ÔºåÂπ∂Â∞ÜÂÆÉÁöÑËøîÂõûÂÄº‰∏é `value` Áõ∏Âä†ÔºåÂÜçÂ∞ÜÁªìÊûúËæìÂá∫Âà∞ÊéßÂà∂Âè∞„ÄÇÊúÄÂêéÔºåÂ∞Ü `_Debug_log` Âíå `_Debug_log_UNUSED` ‰∏§‰∏™ÂáΩÊï∞ËøîÂõûÁªôË∞ÉÁî®ËÄÖ„ÄÇ

Êï¥ÊÆµ‰ª£Á†ÅÁöÑ‰ΩúÁî®ÊòØÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ `_Debug_log` ÂáΩÊï∞Âíå‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞ `_Debug_log_UNUSED`„ÄÇ`_Debug_log` ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂèÇÊï∞ `tag` Âíå‰∏Ä‰∏™‰ªªÊÑèÁ±ªÂûãÁöÑÂèÇÊï∞ `value`ÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨ËøîÂõû„ÄÇ`_Debug_log_UNUSED` ÂáΩÊï∞‰∏é `_Debug_log` ÂáΩÊï∞‰∏çÂêå‰πãÂ§ÑÂú®‰∫éÔºåÂÆÉËøîÂõû‰∫Ü‰∏Ä‰∏™ `null` Á±ªÂûãÁöÑÂÄºÔºåËÄå‰∏çÊòØ‰∏Ä‰∏™Á©∫Â≠óÁ¨¶‰∏≤„ÄÇ


```
// LOG

var _Debug_log = F2(function(tag, value)
{
	return value;
});

var _Debug_log_UNUSED = F2(function(tag, value)
{
	console.log(tag + ': ' + _Debug_toString(value));
	return value;
});


// TODOS

```

Ëøô‰∏§ÂáΩÊï∞ÊòØJavaScript‰∏≠ÁöÑÂ∏¶ÂèÇÊï∞ÁöÑÂáΩÊï∞Â£∞ÊòéÔºåÁî®‰∫éËæìÂá∫Ë∞ÉËØï‰ø°ÊÅØ„ÄÇ

ÂÆÉ‰ª¨ÁöÑÂÖ±Âêå‰ΩúÁî®ÊòØÂú®Á®ãÂ∫èÂá∫Áé∞ÈîôËØØÊó∂ËÆ∞ÂΩïÂ¥©Ê∫É‰ø°ÊÅØÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞Êù•Â§ÑÁêÜÂºÇÂ∏∏‰ø°ÊÅØ„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞ _Debug_todo(moduleName, region) ÂáΩÊï∞ÂÜÖÈÉ®Âê´Êúâ‰∏Ä‰∏™ÂáΩÊï∞ÊåáÈíàÂíå‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÂèÇÊï∞ message„ÄÇ

ÂΩìÂáΩÊï∞Ë¢´Ë∞ÉÁî®Êó∂ÔºåÂÆÉ‰ºöÂÖàÊâßË°åÂáΩÊï∞‰Ωì‰∏≠ÁöÑ‰ª£Á†ÅÔºåÁÑ∂ÂêéÊâßË°å‰∏Ä‰∏™Êê∫Â∏¶ÂèÇÊï∞ message ÁöÑ functionË∞ÉÁî®ÔºåÂπ∂Â∞ÜÂæóÂà∞ÁöÑÂºÇÂ∏∏‰ø°ÊÅØËÆ∞ÂΩï‰∏ãÊù•„ÄÇ

Á¨¨‰∫å‰∏™ÂáΩÊï∞ _Debug_todoCase(moduleName, region, value) ÂáΩÊï∞ÂÜÖÈÉ®ÂêåÊ†∑Âê´Êúâ‰∏Ä‰∏™ÂáΩÊï∞ÊåáÈíàÂíå‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÂèÇÊï∞ messageÔºå‰ΩÜÂÆÉÁöÑÂäüËÉΩ‰∏éÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞ÊúâÊâÄ‰∏çÂêå„ÄÇ

ÂÆÉÁöÑÂáΩÊï∞‰Ωì‰∏≠ÊâßË°åÁöÑÊòØ‰∏Ä‰∏™Êê∫Â∏¶ÂèÇÊï∞ message ÁöÑÂáΩÊï∞Ë∞ÉÁî®Ôºå‰ΩÜËØ•ÂáΩÊï∞ÁöÑÂèÇÊï∞ÂàóË°®‰∏éÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞‰∏çÂêåÔºåÂ§ö‰∫Ü‰∏Ä‰∏™ÂèÇÊï∞ value„ÄÇ

Âõ†Ê≠§ÔºåÁ¨¨‰∫å‰∏™ÂáΩÊï∞‰ºöÂ∞ÜÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞‰∏≠Êê∫Â∏¶ÁöÑÂºÇÂ∏∏‰ø°ÊÅØËÆ∞ÂΩï‰∏ãÊù•ÔºåÂπ∂ÊâßË°å‰∏Ä‰∏™Êñ∞ÁöÑÂºÇÂ∏∏Â§ÑÁêÜÁ®ãÂ∫èÔºå‰ª•Â§ÑÁêÜÁî±Á¨¨‰∫å‰∏™ÂáΩÊï∞‰º†ÈÄíÁªôÂÆÉÁöÑÂºÇÂ∏∏‰ø°ÊÅØ„ÄÇ


```
function _Debug_todo(moduleName, region)
{
	return function(message) {
		_Debug_crash(8, moduleName, region, message);
	};
}

function _Debug_todoCase(moduleName, region, value)
{
	return function(message) {
		_Debug_crash(9, moduleName, region, value, message);
	};
}


```

This appears to be a JavaScript function that takes in a value object (Object) and returns a string with a debug color scheme for each property in the value object.

The function has several options for how to display the debug information:

* Using ANSI art characters for color-coded debug information
* Using the current console color for debug information, especially useful for displaying "strings" (e.g. "hello" instead of just "hello")
* Using a pawnless ANSI art for debug information
* Using the name of the property as part of the debug information, e.g. "console.log" instead of just "log"
* Using a blend of ANSI art and the current console color for debug information
* Using ANSI art for debug information, but only if the property is an object or array

It appears to be using a loop to iterate over each property in the value object, and for each property, it is either using ANSI art to color the property name, the current console color, pawnless ANSI art, or a blend of both. It is also using ANSI art to color the property value if it is an object or array.

Finally, it returns a string that includes the debug information for all properties in the value object, using ANSI art for color-coded debug information and the current console color for debug information. If the property is an object or array, it includes the debug information for all properties in the object or array, and if it is not an object or array, it includes the debug information for all properties.


```
// TO STRING

function _Debug_toString(value)
{
	return '<internals>';
}

function _Debug_toString_UNUSED(value)
{
	return _Debug_toAnsiString(false, value);
}

function _Debug_toAnsiString(ansi, value)
{
	if (typeof value === 'function')
	{
		return _Debug_internalColor(ansi, '<function>');
	}

	if (typeof value === 'boolean')
	{
		return _Debug_ctorColor(ansi, value ? 'True' : 'False');
	}

	if (typeof value === 'number')
	{
		return _Debug_numberColor(ansi, value + '');
	}

	if (value instanceof String)
	{
		return _Debug_charColor(ansi, "'" + _Debug_addSlashes(value, true) + "'");
	}

	if (typeof value === 'string')
	{
		return _Debug_stringColor(ansi, '"' + _Debug_addSlashes(value, false) + '"');
	}

	if (typeof value === 'object' && '$' in value)
	{
		var tag = value.$;

		if (typeof tag === 'number')
		{
			return _Debug_internalColor(ansi, '<internals>');
		}

		if (tag[0] === '#')
		{
			var output = [];
			for (var k in value)
			{
				if (k === '$') continue;
				output.push(_Debug_toAnsiString(ansi, value[k]));
			}
			return '(' + output.join(',') + ')';
		}

		if (tag === 'Set_elm_builtin')
		{
			return _Debug_ctorColor(ansi, 'Set')
				+ _Debug_fadeColor(ansi, '.fromList') + ' '
				+ _Debug_toAnsiString(ansi, $elm$core$Set$toList(value));
		}

		if (tag === 'RBNode_elm_builtin' || tag === 'RBEmpty_elm_builtin')
		{
			return _Debug_ctorColor(ansi, 'Dict')
				+ _Debug_fadeColor(ansi, '.fromList') + ' '
				+ _Debug_toAnsiString(ansi, $elm$core$Dict$toList(value));
		}

		if (tag === 'Array_elm_builtin')
		{
			return _Debug_ctorColor(ansi, 'Array')
				+ _Debug_fadeColor(ansi, '.fromList') + ' '
				+ _Debug_toAnsiString(ansi, $elm$core$Array$toList(value));
		}

		if (tag === '::' || tag === '[]')
		{
			var output = '[';

			value.b && (output += _Debug_toAnsiString(ansi, value.a), value = value.b)

			for (; value.b; value = value.b) // WHILE_CONS
			{
				output += ',' + _Debug_toAnsiString(ansi, value.a);
			}
			return output + ']';
		}

		var output = '';
		for (var i in value)
		{
			if (i === '$') continue;
			var str = _Debug_toAnsiString(ansi, value[i]);
			var c0 = str[0];
			var parenless = c0 === '{' || c0 === '(' || c0 === '[' || c0 === '<' || c0 === '"' || str.indexOf(' ') < 0;
			output += ' ' + (parenless ? str : '(' + str + ')');
		}
		return _Debug_ctorColor(ansi, tag) + output;
	}

	if (typeof DataView === 'function' && value instanceof DataView)
	{
		return _Debug_stringColor(ansi, '<' + value.byteLength + ' bytes>');
	}

	if (typeof File !== 'undefined' && value instanceof File)
	{
		return _Debug_internalColor(ansi, '<' + value.name + '>');
	}

	if (typeof value === 'object')
	{
		var output = [];
		for (var key in value)
		{
			var field = key[0] === '_' ? key.slice(1) : key;
			output.push(_Debug_fadeColor(ansi, field) + ' = ' + _Debug_toAnsiString(ansi, value[key]));
		}
		if (output.length === 0)
		{
			return '{}';
		}
		return '{ ' + output.join(', ') + ' }';
	}

	return _Debug_internalColor(ansi, '<internals>');
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Debug_addSlashes` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ `str` Âíå `isChar`„ÄÇÂáΩÊï∞ÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØÂ∞ÜËæìÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤ `str` ËøõË°åËΩ¨‰πâÔºå‰ª•‰æøÂú®ËæìÂá∫Êó∂ËÉΩÂ§üÊ≠£Á°ÆÂú∞ËøòÂéüÂõûÂéüÂßãÂ≠óÁ¨¶„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂáΩÊï∞‰ºöÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

1. `str.replace(/\\/g, '\\\\')`Ôºö‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÂ∞ÜÊâÄÊúâÂ≠óÁ¨¶ `/\\/` ÊõøÊç¢Êàê `\\\\`„ÄÇ
2. `str.replace(/\n/g, '\\n')`Ôºö‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÂ∞ÜÊâÄÊúâÂ≠óÁ¨¶ `\n` ÊõøÊç¢Êàê `\\n`„ÄÇ
3. `str.replace(/\t/g, '\\t')`Ôºö‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÂ∞ÜÊâÄÊúâÂ≠óÁ¨¶ `\t` ÊõøÊç¢Êàê `\\t`„ÄÇ
4. `str.replace(/\r/g, '\\r')`Ôºö‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÂ∞ÜÊâÄÊúâÂ≠óÁ¨¶ `\r` ÊõøÊç¢Êàê `\\r`„ÄÇ
5. `str.replace(/\v/g, '\\v')`Ôºö‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÂ∞ÜÊâÄÊúâÂ≠óÁ¨¶ `\\v` ÊõøÊç¢Êàê `\\v`„ÄÇ
6. `str.replace(/\0/g, '\\0')`Ôºö‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÂ∞ÜÊâÄÊúâÂ≠óÁ¨¶ `\\0` ÊõøÊç¢Êàê `\\0`„ÄÇ
7. Â¶ÇÊûú `isChar` ‰∏∫ `true`ÔºåÂàôÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö
  `str.replace(/\'/g, '\\\')`
  `str.replace(/\"/g, '\\\"')`

ÂáΩÊï∞ÊúÄÁªàËøîÂõûÁªèËøáËΩ¨‰πâÂêéÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊó†ËÆ∫ËæìÂÖ•Â≠óÁ¨¶‰∏≤ÊòØÂê¶‰∏∫Â≠óÁ¨¶ÔºåÂáΩÊï∞ÈÉΩ‰ºöÊâßË°å‰∏äËø∞Êìç‰Ωú„ÄÇ


```
function _Debug_addSlashes(str, isChar)
{
	var s = str
		.replace(/\\/g, '\\\\')
		.replace(/\n/g, '\\n')
		.replace(/\t/g, '\\t')
		.replace(/\r/g, '\\r')
		.replace(/\v/g, '\\v')
		.replace(/\0/g, '\\0');

	if (isChar)
	{
		return s.replace(/\'/g, '\\\'');
	}
	else
	{
		return s.replace(/\"/g, '\\"');
	}
}

```



Ëøô‰∏â‰∏™ÂáΩÊï∞ÈÉΩÊòØÁî®‰∫éÂú®ÊéßÂà∂Âè∞ËæìÂá∫Êó∂ËÆæÁΩÆÈ¢úËâ≤Ê†áËÆ∞ÁöÑÂáΩÊï∞„ÄÇ`_Debug_ctorColor`, `_Debug_numberColor`, `_Debug_stringColor` ÂàÜÂà´Áî®‰∫éËÆæÁΩÆ ASCII Ê®°Âºè‰∏ãÁöÑ `96`, `95`, `93` ‰ΩçÁ∫ßÁöÑÊéßÂà∂Âè∞ËæìÂá∫È¢úËâ≤Ê†áËÆ∞„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂΩì `ansi` ÂèÇÊï∞‰∏∫ `true` Êó∂ÔºåÂáΩÊï∞‰ºöÊ†πÊçÆËøô‰∏™Êù°‰ª∂Êù•ËÆæÁΩÆÊéßÂà∂Âè∞ËæìÂá∫ÁöÑÈ¢úËâ≤Ê†áËÆ∞„ÄÇÂ¶ÇÊûú `ansi` ÂèÇÊï∞‰∏∫ `false` Âàô‰∏ç‰ºöËÆæÁΩÆÈ¢úËâ≤Ê†áËÆ∞„ÄÇ

_Debug_ctorColor ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÊéßÂà∂Âè∞ËæìÂá∫Êó∂ËÆæÁΩÆ `96` ‰ΩçÁ∫ßÁöÑ ASCII Ê®°Âºè‰∏ãÁöÑ `RED` È¢úËâ≤Ê†áËÆ∞„ÄÇ

_Debug_numberColor ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÊéßÂà∂Âè∞ËæìÂá∫Êó∂ËÆæÁΩÆ `95` ‰ΩçÁ∫ßÁöÑ ASCII Ê®°Âºè‰∏ãÁöÑ `GREEN` È¢úËâ≤Ê†áËÆ∞„ÄÇ

_Debug_stringColor ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÊéßÂà∂Âè∞ËæìÂá∫Êó∂ËÆæÁΩÆ `93` ‰ΩçÁ∫ßÁöÑ ASCII Ê®°Âºè‰∏ãÁöÑ `BLUE` È¢úËâ≤Ê†áËÆ∞„ÄÇ


```
function _Debug_ctorColor(ansi, string)
{
	return ansi ? '\x1b[96m' + string + '\x1b[0m' : string;
}

function _Debug_numberColor(ansi, string)
{
	return ansi ? '\x1b[95m' + string + '\x1b[0m' : string;
}

function _Debug_stringColor(ansi, string)
{
	return ansi ? '\x1b[93m' + string + '\x1b[0m' : string;
}

```

Ëøô‰∏âÊÆµ‰ª£Á†ÅÈÉΩÊòØÁî®‰∫éÂú®ÊéßÂà∂Âè∞ËæìÂá∫‰∏≠‰ΩøÁî®ANSIÈ¢úËâ≤Ê®°Âºè„ÄÇ

_Debug_charColorÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÔºåÂ¶ÇÊûúansiÂèÇÊï∞‰∏∫ÁúüÔºåÂàôÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

1. Â∞Ü'\x1b[92m'ËÆæÁΩÆ‰∏∫ansiÊ®°Âºè‰∏ãÁöÑ‰∫ÆÂ∫¶ÂÄºÔºà92Ë°®Á§∫‰∫ÆÂ∫¶‰∏∫92%Ôºâ„ÄÇ
2. Â∞Ü'\x1b[0m'ËÆæÁΩÆ‰∏∫ansiÊ®°Âºè‰∏ãÁöÑÊöóÂ∫¶ÂÄºÔºà0Ë°®Á§∫ÊöóÂ∫¶‰∏∫0%Ôºâ„ÄÇ
3. Â∞Ü'\x1b[37m'Âíå'\x1b[0m'Ê∑ªÂä†Âà∞ÁîüÊàêÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠„ÄÇ

_Debug_fadeColorÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÔºåÂ¶ÇÊûúansiÂèÇÊï∞‰∏∫ÁúüÔºåÂàôÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

1. Â∞Ü'\x1b[37m'ËÆæÁΩÆ‰∏∫ansiÊ®°Âºè‰∏ãÁöÑ‰∫ÆÂ∫¶ÂÄºÔºà37Ë°®Á§∫‰∫ÆÂ∫¶‰∏∫37%Ôºâ„ÄÇ
2. Â∞Ü'\x1b[0m'ËÆæÁΩÆ‰∏∫ansiÊ®°Âºè‰∏ãÁöÑÊöóÂ∫¶ÂÄºÔºà0Ë°®Á§∫ÊöóÂ∫¶‰∏∫0%Ôºâ„ÄÇ
3. Â∞Ü'\x1b[37m'Âíå'\x1b[0m'Ê∑ªÂä†Âà∞ÁîüÊàêÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠„ÄÇ

_Debug_internalColorÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÔºåÂ¶ÇÊûúansiÂèÇÊï∞‰∏∫ÁúüÔºåÂàôÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

1. Â∞Ü'\x1b[36m'ËÆæÁΩÆ‰∏∫ansiÊ®°Âºè‰∏ãÁöÑ‰∫ÆÂ∫¶ÂÄºÔºà36Ë°®Á§∫‰∫ÆÂ∫¶‰∏∫36%Ôºâ„ÄÇ
2. Â∞Ü'\x1b[0m'ËÆæÁΩÆ‰∏∫ansiÊ®°Âºè‰∏ãÁöÑÊöóÂ∫¶ÂÄºÔºà0Ë°®Á§∫ÊöóÂ∫¶‰∏∫0%Ôºâ„ÄÇ
3. Â∞Ü'\x1b[36m'Âíå'\x1b[0m'Ê∑ªÂä†Âà∞ÁîüÊàêÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠„ÄÇ


```
function _Debug_charColor(ansi, string)
{
	return ansi ? '\x1b[92m' + string + '\x1b[0m' : string;
}

function _Debug_fadeColor(ansi, string)
{
	return ansi ? '\x1b[37m' + string + '\x1b[0m' : string;
}

function _Debug_internalColor(ansi, string)
{
	return ansi ? '\x1b[36m' + string + '\x1b[0m' : string;
}

```

Ëøô‰∏§ÂáΩÊï∞ÊòØÂú® JavaScript ‰∏≠‰ΩøÁî® ECMAScript 8 ‰∏≠ÁöÑ `intl.NumberFormat` API ÂÆûÁé∞ÁöÑ„ÄÇÂÆÉ‰ª¨ÁöÑÁõÆÁöÑÊòØËæÖÂä©ÂáΩÊï∞ÂÜÖ `_Debug_toHexDigit` Âíå `_Debug_crash` ÂáΩÊï∞ËøõË°åË∞ÉËØïËæìÂá∫„ÄÇ

1. `_Debug_toHexDigit` ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞Ü‰∏Ä‰∏™Êï¥Êï∞ `n` ËΩ¨Êç¢‰∏∫ÂçÅÂÖ≠ËøõÂà∂Â≠óÁ¨¶‰∏≤„ÄÇÂÆÉÁöÑÂÆûÁé∞Âü∫‰∫é‰ª•‰∏ã‰∏§‰∏™Êù°‰ª∂Ôºö

  a. Â¶ÇÊûú `n` Â∞è‰∫é 10ÔºåÂàôËøîÂõû 48 + `n`„ÄÇ
  b. Â¶ÇÊûú `n` Â§ß‰∫éÁ≠â‰∫é 10ÔºåÂàôËøîÂõû 55 + `n`„ÄÇ

2. `_Debug_crash` ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®Ë∞ÉËØïÊó∂ÊäõÂá∫‰∏Ä‰∏™Êñ∞ÁöÑÈîôËØØ„ÄÇÂÆÉÁöÑÂÆûÁé∞ÊòØÈÄöËøáË∞ÉÁî® `Error` Á±ªÁöÑ `newError` ÊñπÊ≥ïÂπ∂‰º†ÂÖ•Ë∞ÉËØï‰ø°ÊÅØÂ≠óÁ¨¶‰∏≤Êù•ÂÆûÁé∞ÁöÑ„ÄÇ

Ëøô‰∫õÂáΩÊï∞ÁöÑ‰∏ªË¶ÅÁõÆÁöÑÊòØËæÖÂä©ÂºÄÂèë‰∫∫ÂëòÂú®Ë∞ÉËØïÊó∂Êõ¥ÂÆπÊòìÂú∞Ëé∑ÂèñË∞ÉËØï‰ø°ÊÅØÔºå‰ªéËÄåÊõ¥Â•ΩÂú∞ÊéíÊü•Âíå‰øÆÂ§çÈóÆÈ¢ò„ÄÇ


```
function _Debug_toHexDigit(n)
{
	return String.fromCharCode(n < 10 ? 48 + n : 55 + n);
}


// CRASH


function _Debug_crash(identifier)
{
	throw new Error('https://github.com/elm/core/blob/1.0.0/hints/' + identifier + '.md');
}


```

This is a JavaScript port of the OpenBCX Elm compiler that provides examples of error handling with Express routes. The port uses the `elm-lang` package.

It discusses the problem of using `(==)` instead of `==` in JavaScript, which can lead to unexpected results. It also explains why the behavior of the function is different when returning a value as a function parameter or return value is affected by the order in which it is defined.

The remaining error cases seem to be related to using `||` instead of `&&` in JavaScript, which can also lead to unexpected results.

It is worth noting that this is just an example of how to handle errors and provide information about the problem in a given situation. In a real-world scenario, you would likely want to handle errors differently and provide more detailed error messages.


```
function _Debug_crash_UNUSED(identifier, fact1, fact2, fact3, fact4)
{
	switch(identifier)
	{
		case 0:
			throw new Error('What node should I take over? In JavaScript I need something like:\n\n    Elm.Main.init({\n        node: document.getElementById("elm-node")\n    })\n\nYou need to do this with any Browser.sandbox or Browser.element program.');

		case 1:
			throw new Error('Browser.application programs cannot handle URLs like this:\n\n    ' + document.location.href + '\n\nWhat is the root? The root of your file system? Try looking at this program with `elm reactor` or some other server.');

		case 2:
			var jsonErrorString = fact1;
			throw new Error('Problem with the flags given to your Elm program on initialization.\n\n' + jsonErrorString);

		case 3:
			var portName = fact1;
			throw new Error('There can only be one port named `' + portName + '`, but your program has multiple.');

		case 4:
			var portName = fact1;
			var problem = fact2;
			throw new Error('Trying to send an unexpected type of value through port `' + portName + '`:\n' + problem);

		case 5:
			throw new Error('Trying to use `(==)` on functions.\nThere is no way to know if functions are "the same" in the Elm sense.\nRead more about this at https://package.elm-lang.org/packages/elm/core/latest/Basics#== which describes why it is this way and what the better version will look like.');

		case 6:
			var moduleName = fact1;
			throw new Error('Your page is loading multiple Elm scripts with a module named ' + moduleName + '. Maybe a duplicate script is getting loaded accidentally? If not, rename one of them so I know which is which!');

		case 8:
			var moduleName = fact1;
			var region = fact2;
			var message = fact3;
			throw new Error('TODO in module `' + moduleName + '` ' + _Debug_regionToString(region) + '\n\n' + message);

		case 9:
			var moduleName = fact1;
			var region = fact2;
			var value = fact3;
			var message = fact4;
			throw new Error(
				'TODO in module `' + moduleName + '` from the `case` expression '
				+ _Debug_regionToString(region) + '\n\nIt received the following value:\n\n    '
				+ _Debug_toString(value).replace('\n', '\n    ')
				+ '\n\nBut the branch that handles it says:\n\n    ' + message.replace('\n', '\n    ')
			);

		case 10:
			throw new Error('Bug in https://github.com/elm/virtual-dom/issues');

		case 11:
			throw new Error('Cannot perform mod 0. Division by zero error.');
	}
}

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_Debug_regionToString`ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÊâìÂç∞ÊåáÂÆöÂå∫ÂüüÔºàÂç≥ `region`ÔºâÁöÑË°å‰ø°ÊÅØ„ÄÇ

ÂáΩÊï∞ÁöÑÂü∫Êú¨ÁªìÊûÑÂ¶Ç‰∏ãÔºö

```function _Debug_regionToString(region)
{
   if (region.Q.H === region.V.H)
   {
       return 'on line ' + region.Q.H;
   }
   return 'on lines ' + region.Q.H + ' through ' + region.V.H;
}
```

È¶ñÂÖàÔºåÂáΩÊï∞Ê£ÄÊü•ÁªôÂÆöÁöÑ `region` ÊòØÂê¶ÊòØ‰∏Ä‰∏™Ë°å„ÄÇÂ¶ÇÊûúÊòØÔºåÂáΩÊï∞Â∞ÜËøîÂõûËØ•Ë°åÁöÑË°åÂè∑„ÄÇÂ¶ÇÊûú‰∏çÊòØÔºåÂáΩÊï∞Â∞ÜÈÄöËøáË°åÂè∑ `region.Q.H` ÂíåË°åÂè∑ `region.V.H` ‰πãÈó¥ÁöÑÂå∫ÂüüÊâìÂç∞Â≠óÁ¨¶‰∏≤„ÄÇ

```function _Debug_regionToString(region)
{
   if (region.Q.H === region.V.H)
   {
       return region.Q.H;
   }
   return 'on lines ' + region.Q.H + ' through ' + region.V.H;
}
```

ÂÖ∂Ê¨°ÔºåÂáΩÊï∞‰ΩøÁî®‰∏§‰∏™Âêç‰∏∫ `_Basics_add` Âíå `_Basics_sub` ÁöÑÂáΩÊï∞Êù•ÊâßË°åÂü∫Êú¨ÁöÑÊï∞Â≠¶ËøêÁÆó„ÄÇ

```function _Basics_add(a, b) { return a + b; }
var _Basics_sub(a, b) { return a - b; };
```

Ëøô‰∏§‰∏™ÂáΩÊï∞ÁöÑÂÆö‰πâÊØîËæÉÂ§çÊùÇÔºå‰ΩÜÁî±‰∫éËøôÈáåÂè™ÊòØÁÆÄÂçïÂú∞‰ΩøÁî®ÂÆÉ‰ª¨Êù•ÂÆûÁé∞Â≠óÁ¨¶‰∏≤ÁöÑÁîüÊàêÔºåÊâÄ‰ª•Êàë‰∏çÈúÄË¶ÅÊ∑±ÂÖ•‰∫ÜËß£ÂÆÉ‰ª¨ÁöÑÂÆûÁé∞„ÄÇ


```
function _Debug_regionToString(region)
{
	if (region.Q.H === region.V.H)
	{
		return 'on line ' + region.Q.H;
	}
	return 'on lines ' + region.Q.H + ' through ' + region.V.H;
}



// MATH

var _Basics_add = F2(function(a, b) { return a + b; });
var _Basics_sub = F2(function(a, b) { return a - b; });
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫ÜÂõõ‰∏™ÂáΩÊï∞ÔºåÂÆÉ‰ª¨‰ΩøÁî®‰∫Ü‰∏çÂêåÁöÑÊï¥Êï∞ËøêÁÆóÔºàÂèñÊ®°„ÄÅÊ±Ç‰Ωô„ÄÅ‰πòÊñπÂíåÈô§Ê≥ïÔºâÔºåÂπ∂‰ΩøÁî®‰∫ÜËá™ÂÆö‰πâÂáΩÊï∞ F2„ÄÇËøô‰∫õÂáΩÊï∞ÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö

1. _Basics_mulÔºöËØ•ÂáΩÊï∞‰ΩúÁî®‰∫é‰∏§‰∏™ÂèÇÊï∞ a Âíå bÔºåÂÆÉËøîÂõûÂÆÉ‰ª¨ÁöÑ‰πòÁßØ„ÄÇ
2. _Basics_fdivÔºöËØ•ÂáΩÊï∞‰ΩúÁî®‰∫é‰∏§‰∏™ÂèÇÊï∞ a Âíå bÔºåÂÆÉËøîÂõûÂÆÉ‰ª¨ÁöÑÂïÜ„ÄÇ
3. _Basics_idivÔºöËØ•ÂáΩÊï∞‰ΩúÁî®‰∫é‰∏§‰∏™ÂèÇÊï∞ a Âíå bÔºåÂÆÉËøîÂõû a ÂØπ b ÁöÑ‰ΩôÊï∞ÔºàÂç≥ a % bÔºâ„ÄÇ
4. _Basics_powÔºöËØ•ÂáΩÊï∞‰ΩúÁî®‰∫é‰∏Ä‰∏™ÂèÇÊï∞ aÔºåÂÆÉËøîÂõû a ÁöÑÊåáÂÆöÊ¨°ÂπÇ„ÄÇ
5. _Basics_remainderByÔºöËØ•ÂáΩÊï∞‰ΩúÁî®‰∫é‰∏§‰∏™ÂèÇÊï∞ b Âíå aÔºåÂÆÉËøîÂõû a ÂØπ b ÁöÑ‰ΩôÊï∞ÔºàÂç≥ a % bÔºâ„ÄÇ
6. _Basics_modByÔºöËØ•ÂáΩÊï∞‰ΩúÁî®‰∫é‰∏§‰∏™ÂèÇÊï∞ modulus Âíå xÔºåÂÆÉËøîÂõû x ÂØπ modulus ÁöÑ‰ΩôÊï∞ÔºàÂç≥ x % modulusÔºâ„ÄÇ

ÂáΩÊï∞ÁöÑÂÆö‰πâ‰ΩøÁî®‰∫ÜËá™ÂÆö‰πâÂáΩÊï∞ F2ÔºåÂÆÉÂÖÅËÆ∏ÂØπÂáΩÊï∞ËøõË°åËøüÂêéÊ±ÇÂÄºÔºå‰ªéËÄå‰Ωø‰ª£Á†ÅÊõ¥ÁÆÄÊ¥Å„ÄÇÂêåÊó∂ÔºåÂáΩÊï∞ÁöÑÂÆö‰πâ‰ΩøÁî®‰∫Ü _Debug_crash ÂáΩÊï∞ÔºåÂÆÉ‰ºöÊçïËé∑‰∏Ä‰∫õÈîôËØØÂπ∂ËæìÂá∫Ë∞ÉËØï‰ø°ÊÅØÔºåÊúâÂä©‰∫éÂºÄÂèëÂíåË∞ÉËØï‰ª£Á†Å„ÄÇ


```
var _Basics_mul = F2(function(a, b) { return a * b; });
var _Basics_fdiv = F2(function(a, b) { return a / b; });
var _Basics_idiv = F2(function(a, b) { return (a / b) | 0; });
var _Basics_pow = F2(Math.pow);

var _Basics_remainderBy = F2(function(b, a) { return a % b; });

// https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/divmodnote-letter.pdf
var _Basics_modBy = F2(function(modulus, x)
{
	var answer = x % modulus;
	return modulus === 0
		? _Debug_crash(11)
		:
	((answer > 0 && modulus < 0) || (answer < 0 && modulus > 0))
		? answer + modulus
		: answer;
});


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∫õÊï∞Â≠¶Â∏∏Êï∞ÂíåÂáΩÊï∞ÔºåÁî®‰∫éËÆ°ÁÆóÂá†‰ΩïÂõæÂΩ¢‰∏≠ÁöÑËßíÂ∫¶„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøô‰∫õÂ∏∏Êï∞ÂíåÂáΩÊï∞Â¶Ç‰∏ãÔºö

- TRIGONOMETRY: ÂÆö‰πâ‰∫ÜMath.PI„ÄÅMath.E„ÄÅMath.cos„ÄÅMath.sin„ÄÅMath.tan„ÄÅMath.acos„ÄÅMath.asin„ÄÅMath.atan„ÄÅMath.atan2„ÄÇ
- MATH: ÂÆö‰πâ‰∫Ü‰∏Ä‰∫õÂ∏∏ËßÅÁöÑÊï∞Â≠¶ÂáΩÊï∞ÔºåÂ¶ÇF2(Math.atan2)ÔºåÂèØËÉΩÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÂáΩÊï∞ÔºåÁî®‰∫éËÆ°ÁÆóÂèçÊ≠£ÂàáÂáΩÊï∞„ÄÇ

TRIGONOMETRY‰∏≠ÁöÑÂ∏∏Êï∞ÂíåÂáΩÊï∞Áî®‰∫éËÆ°ÁÆóÊ≠£Âº¶„ÄÅ‰ΩôÂº¶„ÄÅÊ≠£Âàá„ÄÅ‰ΩôÂàá„ÄÅ‰ΩôÂº¶ÂáΩÊï∞ÂíåÂèç‰ΩôÂº¶ÂáΩÊï∞„ÄÇMATH‰∏≠ÁöÑÂáΩÊï∞ÂàôÁî®‰∫éËÆ°ÁÆóÂèçÊ≠£ÂàáÂáΩÊï∞ÂíåÂèçÊ≠£Âº¶ÂáΩÊï∞„ÄÇËøô‰∫õÂáΩÊï∞ÂíåÂ∏∏Êï∞Âú®Êï∞Â≠¶‰∏≠ÊúâÁùÄÂπøÊ≥õÁöÑÂ∫îÁî®ÔºåÁî®‰∫éËÆ°ÁÆóÂá†‰ΩïÂõæÂΩ¢‰∏≠ÁöÑËßíÂ∫¶„ÄÇ


```
// TRIGONOMETRY

var _Basics_pi = Math.PI;
var _Basics_e = Math.E;
var _Basics_cos = Math.cos;
var _Basics_sin = Math.sin;
var _Basics_tan = Math.tan;
var _Basics_acos = Math.acos;
var _Basics_asin = Math.asin;
var _Basics_atan = Math.atan;
var _Basics_atan2 = F2(Math.atan2);


// MORE MATH

```



‰ª•‰∏ãÊòØ‰∏äËø∞‰ª£Á†ÅÁöÑÂäüËÉΩÂíå‰ΩúÁî®Ôºö

1. _Basics_toFloat(x) ÂáΩÊï∞Â∞Ü‰º†ÂÖ•ÁöÑ x ÂÄºËΩ¨Êç¢ÊàêÊµÆÁÇπÊï∞Âπ∂ËøîÂõûÔºåÂÖ∂‰ΩúÁî®ÊòØÁî®Êù•Â∞Ü x ‰ªéÊï¥Êï∞Á±ªÂûãËΩ¨Êç¢‰∏∫ÊµÆÁÇπÊï∞Á±ªÂûã„ÄÇ

2. _Basics_truncate(n) ÂáΩÊï∞Â∞Ü‰º†ÂÖ•ÁöÑ n ÂÄºÊà™Êñ≠ÊàêÊúÄÊé•ËøëÁöÑÊï¥Êï∞Âπ∂ËøîÂõûÔºåÂÖ∂‰ΩúÁî®ÊòØÁî®Êù•Â∞Ü n ‰ªéÊµÆÁÇπÊï∞Á±ªÂûãËΩ¨Êç¢‰∏∫Êï¥Êï∞Á±ªÂûã„ÄÇ

3. _Basics_isInfinite(n) ÂáΩÊï∞Âà§Êñ≠‰º†ÂÖ•ÁöÑ n ÊòØÂê¶‰∏∫Êó†Á©∑Â§ßÊàñÊó†Á©∑Â∞èÔºåÂÖ∂‰ΩúÁî®ÊòØÁî®Êù•Âà§Êñ≠ÁªôÂÆöÁöÑ n ÊòØÂê¶‰∏∫Êó†ÈôêÂ§ßÊàñÊó†ÈôêÂ∞è„ÄÇ

4. _Basics_ceiling(x) ÂáΩÊï∞Â∞Ü‰º†ÂÖ•ÁöÑ x Âêë‰∏äÂèñÊï¥Âπ∂ËøîÂõûÔºåÂÖ∂‰ΩúÁî®ÊòØÁî®Êù•Â∞Ü x ‰ªéÊï¥Êï∞Á±ªÂûãËΩ¨Êç¢‰∏∫Êï¥Êï∞Á±ªÂûãÔºåÂπ∂Â∞ÜÂÖ∂Âêë‰∏äÂèñÊï¥„ÄÇ

5. _Basics_floor(x) ÂáΩÊï∞Â∞Ü‰º†ÂÖ•ÁöÑ x Âêë‰∏ãÂèñÊï¥Âπ∂ËøîÂõûÔºåÂÖ∂‰ΩúÁî®ÊòØÁî®Êù•Â∞Ü x ‰ªéÊï¥Êï∞Á±ªÂûãËΩ¨Êç¢‰∏∫Êï¥Êï∞Á±ªÂûãÔºåÂπ∂Â∞ÜÂÖ∂Âêë‰∏ãÂèñÊï¥„ÄÇ

6. _Basics_round(x) ÂáΩÊï∞Â∞Ü‰º†ÂÖ•ÁöÑ x ÂõõËàç‰∫îÂÖ•Âπ∂ËøîÂõûÔºåÂÖ∂‰ΩúÁî®ÊòØÁî®Êù•Â∞Ü x ‰ªéÊï¥Êï∞Á±ªÂûãËΩ¨Êç¢‰∏∫Êï¥Êï∞Á±ªÂûãÔºåÂπ∂ÂØπÂÖ∂ËøõË°åÂõõËàç‰∫îÂÖ•„ÄÇ

7. _Basics_sqrt(x) ÂáΩÊï∞Â∞Ü‰º†ÂÖ•ÁöÑ x Âπ≥ÊñπÊ†πÂπ∂ËøîÂõûÔºåÂÖ∂‰ΩúÁî®ÊòØÁî®Êù•Â∞Ü x ‰ªéÊï¥Êï∞Á±ªÂûãËΩ¨Êç¢‰∏∫ÊµÆÁÇπÊï∞Á±ªÂûãÔºåÂπ∂ËÆ°ÁÆóÂÖ∂Âπ≥ÊñπÊ†π„ÄÇ

8. _Basics_log(x) ÂáΩÊï∞Â∞Ü‰º†ÂÖ•ÁöÑ x Âèñ‰ª• 10 ‰∏∫Â∫ïÁöÑÂØπÊï∞Âπ∂ËøîÂõûÔºåÂÖ∂‰ΩúÁî®ÊòØÁî®Êù•Â∞Ü x ‰ªéÊï¥Êï∞Á±ªÂûãËΩ¨Êç¢‰∏∫ÊµÆÁÇπÊï∞Á±ªÂûãÔºåÂπ∂ËÆ°ÁÆóÂÖ∂‰ª• 10 ‰∏∫Â∫ïÁöÑÂØπÊï∞„ÄÇ

9. _Basics_isNaN(x) ÂáΩÊï∞Âà§Êñ≠‰º†ÂÖ•ÁöÑ x ÊòØÂê¶‰∏∫ NaNÔºåÂÖ∂‰ΩúÁî®ÊòØÁî®Êù•Âà§Êñ≠ÁªôÂÆöÁöÑ x ÊòØÂê¶‰∏∫ NaN(ÈùûÊï∞ÂÄº NaN)ÔºåÂç≥ÊòØÂê¶‰∏∫ NaN ÁöÑÂèç‰πâËØç„ÄÇ


```
function _Basics_toFloat(x) { return x; }
function _Basics_truncate(n) { return n | 0; }
function _Basics_isInfinite(n) { return n === Infinity || n === -Infinity; }

var _Basics_ceiling = Math.ceil;
var _Basics_floor = Math.floor;
var _Basics_round = Math.round;
var _Basics_sqrt = Math.sqrt;
var _Basics_log = Math.log;
var _Basics_isNaN = isNaN;


// BOOLEANS

function _Basics_not(bool) { return !bool; }
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏â‰∏™ÂáΩÊï∞Ôºå‰ΩøÁî®‰∫ÜÂáΩÊï∞ÂºèÁºñÁ®ãÁöÑËåÉÂºè„ÄÇ

Á¨¨‰∏Ä‰∏™ÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÊüØÈáåÂåñÂáΩÊï∞ÔºåÁî®‰∫éÂ∞Ü‰∏§‰∏™ÂèÇÊï∞aÂíåbÁöÑÂÄºÁªÑÂêàÊàê‰∏Ä‰∏™ËøîÂõûÂÄºÔºåËøîÂõûÂÄºÂè™ÂåÖÂê´ËæìÂÖ•ÂèÇÊï∞‰∏≠ÁöÑÈùûÁ©∫ÂÄºÔºåÂéªÈô§‰ªª‰ΩïÁ©∫Êã¨Âè∑„ÄÇ

Á¨¨‰∫å‰∏™ÂáΩÊï∞‰πüÊòØ‰∏Ä‰∏™ÊüØÈáåÂåñÂáΩÊï∞Ôºå‰∏éÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞‰∏çÂêåÁöÑÊòØÔºåËøîÂõûÂÄº‰∏≠ÂåÖÂê´ËæìÂÖ•ÂèÇÊï∞‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶ÔºåÂåÖÊã¨Á©∫Ê†º„ÄÅÂà∂Ë°®Á¨¶ÂíåÊç¢Ë°åÁ¨¶„ÄÇ

Á¨¨‰∏â‰∏™ÂáΩÊï∞ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ËøûÊé•ÂáΩÊï∞ÔºåÂ∞Ü‰∏§‰∏™Â≠óÁ¨¶‰∏≤ËøûÊé•Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåËøîÂõûÊñ∞Â≠óÁ¨¶‰∏≤„ÄÇ

ËØ•‰ª£Á†ÅÁâáÊÆµ‰ΩøÁî®‰∫ÜÂáΩÊï∞ÂºèÁºñÁ®ãÁöÑÂéüÂàôÔºåÂ∞ΩÂèØËÉΩÂú∞ÂáèÂ∞ë‰ΩøÁî®Â§ñÈÉ®Áä∂ÊÄÅÊù•Â§ÑÁêÜÊï∞ÊçÆÔºå‰ΩøÁî®Á∫ØÂáΩÊï∞Êù•ÈÅøÂÖçÂâØ‰ΩúÁî®ÔºåÂπ∂‰ΩøÁî®isNaNÂáΩÊï∞Êù•Ê£ÄÊü•ÊòØÂê¶‰∏∫Êï∞Â≠ó„ÄÇ


```
var _Basics_and = F2(function(a, b) { return a && b; });
var _Basics_or  = F2(function(a, b) { return a || b; });
var _Basics_xor = F2(function(a, b) { return a !== b; });



var _String_cons = F2(function(chr, str)
{
	return chr + str;
});

function _String_uncons(string)
{
	var word = string.charCodeAt(0);
	return !isNaN(word)
		? $elm$core$Maybe$Just(
			0xD800 <= word && word <= 0xDBFF
				? _Utils_Tuple2(_Utils_chr(string[0] + string[1]), string.slice(2))
				: _Utils_Tuple2(_Utils_chr(string[0]), string.slice(1))
		)
		: $elm$core$Maybe$Nothing;
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞Ôºå‰∏Ä‰∏™ÊòØ`_String_append`ÔºåÂè¶‰∏Ä‰∏™ÊòØ`_String_map`„ÄÇËøô‰∏§‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂàÜÂà´Â∞Ü‰∏§‰∏™Â≠óÁ¨¶‰∏≤ËøûÊé•Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜËøûÊé•ÂêéÁöÑÂ≠óÁ¨¶‰∏≤ËøîÂõû„ÄÇ

Á¨¨‰∏Ä‰∏™ÂáΩÊï∞ÊòØ`_String_append`ÔºåÂÆÉÊé•Êî∂‰∏§‰∏™Â≠óÁ¨¶‰∏≤ÂèÇÊï∞`a`Âíå`b`ÔºåÂπ∂ËøîÂõûÂÆÉ‰ª¨ÁöÑÂíå„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑÂÆûÁé∞ÊØîËæÉÁÆÄÂçïÔºåÁõ¥Êé•Â∞Ü‰∏§‰∏™Â≠óÁ¨¶‰∏≤ËøûÊé•Ëµ∑Êù•Âç≥ÂèØ„ÄÇ

Á¨¨‰∫å‰∏™ÂáΩÊï∞ÊòØ`_String_map`ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂáΩÊï∞`func`Âíå‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂèÇÊï∞`string`„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞Ü`string`‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶Ôºå‰ªéÂ∑¶Âà∞Âè≥ÊåâÁÖß`func`ËøõË°åÂ§ÑÁêÜÔºåÂπ∂Â∞ÜÂ§ÑÁêÜÂêéÁöÑÁªìÊûúËøîÂõû„ÄÇ

ÂáΩÊï∞`func`ÁöÑÊé•Êî∂ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶Êï∞ÁªÑ`string`ÔºåÂÆÉÁî®Êù•Â≠òÂÇ®ÈúÄË¶ÅÂ§ÑÁêÜÁöÑÂ≠óÁ¨¶„ÄÇÂáΩÊï∞`func`ÁöÑ‰ΩúÁî®ÊòØÂú®Â≠óÁ¨¶‰∏≤‰∏≠Êü•ÊâæÊåáÂÆöÁöÑÁºñÁ†ÅÔºåÂ¶ÇÊûúÊâæÂà∞‰∫ÜÔºåÂ∞±ËøîÂõûÊåáÂÆöÁöÑÂáΩÊï∞ÁöÑÁªìÊûúÔºåÂê¶ÂàôÁªßÁª≠Â§ÑÁêÜ‰∏ã‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ

Êï¥‰∏™ÂáΩÊï∞`_String_map`Â∞ÜÊâÄÊúâÂ§ÑÁêÜËøáÁöÑÂ≠óÁ¨¶‰∏≤ËøûÊé•Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåËøô‰∏™Â≠óÁ¨¶‰∏≤ÊòØ‰ΩøÁî®`join`ÊñπÊ≥ïÁîüÊàêÁöÑ„ÄÇÊúÄÂêéÔºåÂáΩÊï∞ËøîÂõûËøô‰∏™Â≠óÁ¨¶‰∏≤„ÄÇ


```
var _String_append = F2(function(a, b)
{
	return a + b;
});

function _String_length(str)
{
	return str.length;
}

var _String_map = F2(function(func, string)
{
	var len = string.length;
	var array = new Array(len);
	var i = 0;
	while (i < len)
	{
		var word = string.charCodeAt(i);
		if (0xD800 <= word && word <= 0xDBFF)
		{
			array[i] = func(_Utils_chr(string[i] + string[i+1]));
			i += 2;
			continue;
		}
		array[i] = func(_Utils_chr(string[i]));
		i++;
	}
	return array.join('');
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_String_filter` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ `isGood` Âíå `str`„ÄÇÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊ£ÄÊü•ÁªôÂÆöÁöÑÂ≠óÁ¨¶‰∏≤ÊòØÂê¶‰∏∫Â•ΩÁöÑÂ≠óÁ¨¶ÔºåÂ¶ÇÊûúÊòØÂ•ΩÁöÑÂ≠óÁ¨¶ÔºåÂàôÂ∞ÜÂÖ∂Âä†ÂÖ•‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠ÔºåÂπ∂ËøîÂõûËØ•Êï∞ÁªÑ„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®ÔºåÈ¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Â≠óÁ¨¶Êï∞ÁªÑ `arr`ÔºåÂíå‰∏Ä‰∏™ÂèòÈáè `len`ÔºåÁî®‰∫éÂ≠òÂÇ®Â≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶„ÄÇÁÑ∂ÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂèòÈáè `i`ÔºåÁî®‰∫éÈÅçÂéÜÂ≠óÁ¨¶‰∏≤„ÄÇÂú®Âæ™ÁéØ‰∏≠Ôºå‰ªé `i` ÂºÄÂßãÈÅçÂéÜÂ≠óÁ¨¶‰∏≤ÔºåÈÄê‰∏™Ê£ÄÊü•ÊØè‰∏™Â≠óÁ¨¶ÁöÑÁºñÁ†ÅËåÉÂõ¥„ÄÇÂ¶ÇÊûúÂ≠óÁ¨¶ÁöÑÁºñÁ†ÅÂú® 0xD800 Âà∞ 0xDBFF ËåÉÂõ¥ÂÜÖÔºåÂàôÂ∞ÜÂÖ∂‰∏éÂâç‰∏Ä‰∏™Â≠óÁ¨¶ÂêàÂπ∂ÔºåÂπ∂Â∞Ü `i` ÁßªÂä®Âà∞‰∏ã‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ

Êé•ÁùÄÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `isGood` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄº„ÄÇÂú®ÂáΩÊï∞‰∏≠ÔºåÂà§Êñ≠Â≠óÁ¨¶ÊòØÂê¶‰∏∫Â•ΩÁöÑÂ≠óÁ¨¶ÔºåÂ¶ÇÊûúÊòØÂ•ΩÁöÑÂ≠óÁ¨¶ÔºåÂàôËøîÂõû `true`ÔºåÂê¶ÂàôËøîÂõû `false`„ÄÇ

ÊúÄÂêéÔºåÂ∞ÜÂ•ΩÁöÑÂ≠óÁ¨¶Âä†ÂÖ•Êï∞ÁªÑ `arr`ÔºåÂπ∂‰ΩøÁî® `join` ÊñπÊ≥ïÂ∞ÜÊï∞ÁªÑ‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶‰∏≤ËøûÊé•Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇÊúÄÁªàÔºåÂáΩÊï∞ËøîÂõûËØ•Â•ΩÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ


```
var _String_filter = F2(function(isGood, str)
{
	var arr = [];
	var len = str.length;
	var i = 0;
	while (i < len)
	{
		var char = str[i];
		var word = str.charCodeAt(i);
		i++;
		if (0xD800 <= word && word <= 0xDBFF)
		{
			char += str[i];
			i++;
		}

		if (isGood(_Utils_chr(char)))
		{
			arr.push(char);
		}
	}
	return arr.join('');
});

```

ËØ•ÂáΩÊï∞ÁöÑ‰∏ªË¶ÅÁõÆÁöÑÊòØÂ∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÊåâÁÖß‰ªéÂ∑¶Âà∞Âè≥ÁöÑÈ°∫Â∫èÔºåÂ∞ÜÂçïËØç‰∏≠ÁöÑÊØè‰∏™Â≠óÁ¨¶‰ªéÈ´òÂà∞‰ΩéËøõË°åÊéíÂ∫èÔºåÊéíÂ∫èÂÆåÊàêÂêéÂ∞ÜÊâÄÊúâÂçïËØçÊãºÊé•Êàê‰∏Ä‰∏™Êñ∞ÁöÑÂ≠óÁ¨¶‰∏≤ËøîÂõû„ÄÇ

ÂÖ∑‰ΩìÂÆûÁé∞ËøáÁ®ãÂ¶Ç‰∏ãÔºö

1. È¶ñÂÖàËé∑ÂèñÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶ len„ÄÇ
2. ÂàõÂª∫‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫ len ÁöÑÊñ∞Êï∞ÁªÑ arr„ÄÇ
3. ÂÆö‰πâ‰∏Ä‰∏™‰ªé 0 Âà∞ len-1 ÁöÑËÆ°Êï∞Âô® i„ÄÇ
4. ÈÅçÂéÜÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÊØè‰∏™Â≠óÁ¨¶ wordÔºåÂà§Êñ≠ÂÖ∂ÊòØÂê¶Âú® 0xD800 Âà∞ 0xDBFF ‰πãÈó¥„ÄÇ
5. Â¶ÇÊûú word Âú®ËØ•ËåÉÂõ¥ÂÜÖÔºåÂ∞Ü arr[len-i]„ÄÅarr[len-i] Âíå arr[len-i] ÂàÜÂà´ÊõøÊç¢‰∏∫ word„ÄÅword Âíå wordÔºåÂç≥ÂÆûÁé∞‰∫ÜÂ≠óÁ¨¶‰∏≤‰ªéÂ∑¶Âà∞Âè≥ÁöÑÊéíÂ∫è„ÄÇ
6. Â¶ÇÊûú word ‰∏çÂú®ËØ•ËåÉÂõ¥ÂÜÖÔºåÂ∞Ü arr[len-i] Âíå arr[len-i] ÂàÜÂà´ÊõøÊç¢‰∏∫ word Âíå iÔºåÂç≥ÂÆûÁé∞‰∫ÜÂ≠óÁ¨¶‰∏≤‰ªéÂ∑¶Âà∞Âè≥ÁöÑÊéíÂ∫è„ÄÇ
7. Âú®Âæ™ÁéØÁªìÊùüÂêéÔºåËøîÂõûÁîüÊàêÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑÊ†∏ÂøÉÊòØÂØπ‰∫éÊØè‰∏™ÂçïËØçÔºåÂØπÂÖ∂ËøõË°åÊéíÂ∫èÂπ∂ÊõøÊç¢ÊàêÁõ∏Â∫îÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ÔºåÊúÄÁªàÁîüÊàêÁöÑÁªìÊûúÂ∞±ÊòØÊåâÁÖß‰ªéÂ∑¶Âà∞Âè≥ÁöÑÈ°∫Â∫èÊéíÂàóÂ•ΩÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ


```
function _String_reverse(str)
{
	var len = str.length;
	var arr = new Array(len);
	var i = 0;
	while (i < len)
	{
		var word = str.charCodeAt(i);
		if (0xD800 <= word && word <= 0xDBFF)
		{
			arr[len - i] = str[i + 1];
			i++;
			arr[len - i] = str[i - 1];
			i++;
		}
		else
		{
			arr[len - i] = str[i];
			i++;
		}
	}
	return arr.join('');
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_String_foldl` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞ `func`Ôºå‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂèÇÊï∞ `string`Ôºå‰ª•Âèä‰∏Ä‰∏™Êï¥Êï∞ÂèÇÊï∞ `len`„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®È¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Êï¥Êï∞ÂèòÈáè `i`ÔºåÂíå‰∏Ä‰∏™Â≠óÁ¨¶ÂèòÈáè `char`ÔºåÁî®‰∫éÂ≠òÂÇ®ÂΩìÂâçÊ≠£Âú®Â§ÑÁêÜÁöÑÂ≠óÁ¨¶ÊàñÂ≠óÁ¨¶Á†Å„ÄÇ

ÁÑ∂ÂêéÔºåÂÆÉËøõÂÖ•‰∫Ü‰∏Ä‰∏™ while Âæ™ÁéØÔºåËØ•Âæ™ÁéØÁî®‰∫éÈÅçÂéÜÂ≠óÁ¨¶‰∏≤ `string` ÁöÑÊâÄÊúâÂ≠óÁ¨¶„ÄÇ

Âú®Âæ™ÁéØÂÜÖÈÉ®ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ if ËØ≠Âè•ÔºåÁî®‰∫éÊ£ÄÊü•ÂΩìÂâçÊ≠£Âú®Â§ÑÁêÜÁöÑÂ≠óÁ¨¶ÊòØÂê¶Â±û‰∫é Damaged By Design (DBD) ËåÉÂõ¥„ÄÇÂ¶ÇÊûúÂΩìÂâçÂ≠óÁ¨¶Â±û‰∫é DBD ËåÉÂõ¥ÔºåÂπ∂‰∏îÂâç‰∏Ä‰∏™Á¨¶Âè∑ '}' Ê≤°ÊúâË¢´Â∫üÊ≠¢Á¨¶ '`' ÊõøÊç¢ÔºåÈÇ£‰πàÂ∞ÜÂΩìÂâçÂ≠óÁ¨¶ÂíåÂâç‰∏Ä‰∏™Â≠óÁ¨¶Ê∑ªÂä†Âà∞ `char` ÂèòÈáè‰∏≠ÔºåÂπ∂Â∞Ü `i` ÂèòÈáèËá™Â¢û 1„ÄÇ

Êé•‰∏ãÊù•ÔºåÂ∞Ü `char` ÂÄºÂ≠òÂÇ®Âà∞Êï¥Êï∞ÂèòÈáè `len` ‰∏≠ÔºåÂπ∂Â∞Ü `i` ÂèòÈáèËá™Â¢û 1Ôºå‰ª•‰æøÂú®Âæ™ÁéØÁªìÊùüÂêéËøîÂõûÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶„ÄÇ

ÊúÄÂêéÔºåÂáΩÊï∞ËøîÂõû `state`ÔºåÂç≥ `func` ÂáΩÊï∞ÁöÑËøîÂõûÂÄº„ÄÇ


```
var _String_foldl = F3(function(func, state, string)
{
	var len = string.length;
	var i = 0;
	while (i < len)
	{
		var char = string[i];
		var word = string.charCodeAt(i);
		i++;
		if (0xD800 <= word && word <= 0xDBFF)
		{
			char += string[i];
			i++;
		}
		state = A2(func, _Utils_chr(char), state);
	}
	return state;
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_String_foldr` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞ÂèÇÊï∞ `func`Ôºå‰∏Ä‰∏™ÊåáÂêëÂ≠óÁ¨¶‰∏≤ `string` ÁöÑÊåáÈíàÔºå‰ª•Âèä‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ `str`„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®ÔºåÈ¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Êï¥ÂûãÂèòÈáè `i`ÔºåÁî®‰∫éË∑üË∏™Â≠óÁ¨¶‰∏≤ `string` ÁöÑÈïøÂ∫¶„ÄÇÁÑ∂ÂêéÔºå‰ΩøÁî® `while` Âæ™ÁéØ‰ªéÂ≠óÁ¨¶‰∏≤ÁöÑËµ∑Âßã‰ΩçÁΩÆÂºÄÂßãÈÅçÂéÜÔºåÁõ¥Âà∞ÈÅçÂéÜÂà∞Â≠óÁ¨¶‰∏≤ÁöÑÁªìÂ∞æ„ÄÇ

Âú®ÊØèÊ¨°ÈÅçÂéÜËøáÁ®ã‰∏≠ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `word` ÁöÑÊï¥ÂûãÂèòÈáèÔºåÁî®‰∫éË∑üË∏™ÂΩìÂâçÊ≠£Âú®Â§ÑÁêÜÁöÑÂ≠óÁ¨¶„ÄÇÁÑ∂ÂêéÔºåÂà§Êñ≠ `word` ÊòØÂê¶Â±û‰∫éÂ≠óËäÇÁ†ÅËåÉÂõ¥ÔºåÂç≥ 0xDC00 Âà∞ 0xDFFF ‰πãÈó¥„ÄÇÂ¶ÇÊûúÊòØÔºåÂàôÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

1. Â∞Ü `i` Ëá™Âáè 1Ôºå‰ª•‰æøË∑≥ËøáÂΩìÂâçÊ≠£Âú®Â§ÑÁêÜÁöÑÂ≠óÁ¨¶Ôºõ
2. Â∞Ü `char` Âä†‰∏äÂΩìÂâçÊ≠£Âú®Â§ÑÁêÜÁöÑÂ≠óÁ¨¶Ôºõ
3. Â∞Ü `state` ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `func` ÂáΩÊï∞Ôºå‰Ωú‰∏∫ÂèÇÊï∞ËøîÂõûÔºõ
4. ËøîÂõû `state` ‰Ωú‰∏∫ÁªìÊûú„ÄÇ

ÊúÄÂêéÔºåÂáΩÊï∞ËøîÂõû `state`ÔºåÂç≥ÂáΩÊï∞ÊâßË°åÁªìÊùüÊó∂ËøîÂõûÁöÑÂÄº„ÄÇ


```
var _String_foldr = F3(function(func, state, string)
{
	var i = string.length;
	while (i--)
	{
		var char = string[i];
		var word = string.charCodeAt(i);
		if (0xDC00 <= word && word <= 0xDFFF)
		{
			i--;
			char = string[i] + char;
		}
		state = A2(func, _Utils_chr(char), state);
	}
	return state;
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫ÜÂõõ‰∏™ÂáΩÊï∞ÔºåÂàÜÂà´‰ΩúÁî®‰∫éÂ≠óÁ¨¶‰∏≤ÁöÑÂàÜÂâ≤„ÄÅËøûÊé•ÂíåÊà™ÂèñÔºå‰ª•ÂèäÂéªÈô§Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÁ©∫Ê†º„ÄÇ

Á¨¨‰∏Ä‰∏™ÂáΩÊï∞ÊòØ `_String_split`ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÁªôÂÆöÁöÑÂàÜÈöîÁ¨¶ `sep` Âíå‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ `str`ÔºåËøîÂõû `str` Ê≤øÁùÄÂàÜÈöîÁ¨¶ `sep` ËøõË°åÁöÑÂàÜÂâ≤Êìç‰Ωú„ÄÇÂàÜÂâ≤ÂêéÁöÑÁªìÊûúËøîÂõû„ÄÇ

Á¨¨‰∫å‰∏™ÂáΩÊï∞ÊòØ `_String_join`ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÁªôÂÆöÁöÑÂàÜÈöîÁ¨¶ `sep` Âíå‰∏Ä‰∏™ÊàñÂ§ö‰∏™Â≠óÁ¨¶‰∏≤ `strs`ÔºåËøîÂõûËøô‰∫õÂ≠óÁ¨¶‰∏≤Ê≤øÁùÄÂàÜÈöîÁ¨¶ `sep` ÂêàÂπ∂ÂêéÁöÑÁªìÊûú„ÄÇ

Á¨¨‰∏â‰∏™ÂáΩÊï∞ÊòØ `_String_slice`ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÁªôÂÆöÁöÑËµ∑ÂßãÁ¥¢Âºï `start` ÂíåÁªìÊùüÁ¥¢Âºï `end`Ôºå‰ª•Âèä‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ `str`ÔºåËøîÂõû‰ªé `start` ÂºÄÂßãÔºåÂà∞ `end` ÁªìÊùüÁöÑÂ≠óÁ¨¶Êï∞ÁªÑ„ÄÇ

ÊúÄÂêé‰∏Ä‰∏™ÂáΩÊï∞ÊòØ `_String_trim`ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ `str`ÔºåÂéªÈô§ÂÖ∂‰∏≠ÁöÑÁ©∫Ê†ºÔºåÂπ∂Â∞ÜÁªìÊûúËøîÂõû„ÄÇ


```
var _String_split = F2(function(sep, str)
{
	return str.split(sep);
});

var _String_join = F2(function(sep, strs)
{
	return strs.join(sep);
});

var _String_slice = F3(function(start, end, str) {
	return str.slice(start, end);
});

function _String_trim(str)
{
	return str.trim();
}

```



Ëøô‰∏âÊÆµ‰ª£Á†ÅÈÉΩÊòØJavaScript‰∏≠ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®ÊòØÊà™ÂèñÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÂ∑¶‰æßÂíåÂè≥‰æßÁöÑÁ©∫ÁôΩÂ≠óÁ¨¶ÔºåÂπ∂ËøîÂõû trim() ÂáΩÊï∞ËøîÂõûÁöÑÊñ∞Â≠óÁ¨¶‰∏≤„ÄÇ

1. _String_trimLeft() ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊà™ÂèñÂ≠óÁ¨¶‰∏≤ÁöÑÂ∑¶‰æßÁ©∫ÁôΩÂ≠óÁ¨¶ÔºåÂ¶ÇÊûúÂ≠óÁ¨¶‰∏≤‰∏≠Ê≤°ÊúâÂ∑¶‰æßÁ©∫ÁôΩÂ≠óÁ¨¶ÔºåÂàôËøîÂõûÂéüÂ≠óÁ¨¶‰∏≤„ÄÇÂáΩÊï∞ÁöÑÂÆûÁé∞ÊòØÈÄöËøáË∞ÉÁî®Â≠óÁ¨¶‰∏≤ÁöÑreplace() ÊñπÊ≥ïÔºå‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÊù•ÂåπÈÖçÂ∑¶‰æßÁöÑÁ©∫ÁôΩÂ≠óÁ¨¶Ôºà^Âíå$ÔºâÔºåÂπ∂Â∞ÜÂÖ∂ÊõøÊç¢‰∏∫Á©∫Â≠óÁ¨¶‰∏≤„ÄÇ

2. _String_trimRight() ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊà™ÂèñÂ≠óÁ¨¶‰∏≤ÁöÑÂè≥‰æßÁ©∫ÁôΩÂ≠óÁ¨¶ÔºåÂ¶ÇÊûúÂ≠óÁ¨¶‰∏≤‰∏≠Ê≤°ÊúâÂè≥‰æßÁ©∫ÁôΩÂ≠óÁ¨¶ÔºåÂàôËøîÂõûÂéüÂ≠óÁ¨¶‰∏≤„ÄÇÂáΩÊï∞ÁöÑÂÆûÁé∞‰∏é _String_trimLeft() ÂáΩÊï∞Á±ª‰ººÔºåÂè™ÊòØ‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÊù•ÂåπÈÖçÂè≥‰æßÁöÑÁ©∫ÁôΩÂ≠óÁ¨¶Ôºà^Âíå$ÔºâÔºåÂπ∂Â∞ÜÂÖ∂ÊõøÊç¢‰∏∫Á©∫Â≠óÁ¨¶‰∏≤„ÄÇ

3. _String_words() ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞ÜÂ≠óÁ¨¶‰∏≤ÂàÜÂâ≤ÊàêÂçïËØçÔºåÂπ∂ËøîÂõûÊñ∞Â≠óÁ¨¶‰∏≤„ÄÇÂáΩÊï∞ÁöÑÂÆûÁé∞ÊòØÈÄöËøáË∞ÉÁî®Â≠óÁ¨¶‰∏≤ÁöÑsplit() ÊñπÊ≥ïÔºå‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÊù•ÂàÜÂâ≤Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÊØè‰∏™Á©∫ÁôΩÂ≠óÁ¨¶Ôºà\s+ÔºâÔºåÂπ∂Â∞ÜÂàÜÂâ≤ÂæóÂà∞ÁöÑÂçïËØçÂ≠òÂÇ®Âú®‰∏Ä‰∏™ÂàóË°®‰∏≠„ÄÇÁÑ∂ÂêéÔºå‰ΩøÁî® List.fromArray() ÊñπÊ≥ïÂ∞ÜÂàóË°®‰∏≠ÁöÑÊâÄÊúâÂçïËØçËøûÊé•Êàê‰∏Ä‰∏™Êñ∞Â≠óÁ¨¶‰∏≤„ÄÇ


```
function _String_trimLeft(str)
{
	return str.replace(/^\s+/, '');
}

function _String_trimRight(str)
{
	return str.replace(/\s+$/, '');
}

function _String_words(str)
{
	return _List_fromArray(str.trim().split(/\s+/g));
}

```

Ëøô‰∏âÊÆµ‰ª£Á†ÅÈÉΩÊòØJavaScript‰∏≠ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ª¨ÈÉΩÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞`str`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇ‰∏çÂêåÁöÑÂáΩÊï∞ÂÖ∑Êúâ‰∏çÂêåÁöÑÂÆûÁé∞ÔºåÂÖ∑‰ΩìËß£ÈáäÂ¶Ç‰∏ãÔºö

1. `_String_lines`ÔºöÂ∞ÜËæìÂÖ•Â≠óÁ¨¶‰∏≤`str`ÊãÜÂàÜ‰∏∫Ë°åÔºåÂπ∂Â∞ÜÊØèË°åÂ≠óÁ¨¶‰∏≤ËΩ¨‰πâ„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûúËæìÂÖ•Â≠óÁ¨¶‰∏≤‰∏∫`"Hello World"`ÔºåÂàôËøîÂõû`["Hello", "World"]`„ÄÇÂáΩÊï∞ÁöÑÂÆûÁé∞‰∏∫Ôºö
```scss
function _String_lines(str) {
   return str.split(/[\r\n]+/).map(line => line.trim()).map(line => line.toLowerCase()).join('\n');
}
```
2. `_String_toUpper`ÔºöÂ∞ÜËæìÂÖ•Â≠óÁ¨¶‰∏≤`str`‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫Â§ßÂÜô„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûúËæìÂÖ•Â≠óÁ¨¶‰∏≤‰∏∫`"Hello World"`ÔºåÂàôËøîÂõû`"HELLO WORLD"`„ÄÇÂáΩÊï∞ÁöÑÂÆûÁé∞‰∏∫Ôºö
```javascript
function _String_toUpper(str) {
   return str.toUpperCase();
}
```
3. `_String_toLower`ÔºöÂ∞ÜËæìÂÖ•Â≠óÁ¨¶‰∏≤`str`‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫Â∞èÂÜô„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûúËæìÂÖ•Â≠óÁ¨¶‰∏≤‰∏∫`"Hello World"`ÔºåÂàôËøîÂõû`"hello world"`„ÄÇÂáΩÊï∞ÁöÑÂÆûÁé∞‰∏∫Ôºö
```javascript
function _String_toLower(str) {
   return str.toLowerCase();
}
```
`_String_lines`ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞ÜËæìÂÖ•Â≠óÁ¨¶‰∏≤`str`ÊãÜÂàÜ‰∏∫Ë°åÔºåÂπ∂Â∞ÜÊØèË°åÂ≠óÁ¨¶‰∏≤ËΩ¨‰πâ„ÄÇËøôÊÑèÂë≥ÁùÄÊØèË°åÂ≠óÁ¨¶‰∏≤ÈÉΩÂ∞Ü‰ΩøÁî®`\n`ËΩ¨‰πâÂ≠óÁ¨¶‰∏≤Êù•Ë°®Á§∫ÂõûËΩ¶ÊàñÊç¢Ë°åÁ¨¶„ÄÇ`_String_toUpper`ÂáΩÊï∞Â∞ÜËæìÂÖ•Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫Â§ßÂÜô„ÄÇ`_String_toLower`ÂáΩÊï∞Â∞ÜËæìÂÖ•Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫Â∞èÂÜô„ÄÇ


```
function _String_lines(str)
{
	return _List_fromArray(str.split(/\r\n|\r|\n/g));
}

function _String_toUpper(str)
{
	return str.toUpperCase();
}

function _String_toLower(str)
{
	return str.toLowerCase();
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_String_any` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ `isGood` Âíå `string`„ÄÇÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊ£ÄÊü•ÁªôÂÆöÁöÑÂ≠óÁ¨¶‰∏≤ÊòØÂê¶Á¨¶ÂêàÊüêÁßçÁâπÂÆöÁöÑËßÑÂàôÔºåÂ¶ÇÊûúÁ¨¶ÂêàËßÑÂàôÔºåÂàôËøîÂõû `true`ÔºåÂê¶ÂàôËøîÂõû `false`„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®ÔºåÈ¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Êï¥ÂûãÂèòÈáè `i`ÔºåÁî®‰∫éÂ≠òÂÇ®ÂΩìÂâçÊ≠£Âú®Â§ÑÁêÜÁöÑÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶„ÄÇÁÑ∂ÂêéÔºå‰ΩøÁî® `while` Âæ™ÁéØÔºåÈÅçÂéÜÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶Ôºå‰ªéÂ≠óÁ¨¶‰∏≤ÁöÑÁ¨¨‰∫å‰∏™Â≠óÁ¨¶ÂºÄÂßã„ÄÇÂú®Âæ™ÁéØ‰ΩìÂÜÖÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ `if` ËØ≠Âè•ÔºåÁî®‰∫éÊ£ÄÊü•ÂΩìÂâçÂ≠óÁ¨¶ÊòØÂê¶Â±û‰∫éÊüêÁßçÁâπÂÆöÁöÑÂ≠óÁ¨¶ËåÉÂõ¥„ÄÇÂ¶ÇÊûúÂ≠óÁ¨¶Âú® `0xDC00` Âà∞ `0xDFFF` ‰πãÈó¥ÔºåÂàôÂ∞Ü `i` ÂáèÂéªÔºåÂπ∂Â∞ÜÂ≠óÁ¨¶Âä†Âà∞ `char` ÂèòÈáè‰∏ä„ÄÇ

Âæ™ÁéØÁªßÁª≠ËøõË°åÔºåÁõ¥Âà∞Â§ÑÁêÜ‰∫ÜÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶„ÄÇÊé•‰∏ãÊù•ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑ `if` ËØ≠Âè•ÔºåÁî®‰∫éÊ£ÄÊü•Â§ÑÁêÜÂêéÂæóÂà∞ÁöÑÂ≠óÁ¨¶‰∏≤ÊòØÂê¶‰ªçÁÑ∂Á¨¶ÂêàËßÑÂàô„ÄÇÂ¶ÇÊûú‰ªçÁÑ∂Á¨¶ÂêàËßÑÂàôÔºåÂàôËøîÂõû `true`ÔºåÂê¶ÂàôËøîÂõû `false`„ÄÇ

ÊúÄÂêéÔºåÂáΩÊï∞ËøîÂõû `isGood` ÁöÑËøîÂõûÂÄºÔºåÂ¶ÇÊûúËøîÂõû `true`ÔºåÂàôËØ¥ÊòéÂ≠óÁ¨¶‰∏≤Á¨¶ÂêàËßÑÂàôÔºåËøîÂõû `null` Ë°®Á§∫ÊàêÂäüÂ§ÑÁêÜÂ≠óÁ¨¶‰∏≤ÔºõÂ¶ÇÊûúËøîÂõû `false`ÔºåÂàôËøîÂõû `null` Ë°®Á§∫Â§ÑÁêÜÂ§±Ë¥•„ÄÇ


```
var _String_any = F2(function(isGood, string)
{
	var i = string.length;
	while (i--)
	{
		var char = string[i];
		var word = string.charCodeAt(i);
		if (0xDC00 <= word && word <= 0xDFFF)
		{
			i--;
			char = string[i] + char;
		}
		if (isGood(_Utils_chr(char)))
		{
			return true;
		}
	}
	return false;
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_String_all` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `string`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄº„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

1. ÈÅçÂéÜÂ≠óÁ¨¶‰∏≤ `string` ÁöÑÊâÄÊúâÂ≠óÁ¨¶Ôºå‰ªé0ÂºÄÂßã„ÄÇ
2. ÂØπ‰∫éÊØè‰∏™Â≠óÁ¨¶ÔºåËé∑ÂèñÂÖ∂ ASCII Á†ÅÂπ∂Ê£ÄÊü•ÂÖ∂ÊòØÂê¶Âú®0xDC00Âà∞0xDFFF‰πãÈó¥„ÄÇ
3. Â¶ÇÊûúÂ≠óÁ¨¶Á†ÅÂú®ËåÉÂõ¥ÂÜÖÔºåÂàôÂ∞ÜÂΩìÂâçÂ≠óÁ¨¶ `char` ÁöÑ ASCII Á†ÅÂä†1ÔºåÂπ∂Â∞Ü `i` Âáè1ÔºåÁªßÁª≠ÈÅçÂéÜ„ÄÇ
4. Â¶ÇÊûúÂΩìÂâçÂ≠óÁ¨¶ÁöÑ ASCII Á†Å‰∏çÂú®Ëøô‰∏™ËåÉÂõ¥ÂÜÖÔºåÂáΩÊï∞ËøîÂõû false„ÄÇ

ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊ£ÄÊü•ÁªôÂÆöÁöÑÂ≠óÁ¨¶‰∏≤ÊòØÂê¶ÂåÖÂê´‰∏Ä‰∫õÁâπÊÆäÁöÑÂ≠óÁ¨¶ÔºåÂ¶Ç`/`„ÄÅ`\*`„ÄÅ`<`„ÄÅ`>`„ÄÅ`|`„ÄÅ`^`„ÄÅ`_`„ÄÅ``„ÄÇÔºå‰ª•Âèä‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂ≠óÁ¨¶ÔºåÂ¶Ç`\n`„ÄÅ`\r`„ÄÅ`\t`„ÄÅ`\u00a3`„ÄÅ`\u200b`„ÄÅ`\u200c`„ÄÅ`\u200d`„ÄÅ`\u200f`„ÄÅ`\u2014`„ÄÅ`\u2015`„ÄÅ`\u2016`„ÄÅ`\u2017`„ÄÅ`\u2018`„ÄÅ`\u2019`„ÄÅ`\u2020`„ÄÅ`\u2021`„ÄÅ`\u2022`„ÄÅ`\u2023`„ÄÅ`\u2024`„ÄÅ`\u2025`„ÄÅ`\u2026`„ÄÅ`\u2027`„ÄÅ`\u2028`„ÄÅ`\u2029`„ÄÅ`\u2030`„ÄÅ`\u2031`„ÄÅ`\u2032`„ÄÅ`\u2033`„ÄÅ`\u2034`„ÄÅ`\u2035`„ÄÅ`\u2036`„ÄÅ`\u2037`„ÄÅ`\u2038`„ÄÅ`\u2039`„ÄÅ`\u2040`„ÄÅ`\u2041`„ÄÅ`\u2042`„ÄÅ`\u2043`„ÄÅ`\u2044`„ÄÅ`\u2045`„ÄÅ`\u2046`„ÄÅ`\u2047`„ÄÅ`\u2048`„ÄÅ`\u2049`„ÄÅ`\u2050`„ÄÅ`\u2051`„ÄÅ`\u2052`„ÄÅ`\u2053`„ÄÅ`\u2054`„ÄÅ`\u2055`„ÄÅ`\u2056`„ÄÅ`\u2057`„ÄÅ`\u2058`„ÄÅ`\u2059`„ÄÅ`\u2060`„ÄÅ`\u2061`„ÄÅ`\u2062`„ÄÅ`\u2063`„ÄÅ`\u2064`„ÄÅ`\u2065`„ÄÅ`\u2066`„ÄÅ`\u2067`„ÄÅ`\u2068`„ÄÅ`\u2069`„ÄÅ`\u2070`„ÄÅ`\u2071`„ÄÅ`\u2072`„ÄÅ`\u2073`„ÄÅ`\u2074`„ÄÅ`\u2075`„ÄÅ`\u2076`„ÄÅ`\u2077`„ÄÅ`\u2078`„ÄÅ`\u2079`„ÄÅ`\u2080`„ÄÅ`\u2081`„ÄÅ`\u2082`„ÄÅ`\u2083`„ÄÅ`\u2084`„ÄÅ`\u2085`„ÄÅ`\u2086`„ÄÅ`\u2087`„ÄÅ`\u2088`„ÄÅ`\u2089`„ÄÅ`\u2090`„ÄÅ`\u2091`„ÄÅ`\u2092`„ÄÅ`\u2093`„ÄÅ`\u2094`„ÄÅ`\u2095`„ÄÅ`\u2096`„ÄÅ`\u2097`„ÄÅ`\u2098`„ÄÅ`\u2099`„ÄÅ`\u2100`„ÄÅ`\u2101`„ÄÅ`\u2102`„ÄÅ`\u2103`„ÄÅ`\u2104`„ÄÅ`\u2105`„ÄÅ`\u2106`„ÄÅ`\u2107`„ÄÅ`\u2108`„ÄÅ`\u2109`„ÄÅ`\u2110`„ÄÅ`\u2111`„ÄÅ`\u2112`„ÄÅ`\u2113`„ÄÅ`\u2114`„ÄÅ`\u2115`„ÄÅ`\u2116`„ÄÅ`\u2117`„ÄÅ`\u2118`„ÄÅ`\u2119`„ÄÅ`\u2120`„ÄÅ`\u2121`„ÄÅ`\u2122`„ÄÅ`\u2123`„ÄÅ`\u2124`„ÄÅ`\u2125`„ÄÅ`\u2126`„ÄÅ`\u2127`„ÄÅ`\u2128`„ÄÅ`\u2129`„ÄÅ`\u2130`„ÄÅ`\u2131`„ÄÅ`\u2132`„ÄÅ`\u2133`„ÄÅ`\u2134`„ÄÅ`\u2135`„ÄÅ`\u2136`„ÄÅ`\u2137`„ÄÅ`\u2138`„ÄÅ`\u2139`„ÄÅ`\u2140`„ÄÅ`\u2141`„ÄÅ`\u2142`„ÄÅ`\u2143`„ÄÅ`\u2144`„ÄÅ`\u2145`„ÄÅ`\u2146`„ÄÅ`\u2147`„ÄÅ`\u2148`„ÄÅ`\u2149`„ÄÅ`\u2150`„ÄÅ`\u2151`„ÄÅ`\u2152`„ÄÅ`\u2153`„ÄÅ`\u2154`„ÄÅ`\u2155`„ÄÅ`\u2156`„ÄÅ`\u2157`„ÄÅ`\u2158`„ÄÅ`\u2159`„ÄÅ`\u2160`„ÄÅ`\u2161`„ÄÅ`\u2162`„ÄÅ`\u2163`„ÄÅ`\u2164`„ÄÅ`\u2165`„ÄÅ`\u2166`„ÄÅ`\u2167`„ÄÅ`\u2168`„ÄÅ`\u2169`„ÄÅ`\u2170`„ÄÅ`\u2171`„ÄÅ`\u2172`„ÄÅ`\u2173`„ÄÅ`\u2174`„ÄÅ`\u2175`„ÄÅ`\u2176`„ÄÅ`\u2177`„ÄÅ`\u2178`„ÄÅ`\u2179`„ÄÅ`\u2180`„ÄÅ`\u2181`„ÄÅ`\u2182`„ÄÅ`\u2183`„ÄÅ`\u2184`„ÄÅ`\u2185`„ÄÅ`\u2186`„ÄÅ`\u2187`„ÄÅ`\u2188`„ÄÅ`\u2189`„ÄÅ`\u2190`„ÄÅ`\u2191`„ÄÅ`\u2192`„ÄÅ`\u


```
var _String_all = F2(function(isGood, string)
{
	var i = string.length;
	while (i--)
	{
		var char = string[i];
		var word = string.charCodeAt(i);
		if (0xDC00 <= word && word <= 0xDFFF)
		{
			i--;
			char = string[i] + char;
		}
		if (!isGood(_Utils_chr(char)))
		{
			return false;
		}
	}
	return true;
});

```

Ëøô‰∏âÊÆµ‰ª£Á†ÅÈÉΩ‰ΩøÁî®‰∫Ü JavaScript ‰∏≠ÁöÑÂáΩÊï∞Ë°®ËææÂºèÔºåÁî®‰∫éÊ£ÄÊü•Â≠óÁ¨¶‰∏≤ÊòØÂê¶ÂåÖÂê´ÁªôÂÆöÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤„ÄÇ

`_String_contains` ÂáΩÊï∞Êé•Âèó‰∏§‰∏™ÂèÇÊï∞ `sub` Âíå `str`ÔºåÂπ∂ËøîÂõû `true` ÊàñËÄÖ `false`ÔºåÂèñÂÜ≥‰∫éÁªôÂÆöÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ÊòØÂê¶Âá∫Áé∞Âú®Â≠óÁ¨¶‰∏≤‰∏≠„ÄÇ

`_String_startsWith` ÂáΩÊï∞‰∏é `_String_contains` Á±ª‰ººÔºå‰ΩÜÊÄªÊòØËøîÂõû `true`ÔºåÂç≥‰ΩøÂ≠êÂ≠óÁ¨¶‰∏≤‰∏ç‰ª• `sub` ÁöÑÂºÄÂ§¥„ÄÇ

`_String_endsWith` ÂáΩÊï∞‰∏é `_String_startsWith` Á±ª‰ººÔºå‰ΩÜÊÄªÊòØËøîÂõû `true`ÔºåÂç≥‰ΩøÂ≠êÂ≠óÁ¨¶‰∏≤‰∏ç‰ª• `sub` ÁöÑÁªìÂ∞æ„ÄÇ

Ëøô‰∫õÂáΩÊï∞Ë°®ËææÂºèÂèØ‰ª•Áî®Êù•Ê£ÄÊü•ÁªôÂÆöÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ÊòØÂê¶Âá∫Áé∞Âú®Â≠óÁ¨¶‰∏≤‰∏≠Ôºå‰ª•ÂèäÊòØÂê¶‰ª•ÁªôÂÆöÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ÂºÄÂ§¥ÊàñÁªìÂ∞æ„ÄÇ


```
var _String_contains = F2(function(sub, str)
{
	return str.indexOf(sub) > -1;
});

var _String_startsWith = F2(function(sub, str)
{
	return str.indexOf(sub) === 0;
});

var _String_endsWith = F2(function(sub, str)
{
	return str.length >= sub.length &&
		str.lastIndexOf(sub) === str.length - sub.length;
});

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ‰ª£Á†ÅÁâáÊÆµÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_String_indexes` ÁöÑÂèòÈáèÔºåÂπ∂ÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÂáΩÊï∞ `F2`„ÄÇÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Â≠óÁ¨¶‰∏≤ `str` ‰∏≠ÊâÄÊúâÂá∫Áé∞ËøáÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÂàóË°®„ÄÇ

ÂáΩÊï∞ÁöÑÂÆûÁé∞‰∏ªË¶ÅÂàÜ‰∏∫‰∏§‰∏™ÈÉ®ÂàÜÔºö

1. Âà§Êñ≠Â≠êÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶ÊòØÂê¶Â§ß‰∫é 1ÔºåÂ¶ÇÊûúÊòØÔºåËøîÂõû‰∏Ä‰∏™Á©∫ÂàóË°® `_List_Nil`„ÄÇ
2. ÂÆö‰πâ‰∏Ä‰∏™ËÆ°Êï∞Âô® `i` Âíå‰∏Ä‰∏™Â∏ÉÂ∞îÊï∞ÁªÑ `is`ÔºåÁî®‰∫éËÆ∞ÂΩïÊØè‰∏™Â≠êÂ≠óÁ¨¶‰∏≤Âú®Â≠óÁ¨¶‰∏≤ `str` ‰∏≠Âá∫Áé∞ÁöÑÊ¨°Êï∞„ÄÇÁÑ∂ÂêéÔºåÂú®Â≠óÁ¨¶‰∏≤ `str` ‰∏≠‰ªéÂâçÂæÄÂêéÊâ´ÊèèÔºåÊâæÂà∞Á¨¨‰∏Ä‰∏™Âá∫Áé∞ÁöÑ‰ΩçÁΩÆ `sub`ÔºåÂ∞ÜËØ•‰ΩçÁΩÆÂèäÂÖ∂‰πãÂêéÁöÑÂ≠óÁ¨¶ÂÖ®ÈÉ®Ê∑ªÂä†Âà∞ `is` Êï∞ÁªÑ‰∏≠„ÄÇÊé•ÁùÄÔºå‰ªé `i` Ëµ∑Âßã‰ΩçÁΩÆÈáçÊñ∞ÂºÄÂßãÊâ´ÊèèÔºåÈáçÂ§çËøô‰∏™ËøáÁ®ãÔºåÁõ¥Âà∞Êâ´ÊèèÂà∞Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÊúÄÂêé‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ
3. ËøîÂõû `is` Êï∞ÁªÑÔºå‰Ωú‰∏∫ÁªôÂÆöÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ÂàóË°®„ÄÇ


```
var _String_indexes = F2(function(sub, str)
{
	var subLen = sub.length;

	if (subLen < 1)
	{
		return _List_Nil;
	}

	var i = 0;
	var is = [];

	while ((i = str.indexOf(sub, i)) > -1)
	{
		is.push(i);
		i = i + subLen;
	}

	return _List_fromArray(is);
});


```

Ëøô‰∏§ÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞Ôºö`_String_fromNumber` Âíå `_String_toInt`ÔºåÁî®‰∫éÂ∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫Êï∞Â≠óÂíåÂ∞ÜÊï∞Â≠óËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇ

`_String_fromNumber`ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™Êï¥Êï∞ÂèÇÊï∞ `number`ÔºåÂπ∂Â∞ÜÂÖ∂ËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰∏éÊï∞Â≠ó‰πãÈó¥ÁöÑÂ≠óÁ¨¶„ÄÇ‰æãÂ¶ÇÔºåÂ∞ÜÊï¥Êï∞4ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤"4"Âπ∂Â∞ÜÊï¥Êï∞12ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤"12"„ÄÇ

`_String_toInt`ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂèÇÊï∞ `str`ÔºåÂπ∂Â∞ÜÂÖ∂ËøîÂõû‰∏Ä‰∏™Êï¥Êï∞„ÄÇÂÆÉÈÄöËøáÈÅçÂéÜÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÊØè‰∏™Â≠óÁ¨¶ÔºåÂπ∂Ê£ÄÊü•ÂÖ∂ÊòØÂê¶‰∏∫Êï∞Â≠óÔºåÂ¶ÇÊûúÊòØÔºåÂàôËøîÂõûÂÖ∂ÂéüÂßãÂÄºÔºåÂê¶ÂàôËøîÂõû‰∏Ä‰∏™Ë°®Á§∫ÈîôËØØ‰ø°ÊÅØÁöÑÂáΩÊï∞ÂÄº„ÄÇ

Ëøô‰∏§ÊÆµ‰ª£Á†ÅÈÄöËøáÂ∞ÜÊï∞Â≠ó‰∏éÂ≠óÁ¨¶‰∏≤Êìç‰ΩúÁªÑÂêàÂú®‰∏ÄËµ∑ÔºåÂÆûÁé∞‰∫ÜÂ∞ÜÊï∞Â≠ó‰∏éÂ≠óÁ¨¶‰∏≤‰πãÈó¥ÁöÑËΩ¨Êç¢„ÄÇ


```
// TO STRING

function _String_fromNumber(number)
{
	return number + '';
}


// INT CONVERSIONS

function _String_toInt(str)
{
	var total = 0;
	var code0 = str.charCodeAt(0);
	var start = code0 == 0x2B /* + */ || code0 == 0x2D /* - */ ? 1 : 0;

	for (var i = start; i < str.length; ++i)
	{
		var code = str.charCodeAt(i);
		if (code < 0x30 || 0x39 < code)
		{
			return $elm$core$Maybe$Nothing;
		}
		total = 10 * total + code - 0x30;
	}

	return i == start
		? $elm$core$Maybe$Nothing
		: $elm$core$Maybe$Just(code0 == 0x2D ? -total : total);
}


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞ÔºåÂàÜÂà´ÊòØÂØπÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫ÊµÆÁÇπÊï∞Âíå‰ªéÂàóË°®‰∏≠ËøîÂõûÂ≠óÁ¨¶‰∏≤„ÄÇ

ÂáΩÊï∞1ÊòØ `_String_toFloat`ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂ∞Ü‰º†ÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤Ëß£Êûê‰∏∫ÊµÆÁÇπÊï∞Âπ∂ËøîÂõû„ÄÇÂÆÉÂÅö‰∫Ü‰ª•‰∏ãÂá†Ê≠•Ôºö

1. Ê£ÄÊü•‰º†ÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤ÊòØÂê¶‰∏∫Á©∫ÊàñÂè™ÂåÖÂê´ `0` Âà∞ `255` ÁöÑÂ≠óÁ¨¶ÔºåÂ¶ÇÊûú‰∏çÊòØÔºåÂàôËøîÂõû `undefined`„ÄÇ
2. Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤ÂåÖÂê´ `@`„ÄÅ`x` Êàñ `o`ÔºåÂàôÂ∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫ÊµÆÁÇπÊï∞„ÄÇ
3. Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤ÂåÖÂê´ `Êï∞Â≠ó`ÔºåÂàôÂ∞ÜÂÖ∂Ëß£Êûê‰∏∫ÊµÆÁÇπÊï∞Âπ∂ËøîÂõû„ÄÇ
4. Â¶ÇÊûúÊ≠•È™§ 2 Êàñ 3 ‰∏≠ÁöÑ‰ªªÊÑè‰∏Ä‰∏™ÂèëÁîüÔºå‰ΩÜÂ≠óÁ¨¶‰∏≤‰ªçÁÑ∂ÊòØ `null` Êàñ `undefined`ÔºåÂàôËøîÂõû `undefined`„ÄÇ

ÂáΩÊï∞2ÊòØ `_String_fromList`ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØ‰ªé‰º†ÂÖ•ÁöÑÂàóË°®‰∏≠ËøîÂõûÂ≠óÁ¨¶‰∏≤„ÄÇÂÆÉÂÅö‰∫Ü‰ª•‰∏ã‰∏ÄÊ≠•Ôºö

1. Â∞Ü‰º†ÂÖ•ÁöÑÂàóË°®‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶Êï∞ÁªÑ„ÄÇ
2. Â∞ÜËøô‰∏™Â≠óÁ¨¶Êï∞ÁªÑ‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶‰∏≤ËøûÊé•Ëµ∑Êù•ÔºåÂΩ¢Êàê‰∏Ä‰∏™Êñ∞ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜÂÖ∂ËøîÂõû„ÄÇ

Ëøô‰∏§‰∏™ÂáΩÊï∞ÊòØ Python ‰∏≠ `str` Á±ªÂûãÔºà‰ª£Ë°®Â≠óÁ¨¶‰∏≤ÔºâÁöÑÈáçË¶ÅÁî®ÈÄîÔºå‰ΩøÂæóÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁâπÂÆöÁöÑÊñπÂºèÂ∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫Êï∞Â≠óÔºåÊàñËÄÖÂ∞ÜÊï∞Â≠óËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇ


```
// FLOAT CONVERSIONS

function _String_toFloat(s)
{
	// check if it is a hex, octal, or binary number
	if (s.length === 0 || /[\sxbo]/.test(s))
	{
		return $elm$core$Maybe$Nothing;
	}
	var n = +s;
	// faster isNaN check
	return n === n ? $elm$core$Maybe$Just(n) : $elm$core$Maybe$Nothing;
}

function _String_fromList(chars)
{
	return _List_toArray(chars).join('');
}




```

Ëøô‰∏§‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞Ü‰∏Ä‰∏™Â≠óÁ¨¶ËΩ¨Êç¢‰∏∫ Unicode ÁºñÁ†Å„ÄÇ

ÂáΩÊï∞ 1: `_Char_toCode(char)` Â∞ÜÁªôÂÆöÁöÑÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫ Unicode ÁºñÁ†ÅÔºåÂπ∂ËøîÂõûÂÖ∂ Unicode ÁºñÁ†ÅÂÄº„ÄÇ

ÂáΩÊï∞ 2: `_Char_fromCode(code)` Â∞ÜÁªôÂÆöÁöÑ Unicode ÁºñÁ†ÅÂÄºËΩ¨Êç¢‰∏∫Â≠óÁ¨¶ÔºåÂπ∂ËøîÂõûÂÖ∂Â≠óÁ¨¶Ë°®Á§∫ÂΩ¢Âºè„ÄÇ

ÂáΩÊï∞ 1 È¶ñÂÖàÊ£ÄÊü•‰º†ÂÖ•ÁöÑÂ≠óÁ¨¶ÊòØÂê¶Â±û‰∫éÂü∫Êú¨Â≠óÁ¨¶ÈõÜÔºàÂç≥‰ª£Á†ÅÂú® 0xD800 Âà∞ 0xDBFF ËåÉÂõ¥ÂÜÖÔºâ„ÄÇÂ¶ÇÊûúÊòØÔºåÂáΩÊï∞Â∞ÜËøîÂõûÂ≠óÁ¨¶ÁöÑ Unicode ÁºñÁ†ÅÂÄº„ÄÇÂê¶ÂàôÔºåÂáΩÊï∞Â∞ÜËøîÂõû‰ª£Á†ÅÁöÑ Unicode ÁºñÁ†ÅÂÄº„ÄÇ

ÂáΩÊï∞ 2 È¶ñÂÖàÊ£ÄÊü•‰º†ÂÖ•ÁöÑ Unicode ÁºñÁ†ÅÂÄºÊòØÂê¶Â∞è‰∫é 0x10FFFF„ÄÇÂ¶ÇÊûúÊòØÔºåÂáΩÊï∞Â∞ÜËøîÂõû Unicode ÁºñÁ†ÅÂÄº„ÄÇÂê¶ÂàôÔºåÂáΩÊï∞Â∞ÜÈÄöËøá‰∏ÄÁ≥ªÂàóËÆ°ÁÆóÂæóÂà∞Â≠óÁ¨¶ÁöÑË°®Á§∫ÂΩ¢Âºè„ÄÇÂÖ∑‰ΩìÂú∞ÔºåÂáΩÊï∞Â∞ÜÂÖàÂ∞Ü Unicode ÁºñÁ†ÅÂÄºÈô§‰ª• 0x400ÔºåÁÑ∂ÂêéÂ∞ÜÂïÜ 0x400 ÂèñÊï¥ÔºåÂπ∂Â∞Ü‰ΩôÊï∞ 0xDC00 Âä†Âà∞Â≠óÁ¨¶ÁöÑË°®Á§∫ÂΩ¢Âºè‰∏≠„ÄÇÂ¶ÇÊûú Unicode ÁºñÁ†ÅÂÄºÂú® 0x10000 Âà∞ 0x40000 ËåÉÂõ¥ÂÜÖÔºåÂáΩÊï∞Â∞Ü‰ΩøÁî®ÂèåÂ≠óËäÇÁöÑË°®Á§∫ÂΩ¢Âºè„ÄÇÂê¶ÂàôÔºåÂáΩÊï∞Â∞Ü‰ΩøÁî®Âçï‰∏™Â≠óËäÇÁöÑË°®Á§∫ÂΩ¢Âºè„ÄÇ


```
function _Char_toCode(char)
{
	var code = char.charCodeAt(0);
	if (0xD800 <= code && code <= 0xDBFF)
	{
		return (code - 0xD800) * 0x400 + char.charCodeAt(1) - 0xDC00 + 0x10000
	}
	return code;
}

function _Char_fromCode(code)
{
	return _Utils_chr(
		(code < 0 || 0x10FFFF < code)
			? '\uFFFD'
			:
		(code <= 0xFFFF)
			? String.fromCharCode(code)
			:
		(code -= 0x10000,
			String.fromCharCode(Math.floor(code / 0x400) + 0xD800, code % 0x400 + 0xDC00)
		)
	);
}

```

Ëøô‰∫õÂáΩÊï∞Â∞Ü‰∏Ä‰∏™Â≠óÁ¨¶ËΩ¨Êç¢‰∏∫Áõ∏Â∫îÁöÑ uppercase, lowercase Êàñ locale-specific uppercase„ÄÇ

_Char_toUpper ÂáΩÊï∞Â∞Ü‰∏Ä‰∏™Â≠óÁ¨¶ËΩ¨Êç¢‰∏∫Â∞èÂÜôÂ≠óÊØçÁöÑ uppercaseÔºåËøôÈÄöÂ∏∏Áî®‰∫éÂú®Ëã±ÊñáÂ≠óÁ¨¶‰∏≠‰ΩøÁî®ËøûÂ≠óÁ¨¶Êó∂Á°Æ‰øùÊ≠£Á°ÆÊÄß„ÄÇ

_Char_toLower ÂáΩÊï∞Â∞Ü‰∏Ä‰∏™Â≠óÁ¨¶ËΩ¨Êç¢‰∏∫Â∞èÂÜôÂ≠óÊØçÁöÑ lowercase„ÄÇ

_Char_toLocaleUpper ÂáΩÊï∞Â∞Ü‰∏Ä‰∏™Â≠óÁ¨¶ËΩ¨Êç¢‰∏∫Êú¨Âú∞ËØ≠Ë®ÄÁöÑ uppercaseÔºåËøôÈÄöÂ∏∏Áî®‰∫éÂú®Êüê‰∫õÁºñÁ®ãËØ≠Ë®Ä‰∏≠Â§ÑÁêÜÂ≠óÁ¨¶‰∏≤Êó∂Á°Æ‰øùÊ≠£Á°ÆÊÄß„ÄÇËØ•ÂáΩÊï∞‰ΩøÁî® JavaScript ÁöÑ `toLocaleUpperCase` ÂáΩÊï∞Â∞ÜÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫Áõ∏Â∫îÁöÑ uppercaseÔºåÁÑ∂Âêé‰ΩøÁî®ÁºñÁ®ãËØ≠Ë®ÄËá™Â∑±ÁöÑÂáΩÊï∞Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫ locale-specific uppercase„ÄÇ


```
function _Char_toUpper(char)
{
	return _Utils_chr(char.toUpperCase());
}

function _Char_toLower(char)
{
	return _Utils_chr(char.toLowerCase());
}

function _Char_toLocaleUpper(char)
{
	return _Utils_chr(char.toLocaleUpperCase());
}

```

Ëøô‰∏§‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö

1. `_Char_toLocaleLower`ÔºöËØ•ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™Â≠óÁ¨¶ÔºàcharÔºâ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫Â∞èÂÜôÔºàlocaleLowerCaseÔºâÁâàÊú¨„ÄÇÁÑ∂ÂêéÔºåÂÆÉË∞ÉÁî®‰∫Ü`_Utils_chr`ÂáΩÊï∞ÔºåÂ∞ÜÁªìÊûúËøîÂõû„ÄÇ`_Utils_chr`ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞ÜËæìÂÖ•ÁöÑÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫Áõ∏Â∫îÁöÑ lowercase Â≠óÁ¨¶„ÄÇ

2. `_Json_errorToString`ÔºöËØ•ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÈîôËØØÔºàerrorÔºâÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇÂÆÉË∞ÉÁî®‰∫Ü`$elm$json$Json$Decode$errorToString`ÂáΩÊï∞ÔºåÂ∞ÜÈîôËØØ‰ø°ÊÅØËøîÂõû„ÄÇ`$elm$json$Json$Decode$errorToString`ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞Ü‰ªé JSON ÈîôËØØ‰∏≠ËøîÂõûÁöÑÈîôËØØ‰ø°ÊÅØËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇ


```
function _Char_toLocaleLower(char)
{
	return _Utils_chr(char.toLocaleLowerCase());
}



/**_UNUSED/
function _Json_errorToString(error)
{
	return $elm$json$Json$Decode$errorToString(error);
}
//*/


```

Ëøô‰∏§ÂáΩÊï∞ÊòØ JavaScript ÁöÑ Core Decoders Â∫ì‰∏≠ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®ÊòØÂ§ÑÁêÜ JSON ‰∏≠ÁöÑÈîôËØØÊ∂àÊÅØ„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂÆÉ‰ª¨Êé•Êî∂‰∏Ä‰∏™ JSON Â≠óÁ¨¶‰∏≤‰Ωú‰∏∫ÂèÇÊï∞ÔºåÊ†πÊçÆÂ≠óÁ¨¶‰∏≤ÁöÑÂÄºËøîÂõû‰∏Ä‰∏™ JSON ÂØπË±°ÔºåÂÖ∂‰∏≠ÂåÖÂê´‰∏§‰∏™ÈîÆÔºö‰∏Ä‰∏™ÊòØ `$` Á¨¶Âè∑ÔºåÂè¶‰∏Ä‰∏™ÊòØ `msg` Â≠óÁ¨¶‰∏≤„ÄÇÂ¶ÇÊûúÂ≠óÁ¨¶‰∏≤ÁöÑÂÄº‰∏∫ `0`ÔºåÂàôËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ `$` ÈîÆ‰∏∫ `0` Âíå `msg` Â≠óÁ¨¶‰∏≤‰∏∫ `0` ÁöÑ JSON ÂØπË±°ÔºåÂê¶ÂàôËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ `$` ÈîÆ‰∏∫ `1` Âíå `msg` Â≠óÁ¨¶‰∏≤‰∏∫ `1` ÁöÑ JSON ÂØπË±°„ÄÇ

Ëøô‰∏§‰∏™ÂáΩÊï∞ÂèØ‰ª•Áî®Êù•Âú®ÈúÄË¶ÅÊó∂Áªô JSON ÂØπË±°Ê∑ªÂä†ÈîôËØØÊ∂àÊÅØÔºå‰ª•‰æøÁî®Êà∑ËÉΩÂ§üÊõ¥ËΩªÊùæÂú∞Â§ÑÁêÜ JSON Êï∞ÊçÆ‰∏≠ÁöÑÈîôËØØ„ÄÇ


```
// CORE DECODERS

function _Json_succeed(msg)
{
	return {
		$: 0,
		a: msg
	};
}

function _Json_fail(msg)
{
	return {
		$: 1,
		a: msg
	};
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Json_decodePrim` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `decoder`ÔºåÂÆÉÁî®‰∫éÂõûÂÇ≥ JSON decode ÁöÑÁ¨¨‰∫åÂÄãÂèÉÊï∏„ÄÇ

Êé•‰∏ãÊù•ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Json_decodeInt` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰πüÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `value`ÔºåÁî®‰∫éÂõûÂÇ≥ JSON decode ÁöÑÁ¨¨‰∏ÄÂÄãÂèÉÊï∏„ÄÇ‰∏çËøáÔºåËøô‰∏™ `value` ÂøÖÈ†àÊòØÊï∏Â≠óÈ°ûÂûã„ÄÇ

`_Json_decodeInt` ÁöÑÂØ¶ÁèæÊñπÂºèÂ¶Ç‰∏ãÔºö

1. Â¶ÇÊûú `value` ÊòØÊï∏Â≠óÈ°ûÂûãÔºåÁõ¥Êé•ËøîÂõû `value`„ÄÇ
2. Â¶ÇÊûú `value` ‰∏çÊòØÊï∏Â≠óÈ°ûÂûãÔºå‰ΩøÁî® `_Json_expecting` ÂáΩÊï∏‰æÜËôïÁêÜ‰∏çÂêåÁöÑ `value` ‰∏¶ËøîÂõûÈÅ©Áï∂ÁöÑÁµêÊûú„ÄÇÂÖ∑È´î‰æÜË™™ÔºåÂ¶ÇÊûú `value` Â∞èÊñº 0 ÊàñËÄÖÂ§ßÊñº 2147483647ÔºåÂ∞áËøîÂõû `_Json_expecting('INT', value)` ÁöÑÁµêÊûú„ÄÇÂ¶ÇÊûú `value` Á≠âÊñº 0ÔºåËøîÂõû `$elm$core$Result$Ok(value)` ÁöÑÁµêÊûú„ÄÇÂ¶ÇÊûú `isFinite(value)` ÁÇ∫ `true` ‰∏î `value` ‰∏çÁ≠âÊñº `value` ÁöÑ 1 ÂÄçÔºåËøîÂõû `$elm$core$Result$Ok(value)` ÁöÑÁµêÊûú„ÄÇÂê¶ÂâáÔºåËøîÂõû `_Json_expecting('INT', value)` ÁöÑÁµêÊûú„ÄÇ

Á∏ΩÁöÑ‰æÜË™™Ôºå`_Json_decodeInt` ÁöÑ‰ΩúÁî®ÊòØÂ∞ç `value` ÈÄ≤Ë°å JSON decodeÔºå‰∏¶ËøîÂõû‰∏ÄÂÄãÂêàÊ≥ïÁöÑÁµêÊûú„ÄÇÂ¶ÇÊûú `value` ‰∏çÂêàÊ≥ïÔºåÂâáËøîÂõû‰∏ÄÂÄãÈåØË™§ÁöÑÁµêÊûú„ÄÇ


```
function _Json_decodePrim(decoder)
{
	return { $: 2, b: decoder };
}

var _Json_decodeInt = _Json_decodePrim(function(value) {
	return (typeof value !== 'number')
		? _Json_expecting('an INT', value)
		:
	(-2147483647 < value && value < 2147483647 && (value | 0) === value)
		? $elm$core$Result$Ok(value)
		:
	(isFinite(value) && !(value % 1))
		? $elm$core$Result$Ok(value)
		: _Json_expecting('an INT', value);
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏â‰∏™ `_Json_decodePrim` ÂáΩÊï∞ÔºåÁî®‰∫éËß£Êûê JSON ‰∏≠ÁöÑÂÄº„ÄÇ

Á¨¨‰∏Ä‰∏™ÂáΩÊï∞ `_Json_decodeBool` ÁöÑ‰ΩúÁî®ÊòØÂà§Êñ≠ÁªôÂÆöÁöÑÂÄºÊòØÂê¶‰∏∫Â∏ÉÂ∞îÁ±ªÂûã„ÄÇÂ¶ÇÊûúÊòØÔºåÂáΩÊï∞ËøîÂõû `true`ÔºåÂê¶ÂàôËøîÂõû `false`„ÄÇ

Á¨¨‰∫å‰∏™ÂáΩÊï∞ `_Json_decodeFloat` ÁöÑ‰ΩúÁî®ÊòØÂà§Êñ≠ÁªôÂÆöÁöÑÂÄºÊòØÂê¶‰∏∫ÊµÆÁÇπÊï∞Á±ªÂûã„ÄÇÂ¶ÇÊûúÊòØÔºåÂáΩÊï∞ËøîÂõû `true`ÔºåÂê¶ÂàôËøîÂõû `false`„ÄÇ

Á¨¨‰∏â‰∏™ÂáΩÊï∞ `_Json_decodeValue` ÁöÑ‰ΩúÁî®ÊòØËß£Êûê JSON ‰∏≠ÁöÑÂÄºÂπ∂ËøîÂõûÂÖ∂ÁªìÊûú„ÄÇÂ¶ÇÊûúÁªôÂÆöÁöÑÂÄºÊ≤°ÊúâÊòéÁ°ÆÁöÑÁ±ªÂûãÔºåÂáΩÊï∞‰ºöÂ∞ÜÂÄºËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤ÔºåÂπ∂ËøîÂõû `null`„ÄÇ


```
var _Json_decodeBool = _Json_decodePrim(function(value) {
	return (typeof value === 'boolean')
		? $elm$core$Result$Ok(value)
		: _Json_expecting('a BOOL', value);
});

var _Json_decodeFloat = _Json_decodePrim(function(value) {
	return (typeof value === 'number')
		? $elm$core$Result$Ok(value)
		: _Json_expecting('a FLOAT', value);
});

var _Json_decodeValue = _Json_decodePrim(function(value) {
	return $elm$core$Result$Ok(_Json_wrap(value));
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫ÜÂá†‰∏™ÂáΩÊï∞ÔºåÂÆÉ‰ª¨ÂèØ‰ª•Áî®Êù•Â∞ÜJSONÂ≠óÁ¨¶‰∏≤Ëß£ÊûêÊàêJavaScriptÂØπË±°„ÄÇ

È¶ñÂÖàÂÆö‰πâ‰∫Ü `_Json_decodeString` ÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `value`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™JavaScriptÁ±ªÂûã„ÄÇËøô‰∏™Á±ªÂûãÊ£ÄÊü• `value` ÊòØÂê¶ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúÊòØÔºåÂ∞±ËøîÂõû `ok`ÔºåÂê¶ÂàôÊ†πÊçÆ `value` ÁöÑÁ±ªÂûãÊâßË°å‰∏çÂêåÁöÑÊìç‰Ωú„ÄÇÂÖ∑‰ΩìÊìç‰ΩúÂ¶Ç‰∏ãÔºö

1. Â¶ÇÊûú `value` ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂ∞±ËøîÂõû `ok`„ÄÇ
2. Â¶ÇÊûú `value` ÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂπ∂‰∏î `value.toString()` ËøîÂõûÁöÑÁªìÊûúÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂ∞±ËøîÂõû `ok`„ÄÇ
3. Â¶ÇÊûú `value` ÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂπ∂‰∏î `value` Êú¨Ë∫´ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂ∞±ËøîÂõû `ok`„ÄÇ
4. Â¶ÇÊûú `value` ÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂπ∂‰∏î `value` ‰∏çÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂ∞±ËøîÂõû `error`„ÄÇ

Êé•‰∏ãÊù•ÂÆö‰πâ‰∫Ü `_Json_decodeList` Âíå `_Json_decodeArray` ÂáΩÊï∞ÔºåÂÆÉ‰ª¨ÁöÑË°å‰∏∫‰∏é `_Json_decodeString` ÂáΩÊï∞Á±ª‰ººÔºåÂè™ÊòØËøîÂõûÁöÑÂØπË±°Á±ªÂûã‰∏çÂêå„ÄÇ

ÊúÄÂêéÂÆö‰πâ‰∫Ü `_Json_decodeNull` ÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `value`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™JavaScriptÁ±ªÂûã„ÄÇËøô‰∏™Á±ªÂûãË°®Á§∫‰∏Ä‰∏™Á©∫ÂØπË±°ÔºåÂåÖÂê´‰∫Ü `null` Â±ûÊÄß„ÄÇ

Âè¶Â§ñÔºåËøòÊúâ‰∏ÄÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ `F2` ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞Êé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÊòØ `field`ÔºåË°®Á§∫ÈúÄË¶ÅËß£ÊûêÁöÑÂ≠óÁ¨¶‰∏≤ÂàóÔºåÂè¶‰∏Ä‰∏™ÊòØ `decoder`ÔºåË°®Á§∫Ëß£ÊûêÂ≠óÁ¨¶‰∏≤ÁöÑ JSON Ëß£ÊûêÂô®„ÄÇËøô‰∏™ `F2` ÂáΩÊï∞ËøîÂõûÁöÑÊòØ‰∏ÄÁªÑÈîÆÂÄºÂØπÔºåÈîÆÊòØ `field`ÔºåÂÄºÊòØ `decoder`„ÄÇ


```
var _Json_decodeString = _Json_decodePrim(function(value) {
	return (typeof value === 'string')
		? $elm$core$Result$Ok(value)
		: (value instanceof String)
			? $elm$core$Result$Ok(value + '')
			: _Json_expecting('a STRING', value);
});

function _Json_decodeList(decoder) { return { $: 3, b: decoder }; }
function _Json_decodeArray(decoder) { return { $: 4, b: decoder }; }

function _Json_decodeNull(value) { return { $: 5, c: value }; }

var _Json_decodeField = F2(function(field, decoder)
{
	return {
		$: 6,
		d: field,
		b: decoder
	};
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ JavaScript ÂáΩÊï∞ÔºåÂàÜÂà´ÊòØ `_Json_decodeIndex` Âíå `_Json_decodeKeyValuePairs`„ÄÇËøô‰∏§‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØËøîÂõû `decoder` ÂØπË±°‰∏≠ÁöÑ‰∏Ä‰∏™ÈîÆÂÄºÂØπÔºåËÄå `decoder` ÂØπË±°Ëá≥Â∞ëÂåÖÂê´‰∏§‰∏™ÈîÆÂÄºÂØπÔºåÈîÆÂàÜÂà´‰∏∫ `$` Âíå `b`„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøô‰∏§‰∏™ÂáΩÊï∞ÁöÑÂÆûÁé∞‰∏ªË¶ÅÊ∂âÂèäÂà∞‰∏§‰∏™Ê≠•È™§Ôºö

1. Âú® `_Json_decodeIndex` ÂáΩÊï∞‰∏≠ÔºåÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑ `index` ÂèòÈáèÔºåÂπ∂Â∞ÜÂÖ∂‰Ωú‰∏∫ÂØπË±°Ëá™Â¢ûÂ±ûÊÄßÁöÑÈîÆÔºà`$`ÔºâÔºåÂ∞Ü `decoder` ‰Ωú‰∏∫ÂØπË±°Ëá™Â¢ûÂ±ûÊÄßÁöÑÂÄºÔºà`b`Ôºâ„ÄÇËøôÊ†∑ÔºåËøô‰∏™Êñ∞ÁöÑÂØπË±°ÂèØ‰ª•Ë¢´Â≠òÂÇ®‰∏∫ `{index: 7, decoder: decoder}` ÁöÑÂΩ¢Âºè„ÄÇ

2. Âú® `_Json_decodeKeyValuePairs` ÂáΩÊï∞‰∏≠ÔºåÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±°ÔºåËøô‰∏™ÂØπË±°ÂåÖÂê´‰∏§‰∏™ÈîÆÂÄºÂØπÔºåÈîÆÂàÜÂà´‰∏∫ `$` Âíå `b`„ÄÇÂÖ∂‰∏≠Ôºå`$` ÈîÆÁöÑÂÄº‰∏∫ `8`ÔºåË°®Á§∫Ëøô‰∏™ÂØπË±°ÊòØ‰∏Ä‰∏™Êñ∞ÁöÑ `decoder` ÂØπË±°„ÄÇ

ÊÄªÁöÑÊù•ËØ¥ÔºåËøô‰∏§‰∏™ÂáΩÊï∞ÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØ‰∏∫‰∫ÜËß£ÂÜ≥ JSON Ëß£Êûê‰∏≠ÁöÑ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂç≥Â∞Ü JSON ‰∏≠ÁöÑÈîÆÂÄºÂØπËΩ¨Êç¢‰∏∫ÊôÆÈÄöÂØπË±°‰∏≠ÁöÑÈîÆÂÄºÂØπ„ÄÇÈÄöËøáËøô‰∏§‰∏™ÂáΩÊï∞ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞Ü `decoder` ÂØπË±°‰∏≠ÁöÑÈîÆÂÄºÂØπÊñπ‰æøÂú∞ËΩ¨Êç¢‰∏∫ÊôÆÈÄöÂØπË±°‰∏≠ÁöÑÂΩ¢ÂºèÔºå‰ªéËÄåÁÆÄÂåñ‰ª£Á†ÅÁöÑÁºñÂÜôÂíåÈòÖËØª„ÄÇ


```
var _Json_decodeIndex = F2(function(index, decoder)
{
	return {
		$: 7,
		e: index,
		b: decoder
	};
});

function _Json_decodeKeyValuePairs(decoder)
{
	return {
		$: 8,
		b: decoder
	};
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Json_mapMany` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ `f` Âíå‰∏Ä‰∏™Ëß£Á†ÅÂô®Êï∞ÁªÑ `decoders`„ÄÇÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ JSON ÂØπË±°ÔºåÂÖ∂‰∏≠ÂåÖÂê´‰∏Ä‰∏™ `$` Â≠óÊÆµÔºå‰ª£Ë°® JSON ÁºñÁ†ÅÂô®ÁöÑÁâàÊú¨Âè∑Ôºå‰∏Ä‰∏™ `f` Â≠óÊÆµÔºå‰ª£Ë°®Ë¶ÅÁºñÁ†ÅÁöÑÊï∞ÊçÆÔºå‰∏Ä‰∏™ `g` Â≠óÊÆµÔºå‰ª£Ë°®Ëß£Á†ÅÂô®Êï∞ÁªÑ„ÄÇ

Êé•‰∏ãÊù•ÁöÑ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `F2` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏Ä‰∏™ÊòØÂõûË∞ÉÂáΩÊï∞ `callback`ÔºåÂè¶‰∏Ä‰∏™ÊòØËß£Á†ÅÂô®Êï∞ÁªÑ `decoder`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂåÖÂê´‰∏â‰∏™Â≠óÊÆµÁöÑ JSON ÂØπË±°ÔºåÂπ∂Â∞ÜËß£Á†ÅÂô®Êï∞ÁªÑ‰º†ÈÄíÁªôÂõûË∞ÉÂáΩÊï∞ÔºåÈÄöËøáËß£Á†ÅÂô®Â∞Ü JSON Êï∞ÊçÆÁºñÁ†ÅÂêéËøîÂõû„ÄÇ

ÊúÄÂêéÔºå `F2` ÂáΩÊï∞Ë¢´Ë∞ÉÁî®ÔºåÂπ∂Â∞Ü `_Json_mapMany` Âíå `F2` ËøîÂõûÁöÑÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `eval`Ôºå‰ªéËÄåÂ∞Ü JSON Êï∞ÊçÆÁºñÁ†ÅÂπ∂ËøîÂõû„ÄÇ


```
function _Json_mapMany(f, decoders)
{
	return {
		$: 9,
		f: f,
		g: decoders
	};
}

var _Json_andThen = F2(function(callback, decoder)
{
	return {
		$: 10,
		b: decoder,
		h: callback
	};
});

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_Json_oneOf`ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `decoders`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ JSON ÂØπË±°„ÄÇËøô‰∏™ JSON ÂØπË±°Êúâ‰∏§‰∏™Â≠óÊÆµÔºö`$` Âíå `g`ÔºåÂÆÉ‰ª¨ÂàÜÂà´‰ª£Ë°®ÊòØÂê¶ÊàêÂäüËß£ÊûêÂá∫‰∏Ä‰∏™ JSON ÂØπË±°Ôºå‰ª•ÂèäËß£ÊûêÂá∫ JSON ÂØπË±°ÁöÑÂ§öÂ∞ë‰∏™Â≠óÊÆµ„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∏ÆÂä©ÂºÄÂèëËÄÖÊõ¥Êñπ‰æøÂú∞ÁºñÂÜô‰ª£Á†ÅÔºåÂõ†‰∏∫ÂÆÉ‰ΩøÂæó‰ªé API ËøîÂõûÁöÑ JSON Êï∞ÊçÆ‰∏≠ÔºåÊõ¥ËΩªÊùæÂú∞Ëé∑ÂèñÂçï‰∏™Â≠óÊÆµÊàñÂ§ö‰∏™Â≠óÊÆµ„ÄÇÈÄöËøáË∞ÉÁî® `_Json_oneOf`ÔºåÂºÄÂèëËÄÖÂèØ‰ª•‰ΩøÁî® `F2`ÔºàÁÆ≠Â§¥ÂáΩÊï∞ÔºâÊù•ÁºñÂÜôËß£Êûê JSON ÁöÑ‰ª£Á†ÅÔºåËÄå‰∏çÂøÖÂÖ≥ÂøÉÁ±ªÂûã„ÄÅÂØπË±°ÊàñÊï∞ÁªÑÁöÑÁ±ªÂûã„ÄÇ

ËøôÈáåÊúâ‰∏Ä‰∏™‰æãÂ≠êÔºåÂ±ïÁ§∫‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî® `_Json_oneOf`Ôºö
```javascript
// ÂÆö‰πâ API Êé•Âè£
var api = {
 title: 'ÊµãËØïÊé•Âè£',
 video: 'https://example.com/video_example',
 userInfo: 'https://example.com/user_info'
};

// Ë∞ÉÁî® _Json_oneOf ÂáΩÊï∞ÔºåËß£ÊûêÂá∫ JSON Êï∞ÊçÆ
var decoder = F2({
 api: api
});

console.log(var _Json_oneOf(decoder).$); // ËæìÂá∫ 1
console.log(var _Json_oneOf(decoder).g); // ËæìÂá∫ 2
```
ËøôÊÆµ‰ª£Á†Å‰ºöËæìÂá∫ `{ title: 'ÊµãËØïÊé•Âè£', video: 'https://example.com/video_example', userInfo: 'https://example.com/user_info' }`„ÄÇ


```
function _Json_oneOf(decoders)
{
	return {
		$: 11,
		g: decoders
	};
}


// DECODING OBJECTS

var _Json_map1 = F2(function(f, d1)
{
	return _Json_mapMany(f, [d1]);
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫ÜÂõõ‰∏™ÂáΩÊï∞ÂèòÈáèÔºåÂÆÉ‰ª¨ÈÉΩÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞Ë°®ËææÂºè‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂Â∞ÜÂ§ö‰∏™ÈîÆÊò†Â∞ÑÂà∞‰∏Ä‰∏™ÂÄº‰∏ä„ÄÇ

Á¨¨‰∏Ä‰∏™ÂáΩÊï∞Ë°®ËææÂºè `_Json_map2` Êé•Êî∂‰∏§‰∏™ÈîÆ `d1` Âíå `d2`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â∞Ü `f` ‰∏≠ÁöÑÊØè‰∏™ÈîÆÊò†Â∞ÑÂà∞ `d1` Âíå `d2` ‰∏äÁöÑÂÄºÁöÑÊñ∞Âú∞Âõæ„ÄÇËøô‰∏™Êñ∞Âú∞Âõæ‰∏é `d1` Âíå `d2` ÈîÆÁöÑÊò†Â∞ÑÂÖ≥Á≥ª‰∏é `f` ‰∏≠ÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÁõ∏Âêå„ÄÇ

Á¨¨‰∫å‰∏™ÂáΩÊï∞Ë°®ËææÂºè `_Json_map3` Êé•Êî∂Âõõ‰∏™ÈîÆ `f`„ÄÅ`d1`„ÄÅ`d2` Âíå `d3`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â∞Ü `f` ‰∏≠ÁöÑÊØè‰∏™ÈîÆÊò†Â∞ÑÂà∞ `d1`„ÄÅ`d2` Âíå `d3` ‰∏äÁöÑÂÄºÁöÑÊñ∞Âú∞Âõæ„ÄÇËøô‰∏™Êñ∞Âú∞Âõæ‰∏é `d1`„ÄÅ`d2` Âíå `d3` ÈîÆÁöÑÊò†Â∞ÑÂÖ≥Á≥ª‰∏é `f` ‰∏≠ÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÁõ∏Âêå„ÄÇ

Á¨¨‰∏â‰∏™ÂáΩÊï∞Ë°®ËææÂºè `_Json_map4` Êé•Êî∂‰∫î‰∏™ÈîÆ `f`„ÄÅ`d1`„ÄÅ`d2`„ÄÅ`d3` Âíå `d4`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â∞Ü `f` ‰∏≠ÁöÑÊØè‰∏™ÈîÆÊò†Â∞ÑÂà∞ `d1`„ÄÅ`d2`„ÄÅ`d3`„ÄÅ`d4` ‰∏äÁöÑÂÄºÁöÑÊñ∞Âú∞Âõæ„ÄÇËøô‰∏™Êñ∞Âú∞Âõæ‰∏é `f` ‰∏≠ÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÁõ∏Âêå„ÄÇ


```
var _Json_map2 = F3(function(f, d1, d2)
{
	return _Json_mapMany(f, [d1, d2]);
});

var _Json_map3 = F4(function(f, d1, d2, d3)
{
	return _Json_mapMany(f, [d1, d2, d3]);
});

var _Json_map4 = F5(function(f, d1, d2, d3, d4)
{
	return _Json_mapMany(f, [d1, d2, d3, d4]);
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏â‰∏™ÂèòÈáèÔºåÂàÜÂà´ÊòØ_Json_map5„ÄÅ_Json_map6Âíå_Json_map7„ÄÇÂÆÉ‰ª¨ÈÉΩÊòØ‰ªéÂáΩÊï∞F6„ÄÅF7ÂíåF8‰∏≠ËøîÂõûÁöÑÔºåÂπ∂‰∏î‰ΩúÁî®‰∫é‰∏çÂêåÁöÑÂèÇÊï∞ÂàóË°®ÔºåÂç≥ÂèòÈáèd1Âà∞d7„ÄÇ

ËøôÈáåÔºåF6„ÄÅF7ÂíåF8ÈÉΩÊòØJSON.NET‰∏≠ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ª¨Áî®‰∫éÂ∞ÜÁªôÂÆöÁöÑJSONÊï∞ÁªÑÊò†Â∞ÑÂà∞JavaScriptÊï∞ÁªÑ‰∏ä„ÄÇÂáΩÊï∞ÁöÑÂèÇÊï∞ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÊàñÂÖÉÁªÑÔºåÁî®‰∫éÊåáÂÆöÈúÄË¶ÅÊò†Â∞ÑÁöÑJSONÊï∞ÁªÑÁöÑÁ¥¢Âºï„ÄÇËøîÂõûÂÄºÊòØ‰∏Ä‰∏™JavaScriptÊï∞ÁªÑÔºåÂÆÉÂåÖÂê´‰∫Ü‰ªéJSONÊï∞ÁªÑ‰∏≠Âà†Èô§Á¥¢Âºï‰∏∫ÂèÇÊï∞d+1ÁöÑÂÖÉÁ¥†Ôºå‰ª•Âèä‰ªéJSONÊï∞ÁªÑ‰∏≠Ê∑ªÂä†Á¥¢Âºï‰∏∫ÂèÇÊï∞d+1ÁöÑÂÖÉÁ¥†ÊâÄÁªÑÊàêÁöÑÊñ∞ÁöÑJavaScriptÊï∞ÁªÑ„ÄÇ

Âõ†Ê≠§ÔºåËøôÊÆµ‰ª£Á†Å‰∏ªË¶ÅÁî®‰∫éÂàõÂª∫‰∏Ä‰∏™JSONÊï∞ÁªÑÔºåÂÆÉÁî±‰∏ÄÁ≥ªÂàó‰ªéJSONÊï∞ÁªÑ‰∏≠ÊåáÂÆöÁöÑÂÖÉÁ¥†ÁªÑÊàêÔºåËøô‰∫õÂÖÉÁ¥†Ë¢´ÂêçÁß∞ÂíåÁ¥¢ÂºïÊò†Â∞ÑÂà∞‰∫ÜJavaScriptÊï∞ÁªÑ‰∏≠„ÄÇÁî±‰∫éËøô‰∫õÂÖÉÁ¥†ÊòØ‰ªéJSONÊï∞ÁªÑ‰∏≠Âà†Èô§Á¥¢Âºï‰∏∫ÂèÇÊï∞d+1ÁöÑÂÖÉÁ¥†ÔºåÂõ†Ê≠§ÂèØ‰ª•Á°Æ‰øùÂú®Êò†Â∞ÑÂà∞JavaScriptÊï∞ÁªÑÊó∂ÔºåËøô‰∫õÂÖÉÁ¥†‰∏ç‰ºöË¢´ÈáçÂ§çÂú∞Ê∑ªÂä†ÊàñÂà†Èô§„ÄÇ


```
var _Json_map5 = F6(function(f, d1, d2, d3, d4, d5)
{
	return _Json_mapMany(f, [d1, d2, d3, d4, d5]);
});

var _Json_map6 = F7(function(f, d1, d2, d3, d4, d5, d6)
{
	return _Json_mapMany(f, [d1, d2, d3, d4, d5, d6]);
});

var _Json_map7 = F8(function(f, d1, d2, d3, d4, d5, d6, d7)
{
	return _Json_mapMany(f, [d1, d2, d3, d4, d5, d6, d7]);
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Json_map8` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºåÁÑ∂ÂêéÂú®ÂáΩÊï∞ÂÜÖÈÉ®Êé•Âèó‰∏Ä‰∏™Êï∞ÁªÑÂèÇÊï∞„ÄÇËøô‰∏™Êï∞ÁªÑÂèÇÊï∞ÊòØ‰º†ÈÄíÁªôÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞ `F9` ÁöÑÔºåÊàë‰ª¨‰∏çÁü•ÈÅìÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞ÊòØ‰ªÄ‰πàÔºåÊâÄ‰ª•‰∏çËÉΩÂú®ËøôÈáåÁõ¥Êé•ËæìÂá∫ÂÆÉ„ÄÇ

Âú® `_Json_map8` ‰∏≠ÔºåÊï∞ÁªÑ `d1` Âíå `d2` Âà∞ `d8` ÈÉΩË¢´‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞ `F9`ÔºåÁÑ∂ÂêéËøô‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ÊâÄÊúâÂèÇÊï∞ÁöÑÊï∞ÁªÑ„ÄÇÊàë‰ª¨‰∏çÁü•ÈÅì `F9` ÂáΩÊï∞Êé•ÂèóÂì™‰∫õÂèÇÊï∞ÔºåÊâÄ‰ª•‰πü‰∏çËÉΩÂú®ËøôÈáåÁõ¥Êé•ËæìÂá∫ÂÆÉ„ÄÇ

Êé•‰∏ãÊù•ÊòØ `_Json_runOnString` ÂáΩÊï∞ÁöÑÂÆö‰πâ„ÄÇÂÆÉÊé•Âèó‰∏Ä‰∏™Ëß£Á†ÅÂô®Âíå‰∏ÄÊÆµÂ≠óÁ¨¶‰∏≤‰Ωú‰∏∫ÂèÇÊï∞ÔºåÁÑ∂ÂêéÂØπËøô‰∏™Ëß£Á†ÅÂô®ËøõË°åË∞ÉÁî®ÔºåÂπ∂Â∞ÜËß£Á†ÅÂô®ËøîÂõûÁöÑÁªìÊûú‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `_Json_runOnString` ÂáΩÊï∞„ÄÇ

`_Json_runOnString` ÂáΩÊï∞ÂÜÖÈÉ®‰ºöÂ∞ùËØïËß£Êûê‰º†ÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúËß£ÊûêÊàêÂäüÔºåÂÆÉÂ∞±‰ºöËøîÂõûËß£Á†ÅÂô®ÁöÑÁªìÊûú„ÄÇÂ¶ÇÊûúÂá∫Áé∞ÈîôËØØÔºåÂÆÉÂ∞±‰ºöËøîÂõû‰∏Ä‰∏™ÈîôËØØ‰ø°ÊÅØÔºåÂπ∂Â∞ÜÈîôËØØ‰ø°ÊÅØ‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰º†ÈÄíÁªô `_Json_wrap` ÂáΩÊï∞„ÄÇ

`_Json_wrap` ÂáΩÊï∞Êé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÈîôËØØ‰ø°ÊÅØ„ÄÇÂÆÉÂ∞ÜÈîôËØØ‰ø°ÊÅØÂåÖË£ÖÊàê‰∏Ä‰∏™ `$elm$core$Result$Err` ÂØπË±°ÔºåÂπ∂Â∞ÜÈîôËØØ‰ø°ÊÅØ‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰º†ÈÄíÁªô `_Json_wrap` ÂáΩÊï∞„ÄÇ

Áî±‰∫é `_Json_map8` Âíå `_Json_runOnString` ÂáΩÊï∞ÈÉΩÊòØ JavaScript ÂáΩÊï∞ÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî® JavaScript ÂáΩÊï∞ÁöÑ‰∏Ä‰∫õÁâπÊÄßÊù•ËÆøÈóÆÂÆÉ‰ª¨ÁöÑÂäüËÉΩ„ÄÇ‰æãÂ¶ÇÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® `this` ÂÖ≥ÈîÆÂ≠óÊù•Ëé∑ÂèñÂáΩÊï∞ÁöÑ `__call__` ÈáçËΩΩÔºåÁÑ∂ÂêéÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® `JSON.parse` ÂáΩÊï∞Êù•Ëß£Êûê JSON Â≠óÁ¨¶‰∏≤„ÄÇ


```
var _Json_map8 = F9(function(f, d1, d2, d3, d4, d5, d6, d7, d8)
{
	return _Json_mapMany(f, [d1, d2, d3, d4, d5, d6, d7, d8]);
});


// DECODE

var _Json_runOnString = F2(function(decoder, string)
{
	try
	{
		var value = JSON.parse(string);
		return _Json_runHelp(decoder, value);
	}
	catch (e)
	{
		return $elm$core$Result$Err(A2($elm$json$Json$Decode$Failure, 'This is not valid JSON! ' + e.message, _Json_wrap(string)));
	}
});

```

This appears to be a JavaScript function called `_Json_runHelp` that takes a JSON decoder object and a JSON string as input. It returns the decoded value or an error message depending on whether the decoding was successful or not.

The function has three cases:

* Case 0: The JSON string is considered to be valid and the decoder object is an object.
* Case 1: The JSON string is considered to be invalid and the decoder object is a list.
* Case 2: The JSON string is considered to be invalid and the decoder object is an array.

In each case, the function performs a depth-first search (DFS) on the decoder object, starting with the root element. For each child node, it recursively performs the same DFS, passing the child node's value as the input. If the value is found, the function returns it. If not, the function returns an error message.


```
var _Json_run = F2(function(decoder, value)
{
	return _Json_runHelp(decoder, _Json_unwrap(value));
});

function _Json_runHelp(decoder, value)
{
	switch (decoder.$)
	{
		case 2:
			return decoder.b(value);

		case 5:
			return (value === null)
				? $elm$core$Result$Ok(decoder.c)
				: _Json_expecting('null', value);

		case 3:
			if (!_Json_isArray(value))
			{
				return _Json_expecting('a LIST', value);
			}
			return _Json_runArrayDecoder(decoder.b, value, _List_fromArray);

		case 4:
			if (!_Json_isArray(value))
			{
				return _Json_expecting('an ARRAY', value);
			}
			return _Json_runArrayDecoder(decoder.b, value, _Json_toElmArray);

		case 6:
			var field = decoder.d;
			if (typeof value !== 'object' || value === null || !(field in value))
			{
				return _Json_expecting('an OBJECT with a field named `' + field + '`', value);
			}
			var result = _Json_runHelp(decoder.b, value[field]);
			return ($elm$core$Result$isOk(result)) ? result : $elm$core$Result$Err(A2($elm$json$Json$Decode$Field, field, result.a));

		case 7:
			var index = decoder.e;
			if (!_Json_isArray(value))
			{
				return _Json_expecting('an ARRAY', value);
			}
			if (index >= value.length)
			{
				return _Json_expecting('a LONGER array. Need index ' + index + ' but only see ' + value.length + ' entries', value);
			}
			var result = _Json_runHelp(decoder.b, value[index]);
			return ($elm$core$Result$isOk(result)) ? result : $elm$core$Result$Err(A2($elm$json$Json$Decode$Index, index, result.a));

		case 8:
			if (typeof value !== 'object' || value === null || _Json_isArray(value))
			{
				return _Json_expecting('an OBJECT', value);
			}

			var keyValuePairs = _List_Nil;
			// TODO test perf of Object.keys and switch when support is good enough
			for (var key in value)
			{
				if (value.hasOwnProperty(key))
				{
					var result = _Json_runHelp(decoder.b, value[key]);
					if (!$elm$core$Result$isOk(result))
					{
						return $elm$core$Result$Err(A2($elm$json$Json$Decode$Field, key, result.a));
					}
					keyValuePairs = _List_Cons(_Utils_Tuple2(key, result.a), keyValuePairs);
				}
			}
			return $elm$core$Result$Ok($elm$core$List$reverse(keyValuePairs));

		case 9:
			var answer = decoder.f;
			var decoders = decoder.g;
			for (var i = 0; i < decoders.length; i++)
			{
				var result = _Json_runHelp(decoders[i], value);
				if (!$elm$core$Result$isOk(result))
				{
					return result;
				}
				answer = answer(result.a);
			}
			return $elm$core$Result$Ok(answer);

		case 10:
			var result = _Json_runHelp(decoder.b, value);
			return (!$elm$core$Result$isOk(result))
				? result
				: _Json_runHelp(decoder.h(result.a), value);

		case 11:
			var errors = _List_Nil;
			for (var temp = decoder.g; temp.b; temp = temp.b) // WHILE_CONS
			{
				var result = _Json_runHelp(temp.a, value);
				if ($elm$core$Result$isOk(result))
				{
					return result;
				}
				errors = _List_Cons(result.a, errors);
			}
			return $elm$core$Result$Err($elm$json$Json$Decode$OneOf($elm$core$List$reverse(errors)));

		case 1:
			return $elm$core$Result$Err(A2($elm$json$Json$Decode$Failure, decoder.a, _Json_wrap(value)));

		case 0:
			return $elm$core$Result$Ok(decoder.a);
	}
}

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_Json_runArrayDecoder`ÔºåÂÆÉÊé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºö

1. `decoder`ÔºöËøôÊòØ‰∏Ä‰∏™Áî®‰∫éËß£Á†Å JSON Êï∞ÊçÆÁöÑÂáΩÊï∞ÔºåÈÄöÂ∏∏ÊòØÁî± `json2js` Êàñ `js-json-handler` Á≠âÂ∫ìÊèê‰æõ„ÄÇ
2. `value`Ôºö‰∏Ä‰∏™ JSON Â≠óÁ¨¶‰∏≤ÊàñÊï∞ÁªÑÔºåÂèØ‰ª•ÊòØÂ±ÄÈÉ®ÂèòÈáèÊàñÂÖ®Â±ÄÂèòÈáè„ÄÇ
3. `toElmValue`Ôºö‰∏Ä‰∏™Áî®‰∫éÂ∞Ü JSON Êï∞ÊçÆËΩ¨Êç¢‰∏∫ Elm Ê†ºÂºèÁöÑÂáΩÊï∞ÔºåÈÄöÂ∏∏ÊòØÁî± `elm-json-handler` Â∫ìÊèê‰æõ„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞Ü‰º†ÂÖ•ÁöÑ JSON ÂÄºËß£Á†Å‰∏∫Áõ∏Â∫îÁöÑ Elm Ê†ºÂºèÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Ë°®Á§∫Ëß£Á†ÅÁªìÊûúÁöÑ Elm ÂØπË±°„ÄÇ

ÂáΩÊï∞ÁöÑÂÆûÁé∞‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ãÂá†Ê≠•Ôºö

1. ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ `array` ÁöÑÊñ∞Êï∞ÁªÑÔºåÁî®‰∫éÂ≠òÂÇ®Ëß£Á†ÅÂêéÁöÑ JSON Êï∞ÊçÆ„ÄÇ
2. ‰ΩøÁî®Âæ™ÁéØÈÅçÂéÜ‰º†ÂÖ•ÁöÑ `value` Êï∞ÁªÑ„ÄÇ
3. ÂØπ‰∫éÊØè‰∏™ JSON ÂÖÉÁ¥†ÔºåË∞ÉÁî®‰º†ÈÄíÁªô `decoder` ÁöÑ `runHelp` ÂáΩÊï∞ËøõË°åËß£Á†Å„ÄÇ
4. Â¶ÇÊûúËß£Á†ÅÁªìÊûú‰∏çÁ¨¶Âêà `ElmCoreResult` Á±ªÂûãÔºåÂàôËøîÂõû‰∏Ä‰∏™ `ElmCoreResult` Á±ªÂûãÁöÑÈîôËØØ‰ø°ÊÅØÔºåÂÖ∂‰∏≠ÂåÖÂê´ÈîôËØØÁ¥¢Âºï„ÄÅÈîôËØØÁ±ªÂûãÂíåÈîôËØØÊ∂àÊÅØ„ÄÇ
5. ËøîÂõû‰∏Ä‰∏™Ë°®Á§∫Ëß£Á†ÅÁªìÊûúÁöÑ `ElmCoreResult` Á±ªÂûãÁöÑÂØπË±°ÔºåÂÖ∂‰∏≠ÂåÖÂê´‰∏Ä‰∏™‰ª£Ë°® `array` Êï∞ÁªÑÁöÑ `value` Â±ûÊÄßÂÄº„ÄÇ


```
function _Json_runArrayDecoder(decoder, value, toElmValue)
{
	var len = value.length;
	var array = new Array(len);
	for (var i = 0; i < len; i++)
	{
		var result = _Json_runHelp(decoder, value[i]);
		if (!$elm$core$Result$isOk(result))
		{
			return $elm$core$Result$Err(A2($elm$json$Json$Decode$Index, i, result.a));
		}
		array[i] = result.a;
	}
	return $elm$core$Result$Ok(toElmValue(array));
}

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞Ôºå‰∏ªË¶Å‰ΩúÁî®ÊòØÈ™åËØÅÁªôÂÆöÁöÑÂèÇÊï∞ÊòØÂê¶Á¨¶ÂêàÈ¢ÑÊúü„ÄÇ

_Json_isArrayÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ valueÔºåÈ¶ñÂÖàÊ£ÄÊü• value ÊòØÂê¶Â±û‰∫éÊï∞ÁªÑÁ±ªÂûãÔºåÂ¶ÇÊûúÊòØÔºåÂàôËøîÂõû trueÔºõÂ¶ÇÊûú‰∏çÊòØÔºåÂàôÈúÄË¶ÅÊ£ÄÊü• value ÊòØÂê¶Â±û‰∫é FileList Á±ªÂûãÔºåÂ¶ÇÊûúÊòØÔºåÂàôËøîÂõû true„ÄÇ

_Json_toElmArrayÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™Êï∞ÁªÑÂèÇÊï∞ arrayÔºåËøîÂõû‰∏Ä‰∏™Êñ∞Êï∞ÁªÑÔºåÂÖ∂‰∏≠ÁöÑÂÖÉÁ¥†ÈÉΩÊòØ array ‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ

_Json_expectingÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Á±ªÂûãÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÂÄº„ÄÇÂáΩÊï∞ËøîÂõûÁöÑÁªìÊûúÊòØÂú®ÁªôÂÆöÁöÑÈîôËØØÁ±ªÂûãÂíåÂèÇÊï∞ÂÄºÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî® _Json_wrap ÂáΩÊï∞ËøîÂõûÁöÑÁªìÊûú„ÄÇÂ¶ÇÊûúÁªôÂÆöÁöÑÂèÇÊï∞‰∏çÁ¨¶ÂêàÈ¢ÑÊúüÔºåÂàô‰ºöÊäõÂá∫ÈîôËØØ„ÄÇ


```
function _Json_isArray(value)
{
	return Array.isArray(value) || (typeof FileList !== 'undefined' && value instanceof FileList);
}

function _Json_toElmArray(array)
{
	return A2($elm$core$Array$initialize, array.length, function(i) { return array[i]; });
}

function _Json_expecting(type, value)
{
	return $elm$core$Result$Err(A2($elm$json$Json$Decode$Failure, 'Expecting ' + type, _Json_wrap(value)));
}


```

ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_Json_equality`ÔºåÁî®‰∫éÊØîËæÉ‰∏§‰∏™ JSON ÂØπË±°ÁöÑÂÄºÊòØÂê¶Áõ∏Á≠â„ÄÇ

È¶ñÂÖàÔºåÂú®ÂáΩÊï∞ÂÜÖÈÉ®ÔºåÊúâ‰∏§‰∏™Êù°‰ª∂Âà§Êñ≠ÔºåÂàÜÂà´Ê£ÄÊü• `x` Âíå `y` ÂØπË±°ÊòØÂê¶Áõ∏Á≠âÔºå‰ª•ÂèäÂÆÉ‰ª¨ÊòØÂê¶ÂÖ∑ÊúâÁõ∏ÂêåÁöÑÈîÆÔºàÂ±ûÊÄßÔºâ„ÄÇÂ¶ÇÊûúÊòØÔºåÂáΩÊï∞ËøîÂõû `true`„ÄÇÂê¶ÂàôÔºåÂáΩÊï∞ËøîÂõû `false`„ÄÇ

Êé•ÁùÄÔºåÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ `switch` ËØ≠Âè•ÔºåÂÆÉÂà§Êñ≠ `x` ÂØπË±°ÁöÑ‰∏Ä‰∏™ÈîÆÔºàÂ±ûÊÄßÔºâÊòØ‰ªÄ‰πà„ÄÇÂ¶ÇÊûúÊòØ `0`ÔºåÂáΩÊï∞ËøîÂõû `x.a` ÊòØÂê¶‰∏é `y.a` Áõ∏Á≠âÔºõÂ¶ÇÊûúÊòØ `1`ÔºåÂáΩÊï∞ËøîÂõû `x.b` ÊòØÂê¶‰∏é `y.b` Áõ∏Á≠âÔºõÂ¶ÇÊûúÊòØ `2`ÔºåÂáΩÊï∞ËøîÂõû `x.c` ÊòØÂê¶‰∏é `y.c` Áõ∏Á≠âÔºõÂ¶ÇÊûúÊòØ `5`ÔºåÂáΩÊï∞Ë∞ÉÁî®Ëá™Ë∫´Ôºå‰º†ÂÖ• `x.b` Âíå `y.b` ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂÜçÊ¨°ÊØîËæÉÂÆÉ‰ª¨ÊòØÂê¶Áõ∏Á≠âÔºõÂ¶ÇÊûúÊòØ `3` Êàñ `4`ÔºåÂáΩÊï∞ËøîÂõû `_Json_equality` ÂáΩÊï∞Êú¨Ë∫´Ôºå‰º†ÂÖ• `x.b` Âíå `y.b` ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂÜçÊ¨°ÊØîËæÉÂÆÉ‰ª¨ÊòØÂê¶Áõ∏Á≠âÔºõÂ¶ÇÊûúÊòØ `8`ÔºåÂáΩÊï∞ÂÜçÊ¨°Ë∞ÉÁî®Ëá™Ë∫´Ôºå‰º†ÂÖ• `x.b` Âíå `y.b` ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂÜçÊ¨°ÊØîËæÉÂÆÉ‰ª¨ÊòØÂê¶Áõ∏Á≠âÔºõÂ¶ÇÊûúÊòØ `6`ÔºåÂáΩÊï∞ËøîÂõû `x.d` ÊòØÂê¶‰∏é `y.d` Áõ∏Á≠âÔºåÂπ∂‰∏îÂÜçÊ¨°Ë∞ÉÁî®Ëá™Ë∫´Ôºå‰º†ÂÖ• `x.b` Âíå `y.b` ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂÜçÊ¨°ÊØîËæÉÂÆÉ‰ª¨ÊòØÂê¶Áõ∏Á≠âÔºõÂ¶ÇÊûúÊòØ `7`ÔºåÂáΩÊï∞ËøîÂõû `x.e` ÊòØÂê¶‰∏é `y.e` Áõ∏Á≠âÔºåÂπ∂‰∏îÂÜçÊ¨°Ë∞ÉÁî®Ëá™Ë∫´Ôºå‰º†ÂÖ• `x.b` Âíå `y.b` ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂÜçÊ¨°ÊØîËæÉÂÆÉ‰ª¨ÊòØÂê¶Áõ∏Á≠âÔºõÂ¶ÇÊûúÊòØ `9`ÔºåÂáΩÊï∞ËøîÂõû `x.f` ÊòØÂê¶‰∏é `y.f` Áõ∏Á≠âÔºåÂπ∂‰∏îÂÜçÊ¨°Ë∞ÉÁî®Ëá™Ë∫´Ôºå‰º†ÂÖ• `x.g` Âíå `y.g` ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÊØîËæÉÂÆÉ‰ª¨ÁöÑÂàóË°®ÊòØÂê¶Áõ∏Á≠âÔºõÂ¶ÇÊûúÊòØ `10`ÔºåÂáΩÊï∞ËøîÂõû `x.h` ÊòØÂê¶‰∏é `y.h` Áõ∏Á≠âÔºåÂπ∂‰∏îÂÜçÊ¨°Ë∞ÉÁî®Ëá™Ë∫´Ôºå‰º†ÂÖ• `x.b` Âíå `y.b` ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂÜçÊ¨°ÊØîËæÉÂÆÉ‰ª¨ÊòØÂê¶Áõ∏Á≠â„ÄÇ

Â¶ÇÊûúÂáΩÊï∞ËÉΩÂ§üÊàêÂäüÊØîËæÉ‰∏§‰∏™ JSON ÂØπË±°ÔºåËøîÂõû `true`ÔºåÂê¶ÂàôËøîÂõû `false`„ÄÇ


```
// EQUALITY

function _Json_equality(x, y)
{
	if (x === y)
	{
		return true;
	}

	if (x.$ !== y.$)
	{
		return false;
	}

	switch (x.$)
	{
		case 0:
		case 1:
			return x.a === y.a;

		case 2:
			return x.b === y.b;

		case 5:
			return x.c === y.c;

		case 3:
		case 4:
		case 8:
			return _Json_equality(x.b, y.b);

		case 6:
			return x.d === y.d && _Json_equality(x.b, y.b);

		case 7:
			return x.e === y.e && _Json_equality(x.b, y.b);

		case 9:
			return x.f === y.f && _Json_listEquality(x.g, y.g);

		case 10:
			return x.h === y.h && _Json_equality(x.b, y.b);

		case 11:
			return _Json_listEquality(x.g, y.g);
	}
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Json_listEquality` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ `aDecoders` Âíå `bDecoders`ÔºåÂÆÉ‰ª¨ÈÉΩÊòØÊï∞ÁªÑÔºåÁî®‰∫éÂ≠òÂÇ® JSON Êï∞ÊçÆ„ÄÇ

ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂà§Êñ≠‰∏§‰∏™ JSON Êï∞ÊçÆÊòØÂê¶Âπ≥Á≠âÔºåÂ¶ÇÊûú‰∏§‰∏™Êï∞ÁªÑÁöÑÈïøÂ∫¶‰∏çÁõ∏Á≠âÔºåÂàôËøîÂõû `false`„ÄÇÂê¶ÂàôÔºå‰ªéÊï∞ÁªÑÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÂºÄÂßãÔºåÈÅçÂéÜ‰∏§‰∏™Êï∞ÁªÑÔºåÂØπ‰∫éÊØè‰∏™ÂÖÉÁ¥†Ôºå‰ΩøÁî®Âêç‰∏∫ `_Json_equality` ÁöÑÂáΩÊï∞Êù•ÊØîËæÉ‰∏§‰∏™Êï∞ÊòØÂê¶Áõ∏Á≠â„ÄÇÂ¶ÇÊûú‰∏§‰∏™Êï∞‰∏çÁõ∏Á≠âÔºåÂàôËøîÂõû `false`ÔºåÂê¶ÂàôËøîÂõû `true`„ÄÇ

Êç¢Âè•ËØùËØ¥ÔºåËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÊñπÊ≥ïÊù•Âà§Êñ≠‰∏§‰∏™ JSON Êï∞ÊçÆÊòØÂê¶Áõ∏Á≠âÔºåËøô‰∏™ÊñπÊ≥ïÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºåÂàÜÂà´ÊòØ‰∏§‰∏™ JSON Êï∞ÊçÆÊï∞ÁªÑ„ÄÇ


```
function _Json_listEquality(aDecoders, bDecoders)
{
	var len = aDecoders.length;
	if (len !== bDecoders.length)
	{
		return false;
	}
	for (var i = 0; i < len; i++)
	{
		if (!_Json_equality(aDecoders[i], bDecoders[i]))
		{
			return false;
		}
	}
	return true;
}


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Json_encode` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö`indentLevel` Âíå `value`„ÄÇÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞Ü `value` ÂØπË±°ÂÜÖÁöÑÊâÄÊúâÂ±ûÊÄßÂåÖË£ÖÊàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Âú®Â≠óÁ¨¶‰∏≤‰∏≠‰ΩøÁî®ÊèíÂÖ•Á©∫Ê†º„ÄÅÂà∂Ë°®Á¨¶Âíå `indentLevel` Â±ÇÁ∫ßÁöÑÁº©ËøõÊ†∑Âºè„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøôÊÆµ‰ª£Á†ÅÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ JSON.stringify ÂáΩÊï∞Âíå‰∏Ä‰∏™ JSON.parse ÂáΩÊï∞ÔºåÂÆÉ‰ª¨ÂàÜÂà´ÂÆûÁé∞‰∫ÜÂ∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢Êàê JSON Ê†ºÂºèÁöÑÂäüËÉΩÂíåÂú® JSON Ê†ºÂºè‰∏≠Ëß£ÊûêÂõûÂéüÂßãÂØπË±°ÁöÑÂäüËÉΩ„ÄÇËøô‰∏§‰∏™ÂáΩÊï∞ÂàÜÂà´ÂØπÂ∫î‰∫Ü `_Json_unwrap` Âíå `_Json_wrap` ÂáΩÊï∞ÔºåÂÆÉ‰ª¨ÂàÜÂà´ÂÆûÁé∞‰∫ÜÂ∞Ü JSON ÂØπË±°ÊàñÂ≠óÁ¨¶‰∏≤ÂåÖË£ÖÊàêÂØπÂ∫îÊ†ºÂºèÔºå‰ª•ÂèäÂú®ÂéüÂßãÂØπË±°ÊàñÂ≠óÁ¨¶‰∏≤‰∏≠Ëß£Êûê JSON Ê†ºÂºèÁöÑÂäüËÉΩ„ÄÇ

Ê≠§Â§ñÔºåËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∫õËæÖÂä©ÂáΩÊï∞ÔºåÂ¶Ç `_Json_emptyArray` Âíå `_Json_emptyObject`ÔºåÂÆÉ‰ª¨ÂàÜÂà´ËøîÂõû‰∏Ä‰∏™Âè™ÂåÖÂê´Á©∫ÂØπË±°ÊàñÁ©∫Êï∞ÁªÑÁöÑÂáΩÊï∞„ÄÇ


```
// ENCODE

var _Json_encode = F2(function(indentLevel, value)
{
	return JSON.stringify(_Json_unwrap(value), null, indentLevel) + '';
});

function _Json_wrap_UNUSED(value) { return { $: 0, a: value }; }
function _Json_unwrap_UNUSED(value) { return value.a; }

function _Json_wrap(value) { return value; }
function _Json_unwrap(value) { return value; }

function _Json_emptyArray() { return []; }
function _Json_emptyObject() { return {}; }

```

Ëøô‰∏§ÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ JavaScript ÂáΩÊï∞ÔºåÈÉΩ‰ΩøÁî®‰∫Ü `F3` ÂáΩÊï∞ÔºåÊó®Âú®ÂÆûÁé∞Â∞Ü‰∏Ä‰∏™ JSON ÂØπË±°Ê∑ªÂä†ÊàñÊ∑ªÂä†Êñ∞Â±ûÊÄßÂà∞Âè¶‰∏Ä‰∏™ JSON ÂØπË±°‰∏≠ÁöÑÂäüËÉΩ„ÄÇ

`var _Json_addField` ÂáΩÊï∞Êé•Êî∂‰∏â‰∏™ÂèÇÊï∞Ôºö

1. `key`: Ë¶ÅÊ∑ªÂä†Âà∞Âè¶‰∏Ä‰∏™ JSON ÂØπË±°‰∏≠ÁöÑÈîÆ„ÄÇ
2. `value`: Ë¶ÅÊ∑ªÂä†Âà∞Âè¶‰∏Ä‰∏™ JSON ÂØπË±°‰∏≠ÁöÑÂÄº„ÄÇ
3. `object`: Ë¶ÅÊ∑ªÂä†Â±ûÊÄßÁöÑ JSON ÂØπË±°„ÄÇ

ÂáΩÊï∞È¶ñÂÖà‰ΩøÁî® `_Json_unwrap` ÂáΩÊï∞Â∞ÜÂÄºËΩ¨Êç¢‰∏∫ JavaScript Êï∞Â≠óÁ±ªÂûãÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Ê∑ªÂä†Âà∞ `object` ÂØπË±°‰∏≠ÁöÑÊåáÂÆöÈîÆ‰∏≠„ÄÇÊúÄÂêéÔºåÂáΩÊï∞ËøîÂõû `object` ÂØπË±°ÔºåÂõ†‰∏∫ÊâÄÂÅöÁöÑÊõ¥ÊîπÈÉΩÂèëÁîüÂú® `object` ‰∏ä„ÄÇ

`function _Json_addEntry` ÂáΩÊï∞‰πüÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö

1. `func`: Ë¶ÅÊâßË°åÁöÑÂáΩÊï∞„ÄÇ
2. `array`: Ë¶ÅÂú®ÂÖ∂‰∏≠Â∫îÁî® `func` ÁöÑÁªìÊûú„ÄÇ

ÂáΩÊï∞È¶ñÂÖàÂ∞Ü `_Json_unwrap` ÂáΩÊï∞Â∫îÁî®‰∫éË¶ÅÊ∑ªÂä†ÁöÑÈîÆÂíåÂÄºÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Ê∑ªÂä†Âà∞‰º†ÂÖ•ÁöÑÊï∞ÁªÑ‰∏≠„ÄÇÁÑ∂ÂêéÔºåÂáΩÊï∞ËøîÂõûËØ•Êï∞ÁªÑÔºåÂõ†‰∏∫ÊâÄÂÅöÁöÑÊõ¥ÊîπÈÉΩÂèëÁîüÂú®Êï∞ÁªÑ‰∏≠„ÄÇ


```
var _Json_addField = F3(function(key, value, object)
{
	object[key] = _Json_unwrap(value);
	return object;
});

function _Json_addEntry(func)
{
	return F2(function(entry, array)
	{
		array.push(_Json_unwrap(func(entry)));
		return array;
	});
}

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ‰ª£Á†ÅÁâáÊÆµÔºåÂåÖÂê´‰∏§‰∏™ÂáΩÊï∞Ôºå‰∏Ä‰∏™ÊòØ `_Scheduler_succeed()`ÔºåÂè¶‰∏Ä‰∏™ÊòØ `_Scheduler_fail()`„ÄÇÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®ÊòØÁî®Êù•Â§ÑÁêÜÂºÇÊ≠•‰ªªÂä°ÁöÑÁªìÊûú„ÄÇ

`_Scheduler_succeed()` ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `value`ÔºåÂÆÉËøîÂõû‰∏Ä‰∏™ÂØπË±° `{ $: 0, a: value }`„ÄÇ`$: 0` Ë°®Á§∫ÊàêÂäüÔºå`a: value` Ë°®Á§∫‰ªªÂä°ÁªìÊûú‰∏∫ `value`„ÄÇ

`_Scheduler_fail()` ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `error`ÔºåÂÆÉËøîÂõû‰∏Ä‰∏™ÂØπË±° `{ $: 1, a: error }`„ÄÇ`$: 1` Ë°®Á§∫Â§±Ë¥•Ôºå`a: error` Ë°®Á§∫‰ªªÂä°Â§±Ë¥•ÁöÑÂéüÂõ†„ÄÇ

Ëøô‰∏§‰∏™ÂáΩÊï∞ÊòØÁî®Êù•Â§ÑÁêÜÂºÇÊ≠•‰ªªÂä°ÁöÑÁªìÊûúÁöÑÔºåÊ†πÊçÆ‰ªªÂä°ÊòØÂê¶ÊàêÂäüÊàñÂ§±Ë¥•Êù•ËøîÂõû‰∏Ä‰∏™ÂØπË±°„ÄÇËøô‰∏™‰ª£Á†ÅÁâáÊÆµÂèØËÉΩÊòØ‰∏Ä‰∏™Êó•ÂøóÊ®°ÂùóÊàñËÄÖÊòØ‰∏Ä‰∏™ÂºÇÊ≠•‰ªªÂä°Ë∞ÉÂ∫¶Âô®„ÄÇ


```
var _Json_encodeNull = _Json_wrap(null);



// TASKS

function _Scheduler_succeed(value)
{
	return {
		$: 0,
		a: value
	};
}

function _Scheduler_fail(error)
{
	return {
		$: 1,
		a: error
	};
}

```



ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Scheduler_binding` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Áä∂ÊÄÅ„ÄÅÂÅèÁßªÈáèÂíåÊ∏ÖÈô§ÂáΩÊï∞ÊåáÈíàÁöÑ JavaScript ÂØπË±°„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËØ•ÂáΩÊï∞ËøîÂõûÁöÑÂØπË±°ÂåÖÂê´‰ª•‰∏ã‰∏â‰∏™Â±ûÊÄßÂíå‰∏Ä‰∏™ÂèØÈÄâÁöÑÊ∏ÖÈô§ÂáΩÊï∞ÊåáÈíàÔºö

- `$`Ôºö‰∏Ä‰∏™Êï∞Â≠óÔºå‰ª£Ë°® `this` ÂØπË±°Âú®Ê†à‰∏≠ÁöÑ‰ΩçÁΩÆ„ÄÇ
- `b`Ôºö‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞Ôºå‰ª£Ë°®Â∞ÜÊù•ÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ
- `c`Ôºö‰∏Ä‰∏™ÂèØÈÄâÁöÑÂáΩÊï∞ÊåáÈíàÔºå‰ª£Ë°®Ê∏ÖÈô§ÂáΩÊï∞ÊåáÈíà„ÄÇ

Ê≠§Â§ñÔºåËØ•ÂáΩÊï∞ËøòÂåÖÂê´‰∏Ä‰∏™ `__binding__` Â±ûÊÄßÔºåÂÖ∂ÂÄº‰∏∫ `{ $: 2, b: callback, c: null }`ÔºåË°®Á§∫ËØ•ÂáΩÊï∞ÁöÑ `__proto__` Â±ûÊÄß‰∏∫ `[Object.prototype.constructor: function()]`„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÆöÊó∂Âô®ÔºåÁî®‰∫éÊâßË°åÂõûË∞ÉÂáΩÊï∞„ÄÇÂÆöÊó∂Âô®‰ºöÂú®ÊåáÂÆöÁöÑÊó∂Èó¥Èó¥ÈöîÂÜÖÊâßË°åÂõûË∞ÉÂáΩÊï∞ÔºåÂπ∂Â∞ÜÂÖ∂‰º†ÈÄíÁªôÂõûË∞ÉÂáΩÊï∞ÁöÑ `this` ÂØπË±°„ÄÇÂêåÊó∂ÔºåËØ•ÂáΩÊï∞ËøòÊèê‰æõ‰∫Ü‰∏Ä‰∏™Ê∏ÖÈô§ÂÆöÊó∂Âô®ÁöÑÊú∫Âà∂ÔºåÂèØ‰ª•ÈÄöËøáË∞ÉÁî® `clear` ÂáΩÊï∞Êù•ÂÖ≥Èó≠ÂÆöÊó∂Âô®„ÄÇ


```
function _Scheduler_binding(callback)
{
	return {
		$: 2,
		b: callback,
		c: null
	};
}

var _Scheduler_andThen = F2(function(callback, task)
{
	return {
		$: 3,
		b: callback,
		d: task
	};
});

```

ËøôÊòØ‰∏Ä‰∏™ TypeScript ‰∏≠ÁöÑÂáΩÊï∞Ôºå‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™Ë∞ÉÂ∫¶Âô®ÔºåÂΩì‰ªªÂä°Â§±Ë¥•Êó∂ËøõË°åÈîôËØØÂ§ÑÁêÜÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Ë∞ÉÂ∫¶Âô®ÂØπË±°„ÄÇ

var _Scheduler_onError = F2(function(callback, task)
{
	return {
		$: 4,
		b: callback,
		d: task
	};
});

function _Scheduler_receive(callback)
{
	return {
		$: 5,
		b: callback
	};
}

var scheduler = new(_Scheduler_receive);

function schedule(task, callback)
{
	scheduler.d = task;
	scheduler.b = callback;
	scheduler.S = Date.now();
	setTimeout(() => {
		if (!callback) {
			scheduler.onError(function(error) {
					console.error(error.message);
				});
				scheduler.S = Date.now();
					setTimeout(() => {
							scheduler.onSuccess(result => {
								console.log(result);
							});
							scheduler.S = Date.now();
					});
			}
		}, scheduler.d);
}

var observer = new MutationObserver(fn => {
	if (!callback) {
		scheduler.onSuccess(result => {
			console.log(result);
			});
			scheduler.onError(error => {
					console.error(error.message);
				});
				scheduler.onSuccess(result => {
						console.log(result);
					});
					scheduler.S = Date.now();
				});
				scheduler.S = Date.now();
			}
		});

	scheduler.S = Date.now();
	setTimeout(() => {
		scheduler.observer = observer;
		observer.observe(document.documentElement);
	}, scheduler.d);
});

function run()
{
	var task = document.getElementById("task");
	var callback = document.getElementById("callback");
	var scheduler = new(_Scheduler_onError);
	var observer = new MutationObserver(fn => {
		if (!callback) {
			scheduler.onSuccess(result => {
					console.log(result);
				});
				scheduler.onError(error => {
						console.error(error.message);
					});
					scheduler.onSuccess(result => {
							console.log(result);
						});
					scheduler.S = Date.now();
					});
				});
				scheduler.observer = observer;
				observer.observe(document.documentElement);
			}
		});

	scheduler.S = Date.now();
	setTimeout(() => {
		if (callback) {
			scheduler.onSuccess(result => {
					console.log(result);
				});
				scheduler.onError(error => {
						console.error(error.message);
					});
					scheduler.onSuccess(result => {
							console.log(result);
						});
					scheduler.S = Date.now();
					});
					scheduler.observer = observer;
					observer.observe(document.documentElement);
				}
			}, scheduler.d);
		}, scheduler.d);

	scheduler.S = Date.now();
	setTimeout(() => {
		if (callback) {
			scheduler.onSuccess(result => {
					console.log(result);
				});
				scheduler.onError(error => {
						console.error(error.message);
					});
					scheduler.onSuccess(result => {
							console.log(result);
						});
					scheduler.S = Date.now();
					});
					scheduler.observer = observer;
					observer.observe(document.documentElement);
				}
			}, scheduler.d);
		}, scheduler.d);
}

// ÁªôÂÆöÁöÑÂõûË∞ÉÂáΩÊï∞Â∞Ü‰Ωú‰∏∫ "onSuccess" Âíå "onError" Ê≥®ÂÜåÂà∞ËßÇÂØüËÄÖ‰∏≠
var callback = function(result) {
	console.log("onSuccess", result);
	console.log("onError", result);
};

// ÂàùÂßãÂåñÂ∑•‰ΩúÁ∫øÁ®ãË∞ÉÂ∫¶Âô®
var scheduler = new(_Scheduler_onError);

// Ê≥®ÂÜå "onSuccess" Âíå "onError" ‰∫ã‰ª∂Âà∞ËßÇÂØüËÄÖ‰∏≠
var observer = new MutationObserver(fn => {
	if (!callback) {
		scheduler.onSuccess(result => {
			console.log("onSuccess", result);
			});
			scheduler.onError(error => {
					console.error("onError", error);
				});
				scheduler.onSuccess(result => {
						console.log("onSuccess", result);
					});
					scheduler.S = Date.now();
				});
				scheduler.observer = observer;
					observer.observe(document.documentElement);
			}
		});
	}
});

// ÂêØÂä®Â∑•‰ΩúÁ∫øÁ®ãË∞ÉÂ∫¶Âô®
run();


```
var _Scheduler_onError = F2(function(callback, task)
{
	return {
		$: 4,
		b: callback,
		d: task
	};
});

function _Scheduler_receive(callback)
{
	return {
		$: 5,
		b: callback
	};
}


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Scheduler_guid` ÁöÑÂèòÈáèÔºåÂÖ∂ÂÄº‰∏∫ 0„ÄÇÊé•ÁùÄÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Scheduler_rawSpawn` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ `task` ÂèÇÊï∞„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ ` proc` ÂØπË±°ÔºåËØ•ÂØπË±°ÁöÑ `$` Â≠óÊÆµ‰∏∫ `0`,`e` Â≠óÊÆµ‰∏∫ `_Scheduler_guid`,`f` Â≠óÊÆµ‰∏∫ `task`,`g` Â≠óÊÆµ‰∏∫ `null`,`h` Â≠óÊÆµ‰∏∫ `null`„ÄÇÁÑ∂ÂêéÂ∞Ü `proc` ÂØπË±°Âä†ÂÖ• `_Scheduler_enqueue` ÂáΩÊï∞ÁöÑÈòüÂàó‰∏≠ÔºåÊúÄÂêéËøîÂõû `proc` ÂØπË±°„ÄÇ

`_Scheduler_guid` ÂèòÈáèÊòØ‰∏Ä‰∏™ÂÖ®Â±ÄÂèòÈáèÔºåÁî®‰∫éË∑üË∏™ÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑ‰ªªÂä°„ÄÇ`_Scheduler_rawSpawn` ÂáΩÊï∞Áî®‰∫éÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑËøõÁ®ãÔºåÂ∞Ü‰ªªÂä°Âä†ÂÖ•ËøõÁ®ãÁöÑÈòüÂàó‰∏≠ÔºåÂπ∂ËøîÂõûËØ•ËøõÁ®ãÁöÑ `proc` ÂØπË±°ÔºåËØ•ÂØπË±°ÂèØ‰ª•Âú®ËøõÁ®ãÁöÑËøêË°åÊó∂‰øÆÊîπ„ÄÇ


```
// PROCESSES

var _Scheduler_guid = 0;

function _Scheduler_rawSpawn(task)
{
	var proc = {
		$: 0,
		e: _Scheduler_guid++,
		f: task,
		g: null,
		h: []
	};

	_Scheduler_enqueue(proc);

	return proc;
}

```

ËØ•‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Scheduler_spawn` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ `task` ÂèÇÊï∞„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞Ü `task` ÂèÇÊï∞‰º†ÈÄíÁªô `_Scheduler_binding` ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞ÁöÑÂõûË∞ÉÂáΩÊï∞Â≠òÂÇ®Âú® `callback` ÂèòÈáè‰∏≠„ÄÇÂ¶ÇÊûú `_Scheduler_binding` ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂàôËØ•ÂáΩÊï∞Â∞Ü‰Ωú‰∏∫ `task` ÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂπ∂‰∏î‰º†ÂÖ•ÁöÑÂèÇÊï∞Â∞Ü‰Ωú‰∏∫ `_Scheduler_spawn` ÂáΩÊï∞ÁöÑÂèÇÊï∞„ÄÇ

ËØ•ÂáΩÊï∞ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Scheduler_rawSend` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ `proc` ÂèÇÊï∞Âíå‰∏Ä‰∏™ `msg` ÂèÇÊï∞„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞Ü `msg` ÂèÇÊï∞‰Ωú‰∏∫ `_Scheduler_rawSend` ÂáΩÊï∞ÁöÑËæìÂÖ•ÂèÇÊï∞ÔºåÂπ∂Â∞Ü `proc` ÂèÇÊï∞‰Ωú‰∏∫ `_Scheduler_rawSend` ÂáΩÊï∞ÁöÑÁ¨¨‰∫å‰∏™ÂèÇÊï∞„ÄÇ

ËØ•‰ª£Á†ÅËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Scheduler_send` ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®‰∏é `_Scheduler_binding` Âíå `_Scheduler_rawSend` ÂáΩÊï∞Á±ª‰ººÔºåÂè™ÊòØÂÖ∂ËøîÂõûÂÄºÁ±ªÂûã‰ªé `void` ÊîπÂèò‰∏∫ `void`„ÄÇ


```
function _Scheduler_spawn(task)
{
	return _Scheduler_binding(function(callback) {
		callback(_Scheduler_succeed(_Scheduler_rawSpawn(task)));
	});
}

function _Scheduler_rawSend(proc, msg)
{
	proc.h.push(msg);
	_Scheduler_enqueue(proc);
}

var _Scheduler_send = F2(function(proc, msg)
{
	return _Scheduler_binding(function(callback) {
		_Scheduler_rawSend(proc, msg);
		callback(_Scheduler_succeed(_Utils_Tuple0));
	});
});

```



ËØ•ÂáΩÊï∞ÊòØ‰∏Ä‰∏™ JavaScript ÂÆöÊó∂Âô®ÔºåÂÆÉÁöÑÁõÆÁöÑÊòØÂú®ËøõÁ®ã `proc` ÂÜÖÊâßË°å‰∏Ä‰∏™ÂáΩÊï∞ `callback`ÔºåÂπ∂Âú®ËØ•ÂáΩÊï∞ÂÜÖÊúâ‰∏Ä‰∫õÊìç‰Ωú„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®È¶ñÂÖàÊ£ÄÊü• `task` ÊòØÂê¶Á≠â‰∫é2ÔºåÂ¶ÇÊûúÊòØÔºåÂàôÊâßË°å `task.c()` ÂáΩÊï∞ÔºåÂç≥ËØ•ËøõÁ®ãÁöÑ `callback` ÂáΩÊï∞„ÄÇÁÑ∂ÂêéÔºåÂáΩÊï∞‰ºöÂ∞Ü `proc.f` ËÆæÁΩÆ‰∏∫ `null`Ôºå‰ª•Ê∏ÖÈô§‰πãÂâçËÆæÁΩÆÁöÑÂÆöÊó∂Âô®„ÄÇ

Êé•‰∏ãÊù•ÔºåÂáΩÊï∞‰ΩøÁî® `_Scheduler_binding` ÂáΩÊï∞Êù•ÁªëÂÆö `callback` ÂáΩÊï∞ÔºåÂπ∂Â∞ÜÂÖ∂‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄí„ÄÇËøôÊ†∑ÂÅöÊòØ‰∏∫‰∫ÜÁ°Æ‰øù `callback` ÂáΩÊï∞Âú® `proc` ÂÜÖÊâßË°åÔºåÂç≥‰Ωø `proc` ËøõÁ®ãÂ∑≤ÁªèÈîÄÊØÅ„ÄÇ

ÊúÄÂêéÔºåÂáΩÊï∞‰ΩøÁî® `_Scheduler_succeed` ÂáΩÊï∞Êù•ÈÄöÁü• `callback` ÂáΩÊï∞ÔºåÂÆÉ‰ºöÂú® `callback` ÂáΩÊï∞‰∏≠ËøîÂõû `true`ÔºåËøôÂ∞ÜËß¶ÂèëÂÆöÊó∂Âô®Ê∏ÖÈô§Êìç‰Ωú„ÄÇ


```
function _Scheduler_kill(proc)
{
	return _Scheduler_binding(function(callback) {
		var task = proc.f;
		if (task.$ === 2 && task.c)
		{
			task.c();
		}

		proc.f = null;

		callback(_Scheduler_succeed(_Utils_Tuple0));
	});
}


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `Process` ÁöÑÊûö‰∏æÁ±ªÂûãÔºåËØ•Á±ªÂûãÂÆö‰πâ‰∫ÜËøõÁ®ãÁöÑ‰∏Ä‰∫õÂü∫Êú¨Â±ûÊÄßÔºåÂ¶ÇÊ†áÁ≠æ„ÄÅÂîØ‰∏ÄÊ†áËØÜÁ¨¶„ÄÅÁà∂ËøõÁ®ãÂíåÂ†ÜÊ†àÁ≠â„ÄÇ

Êõ¥ÂÖ∑‰ΩìÂú∞ËØ¥ÔºåËØ•‰ª£Á†ÅÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Scheduler_working` ÁöÑÂ∏ÉÂ∞îÂèòÈáèÔºåÁî®‰∫éË°®Á§∫Ë∞ÉÂ∫¶Âô®ÂΩìÂâçÁöÑÂ∑•‰ΩúÁä∂ÊÄÅÔºå‰ª•Âèä‰∏Ä‰∏™Âêç‰∏∫ `_Scheduler_queue` ÁöÑÊï∞ÁªÑÔºåÁî®‰∫é‰øùÂ≠òÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑ‰ªªÂä°„ÄÇ

`var _Scheduler_working` ÂèòÈáèÊòØ‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫Ë∞ÉÂ∫¶Âô®ÊòØÂê¶Ê≠£Âú®ËøêË°å„ÄÇÂ¶ÇÊûúÂÆÉ‰∏∫ÁúüÔºåÂàôË°®Á§∫Ë∞ÉÂ∫¶Âô®Ê≠£Âú®ËøêË°åÔºåÂê¶Âàô‰∏∫ÂÅá„ÄÇ

`var _Scheduler_queue` Êï∞ÁªÑÁî®‰∫é‰øùÂ≠òÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑ‰ªªÂä°„ÄÇÂÆÉÊòØ‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™ÂÖÉÁ¥†ÁöÑÊï∞ÁªÑÔºåÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÊòØ‰∏Ä‰∏™ÂåÖÂê´‰ªªÂä° `msg` ÁöÑÂØπË±°„ÄÇÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØ‰ªªÂä°ÁöÑ `id`ÔºåÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†ÊòØ‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫ËØ•‰ªªÂä°ÊòØÂê¶Â∑≤ÁªèÊàêÂäüÂÆåÊàêÔºà`true`ÔºâÊàñÊ≠£Âú®Á≠âÂæÖÔºà`false`Ôºâ„ÄÇ

ËØ•‰ª£Á†ÅËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `Process` ÁöÑÊûö‰∏æÁ±ªÂûãÔºåËØ•Á±ªÂûãÂÆö‰πâ‰∫ÜËøõÁ®ãÁöÑ‰∏Ä‰∫õÂü∫Êú¨Â±ûÊÄßÔºåÂ¶ÇÊ†áÁ≠æ„ÄÅÂîØ‰∏ÄÊ†áËØÜÁ¨¶„ÄÅÁà∂ËøõÁ®ãÂíåÂ†ÜÊ†àÁ≠â„ÄÇËøô‰∫õÂ±ûÊÄßÈÉΩÊòØ `true` Êàñ `false` ÁöÑÂÄºÔºåÂèØ‰ª•Áî®Êù•ËÆæÁΩÆÊàñËé∑ÂèñËøõÁ®ãÁöÑÁä∂ÊÄÅ„ÄÇ


```
/* STEP PROCESSES

type alias Process =
  { $ : tag
  , id : unique_id
  , root : Task
  , stack : null | { $: SUCCEED | FAIL, a: callback, b: stack }
  , mailbox : [msg]
  }

*/


var _Scheduler_working = false;
var _Scheduler_queue = [];


```

ËØ•ÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÁßÅÊúâÂáΩÊï∞ÔºåÂ±û‰∫é‰∏Ä‰∏™Âêç‰∏∫ `_Scheduler_` ÁöÑÁ±ª„ÄÇÂÆÉÁöÑ‰ΩúÁî®ÊòØÂú®ÂÆöÊó∂Âô®‰∏≠ÊâßË°åÁªôÂÆöÁöÑ `proc`ÔºåÂπ∂Âú®ÊâßË°åËøáÁ®ã‰∏≠ÂÜ≥ÂÆö‰ª•‰∏ãÂá†ÁÇπÔºö

1. Â¶ÇÊûúÂÆöÊó∂Âô® `_Scheduler_` Ê≠£Âú®ËøêË°åÔºåÂáΩÊï∞Â∞ÜÁõ¥Êé•ËøîÂõûÔºå‰∏ç‰ºöÊâßË°å `proc`„ÄÇ
2. Â¶ÇÊûú `_Scheduler_` Ê≠£Âú®ËøêË°åÔºåÂáΩÊï∞Â∞ÜÈòªÂ°ûÂÆöÊó∂Âô®ÔºåÁõ¥Âà∞ÂÆöÊó∂Âô®ÂÆåÊàêÂÖ∂Â∑•‰Ωú„ÄÇ
3. Â¶ÇÊûú `_Scheduler_` Â∑≤ÁªèÂÆåÊàêÂÖ∂Â∑•‰ΩúÔºåÂáΩÊï∞Â∞ÜÁßªÈô§ `_Scheduler_queue` ‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÂπ∂ÈòªÊ≠¢‰ªª‰ΩïÊñ∞ÁöÑËøõÁ®ãÂä†ÂÖ•ÈòüÂàó„ÄÇ
4. ÂáΩÊï∞Â∞Ü `_Scheduler_queue` ‰∏≠ÁöÑÂÖÉÁ¥†ÂèñÂá∫Âπ∂ÊâßË°åÔºåÁÑ∂ÂêéÂÜçÂ∞Ü `_Scheduler_queue` Êõ¥Êñ∞‰∏∫Â∑≤Âà†Èô§ÁöÑÂÖÉÁ¥†„ÄÇ
5. ÂáΩÊï∞Â∞ÜÂú®ÊâßË°åËøáÁ®ã‰∏≠Âæ™ÁéØÔºåÁõ¥Âà∞ `_Scheduler_queue` ‰∏∫Á©∫ÔºåÂç≥ `_Scheduler_` Â∑≤ÂÆåÊàêÂÖ∂Â∑•‰Ωú„ÄÇ
6. ÂáΩÊï∞ÈÄÄÂá∫Êó∂ÔºåÂ∞ÜÊ∏ÖÈô§ `_Scheduler_queue` ‰∏≠ÊâÄÊúâÂÖÉÁ¥†ÔºåÂπ∂ÂèñÊ∂àÂÆöÊó∂Âô®„ÄÇ


```
function _Scheduler_enqueue(proc)
{
	_Scheduler_queue.push(proc);
	if (_Scheduler_working)
	{
		return;
	}
	_Scheduler_working = true;
	while (proc = _Scheduler_queue.shift())
	{
		_Scheduler_step(proc);
	}
	_Scheduler_working = false;
}


```



ËØ•ÂáΩÊï∞ `_Scheduler_step` ÊòØ React Â∫ì‰∏≠ `useScheduler` ÁªÑ‰ª∂ÁöÑÈÄíÂΩíÊ≠•È™§ÂáΩÊï∞„ÄÇ

ÊØèÊ¨° `while` Âæ™ÁéØÈÉΩ‰ºöÂ§ÑÁêÜ‰∏Ä‰∏™ `proc` ÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´‰∫ÜÂΩìÂâçÊ≠•È™§ÁöÑÈÄªËæë„ÄÇ

ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÁõëÂê¨ `proc` ÂØπË±°‰∏≠ÁöÑ `f` Â±ûÊÄßÔºåÂ¶ÇÊûú `f` Â±ûÊÄß‰∏∫ `true`ÔºåÂàôÊâßË°å‰∏ÄÁ≥ªÂàóÂà§Êñ≠ÔºåÂ¶ÇÊûúÊòØÔºåÂàôÊâßË°å‰∏Ä‰∫õÊìç‰ΩúÔºåÊúÄÂêéËøîÂõû `true` Ë°®Á§∫ÁªßÁª≠Âæ™ÁéØ„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂáΩÊï∞‰ºöÊ†πÊçÆ `rootTag` Â±ûÊÄßÁöÑÂÄºÊù•Âà§Êñ≠ÂΩìÂâç `proc` ÂØπË±°ÊâÄÂú®ÁöÑÂ±ÇÁ∫ß„ÄÇÂ¶ÇÊûú `rootTag` ‰∏∫ `0` Êàñ `1`ÔºåÂàô‰ª£Ë°®ÂΩìÂâç `proc` ÂØπË±°Âú®Ëá™Â∑±ÁöÑÂ±ÇÁ∫ßÂÜÖÔºåÂáΩÊï∞‰ºöÁªßÁª≠Â§ÑÁêÜ‰∏ã‰∏ÄÁ∫ß `proc` ÂØπË±°„ÄÇÂ¶ÇÊûú `rootTag` ‰∏∫ `2`ÔºåÂàô‰ª£Ë°®Ë¶ÅÊâßË°å‰∏Ä‰∏™ `step` Êìç‰ΩúÔºåÂáΩÊï∞‰ºöÊâßË°å `step` ÂáΩÊï∞ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ `newRoot` Ë°®ËææÂºèÔºåÂπ∂Â∞ÜÁªìÊûúËøîÂõû„ÄÇÂ¶ÇÊûú `rootTag` ‰∏∫ `3` Êàñ `4`ÔºåÂàô‰ª£Ë°®ÂΩìÂâç `proc` ÂØπË±°Âú®Ëá™Â∑±ÁöÑÂ±ÇÁ∫ßÂÜÖÔºåÂáΩÊï∞‰ºöÊâßË°å‰∏Ä‰∫õÊìç‰ΩúÂπ∂Â∞Ü `proc` ÂØπË±°‰º†ÈÄíÁªô `step` ÂáΩÊï∞„ÄÇ

Â¶ÇÊûú `rootTag` ‰∏∫ `5`ÔºåÂàô‰ª£Ë°®Ë¶ÅÊâßË°å‰∏Ä‰∏™Ëá™ÂÆö‰πâÊìç‰ΩúÔºåÂáΩÊï∞‰ºöÊâßË°åËØ•Ëá™ÂÆö‰πâÊìç‰ΩúÂπ∂Â∞ÜÁªìÊûúËøîÂõû„ÄÇ

ÂáΩÊï∞ÁöÑÂÆûÁé∞ËæÉ‰∏∫Â§çÊùÇÔºå‰ΩÜÂèØ‰ª•‰ΩøÂæó‰ª£Á†ÅÊõ¥Âä†Ê∏ÖÊô∞„ÄÅÊòì‰∫éÁêÜËß£„ÄÇ


```
function _Scheduler_step(proc)
{
	while (proc.f)
	{
		var rootTag = proc.f.$;
		if (rootTag === 0 || rootTag === 1)
		{
			while (proc.g && proc.g.$ !== rootTag)
			{
				proc.g = proc.g.i;
			}
			if (!proc.g)
			{
				return;
			}
			proc.f = proc.g.b(proc.f.a);
			proc.g = proc.g.i;
		}
		else if (rootTag === 2)
		{
			proc.f.c = proc.f.b(function(newRoot) {
				proc.f = newRoot;
				_Scheduler_enqueue(proc);
			});
			return;
		}
		else if (rootTag === 5)
		{
			if (proc.h.length === 0)
			{
				return;
			}
			proc.f = proc.f.b(proc.h.shift());
		}
		else // if (rootTag === 3 || rootTag === 4)
		{
			proc.g = {
				$: rootTag === 3 ? 0 : 1,
				b: proc.f.b,
				i: proc.g
			};
			proc.f = proc.f.d;
		}
	}
}



```



This code defines a function called `_Process_sleep` that takes a single argument `time` (an integer in the range of 0 to 59536).

The purpose of this function is to pause the execution of the code for a specified amount of time, using the `Scheduler` class. The `Scheduler` class is a higher-level class that allows for easier scheduling of tasks, using aÂÆöÊó∂Âô® mechanism.

The function uses the `setTimeout` function to schedule the timer, with the given delay `time` seconds. It then returns a function that will be called when the timer is about to expire. Inside this function, it calls the `Scheduler_succeed` method, passing it the argument `_Scheduler_binding` (a reference to the `Scheduler` class), and then it calls the `clearTimeout` method to clear theÂÆöÊó∂Âô® when the function is called.

In summary, this function is a utility function that allows to schedule a delay in a higher-level `Scheduler` class.


```
function _Process_sleep(time)
{
	return _Scheduler_binding(function(callback) {
		var id = setTimeout(function() {
			callback(_Scheduler_succeed(_Utils_Tuple0));
		}, time);

		return function() { clearTimeout(id); };
	});
}




// PROGRAMS


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_worker` ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÊâßË°å‰∏Ä‰∏™Âêç‰∏∫ `F4` ÁöÑÂáΩÊï∞ÔºåÂπ∂Âú®ËØ•ÂáΩÊï∞‰∏≠ÊâßË°å‰∏ÄÁ≥ªÂàóÁöÑÊìç‰Ωú„ÄÇ

È¶ñÂÖàÔºåÂÆÉÂ∞ÜË∞ÉÁî®‰∏Ä‰∏™Âêç‰∏∫ `_Platform_initialize` ÁöÑÂáΩÊï∞ÔºåÂπ∂Â∞ÜËØ•ÂáΩÊï∞‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰º†ÂÖ•Ôºå‰ª•Á°Æ‰øù `F4` ÂáΩÊï∞ÂèØ‰ª•ËÆøÈóÆÂπ≥Âè∞ÂàùÂßãÂåñÁöÑÁõ∏ÂÖ≥ËµÑÊ∫ê„ÄÇ

Êé•‰∏ãÊù•ÔºåÂÆÉÂ∞ÜÊé•Êî∂ `flagDecoder`„ÄÅ`args` Âíå `impl.aB` ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂Â∞ÜËøô‰∫õÂèÇÊï∞‰º†ÈÄíÁªô `F4` ÂáΩÊï∞ÁöÑÁ¨¨‰∏ÄÈÉ®ÂàÜ„ÄÇ

ÊúÄÂêéÔºåÂÆÉÂ∞ÜË∞ÉÁî®‰∏Ä‰∏™Âêç‰∏∫ `function` ÁöÑÂáΩÊï∞ÔºåÂπ∂Â∞ÜËØ•ÂáΩÊï∞‰Ωú‰∏∫ `F4` ÂáΩÊï∞ÁöÑÂõûË∞ÉÂáΩÊï∞Ôºå‰ª•‰æøÂú® `F4` ÂáΩÊï∞ÊâßË°åÂÆåÊØïÂêéÔºåÂèØ‰ª•ÊâßË°å‰∏Ä‰∫õÊìç‰Ωú„ÄÇ


```
var _Platform_worker = F4(function(impl, flagDecoder, debugMetadata, args)
{
	return _Platform_initialize(
		flagDecoder,
		args,
		impl.aB,
		impl.aJ,
		impl.aH,
		function() { return function() {} }
	);
});



// INITIALIZE A PROGRAM


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_initialize` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂèØÈÄâÁöÑ `args` ÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂Âú®ÂáΩÊï∞ÂÜÖÈÉ®ÊâßË°å‰∏Ä‰∫õÊìç‰ΩúÊù•ËÆæÁΩÆÂàùÂßãÂåñÁä∂ÊÄÅ„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂáΩÊï∞È¶ñÂÖà‰ΩøÁî® `A2` ÂáΩÊï∞Êù•ÊâßË°å `_Json_run` ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞Â∞Ü `args` ÂØπË±°‰∏≠ÁöÑ `flags` Â±ûÊÄßËß£Êûê‰∏∫ JSON ÂØπË±°„ÄÇÁÑ∂ÂêéÔºåÂÆÉ‰ΩøÁî® `_Json_wrap` ÂáΩÊï∞Â∞Ü `args` ÂØπË±°‰∏≠ÁöÑ `flags` Â±ûÊÄßËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇÂ¶ÇÊûú `args` ÂØπË±°‰∏≠Ê≤°Êúâ `flags` Â±ûÊÄßÔºåÂáΩÊï∞Â∞ÜÊäõÂá∫ÂºÇÂ∏∏Âπ∂ËæìÂá∫ÈîôËØØ‰ø°ÊÅØ„ÄÇ

Êé•‰∏ãÊù•ÔºåÂáΩÊï∞ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `managers` ÁöÑÂØπË±°ÔºåÁî®‰∫éÂ≠òÂÇ®Â∫îÁî®Á®ãÂ∫èÁöÑÁÆ°ÁêÜÂô®„ÄÇÁÑ∂ÂêéÔºåÂÆÉ‰ΩøÁî® `init` ÂáΩÊï∞(Ëøô‰∏™ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºöÂàùÂßãÂåñÁä∂ÊÄÅ `result` ÂíåÂ∫îÁî®Á®ãÂ∫èÁöÑÂÖ•Âè£ÂáΩÊï∞ `init` )Êù•ËÆæÁΩÆÂàùÂßãÂåñÁä∂ÊÄÅ„ÄÇÂ¶ÇÊûúÂàùÂßãÂåñÊàêÂäüÔºåÂáΩÊï∞Â∞ÜËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Â∫îÁî®Á®ãÂ∫èÂÖ•Âè£ÂáΩÊï∞ÂíåÂÖÅËÆ∏‰ΩøÁî®ÁöÑ `ports` ÁöÑÂØπË±°„ÄÇ

ÊúÄÂêéÔºåÂáΩÊï∞ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `stepper` ÁöÑ stepper ÂÆû‰æãÔºåËøô‰∏™ÂÆû‰æã‰ΩøÁî® `stepperBuilder` ÂáΩÊï∞Êù•ÂàõÂª∫„ÄÇÁÑ∂ÂêéÔºåÂÆÉ‰ΩøÁî® `sendToApp` ÂáΩÊï∞Êù•Â∞ÜËæìÂÖ•ÁöÑ `msg` Âíå `viewMetadata` ÂØπË±°‰º†ÈÄíÁªôÂ∫îÁî®Á®ãÂ∫èÁöÑÂÖ•Âè£ÂáΩÊï∞ÔºåÂπ∂Â∞Ü stepper ÁöÑÁªìÊûúËøîÂõûÁªô `sendToApp` ÂáΩÊï∞„ÄÇ

Êï¥‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞ÜÂ∫îÁî®Á®ãÂ∫èËÆæÁΩÆ‰∏∫ÂàùÂßãÂåñÁä∂ÊÄÅÔºåÂπ∂ÂÖÅËÆ∏Â∫îÁî®Á®ãÂ∫èÊé•Êî∂Áî®Êà∑ËæìÂÖ•ÁöÑÂëΩ‰ª§ÂíåÂàùÂßãÂåñÁä∂ÊÄÅ‰ø°ÊÅØ„ÄÇ


```
function _Platform_initialize(flagDecoder, args, init, update, subscriptions, stepperBuilder)
{
	var result = A2(_Json_run, flagDecoder, _Json_wrap(args ? args['flags'] : undefined));
	$elm$core$Result$isOk(result) || _Debug_crash(2 /**_UNUSED/, _Json_errorToString(result.a) /**/);
	var managers = {};
	var initPair = init(result.a);
	var model = initPair.a;
	var stepper = stepperBuilder(sendToApp, model);
	var ports = _Platform_setupEffects(managers, sendToApp);

	function sendToApp(msg, viewMetadata)
	{
		var pair = A2(update, msg, model);
		stepper(model = pair.a, viewMetadata);
		_Platform_enqueueEffects(managers, pair.b, subscriptions(model));
	}

	_Platform_enqueueEffects(managers, initPair.b, subscriptions(model));

	return ports ? { ports: ports } : {};
}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫`_Platform_preload`ÁöÑÂáΩÊï∞ÔºåÂÆÉÊòØÁî®Êù•Ê≥®ÂÜå‰ªª‰ΩïÂú®ÂàùÂßãÂåñËøáÁ®ã‰∏≠Ëß¶ÂèëÁöÑHTTPËØ∑Ê±ÇÁöÑ„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™URLÂèÇÊï∞‰Ωú‰∏∫ÂÖ∂ËæìÂÖ•ÂèÇÊï∞ÔºåÂπ∂Â∞ÜËØ•URLÊ∑ªÂä†Âà∞È¢ÑÂä†ËΩΩÂàóË°®‰∏≠„ÄÇ

Ê≥®ÊÑèÔºåËøôÊÆµ‰ª£Á†ÅÊ≤°ÊúâËøõË°åÊ≥®ÈáäÔºå‰ΩÜÊòØÊ†πÊçÆÂáΩÊï∞ÁöÑÂêçÁß∞Âíå‰ΩúÁî®ÔºåÊàë‰ª¨ÂèØ‰ª•Êé®Êñ≠Âá∫ÂÆÉÂèØËÉΩ‰∏éElmÁöÑHTTPÁªÑ‰ª∂Áõ∏ÂÖ≥„ÄÇÂú®Elm‰∏≠ÔºåËøô‰∏™ÂáΩÊï∞ÂèØËÉΩ‰ºöË¢´Áî®Êù•Âú®Â∫îÁî®Á®ãÂ∫èÂêØÂä®‰πãÂâçÂÅö‰∏Ä‰∫õÈ¢ÑÂä†ËΩΩÊìç‰ΩúÔºå‰æãÂ¶ÇÂä†ËΩΩÁ¨¨‰∏âÊñπËµÑÊ∫êÂíåÂàùÂßãÂåñÈ°µÈù¢„ÄÇ


```
// TRACK PRELOADS
//
// This is used by code in elm/browser and elm/http
// to register any HTTP requests that are triggered by init.
//


var _Platform_preload;


function _Platform_registerPreload(url)
{
	_Platform_preload.add(url);
}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_effectManagers` ÁöÑÂØπË±°ÔºåÂÖ∂‰ΩúÁî®ÊòØÂàõÂª∫ÂíåÁÆ°ÁêÜ JavaScript ‰∏≠ÁöÑÊïàÂ∫î(Effect)ÔºåÂåÖÊã¨ËÆæÁΩÆÂíåÊ≥®ÂÜåÊïàÂ∫îÔºå‰ª•ÂèäÂ∞ÜÊ≥®ÂÜåÁöÑÊïàÂ∫î‰∏éÂ∫îÁî®Á®ãÂ∫èÁõ∏ÂÖ≥ËÅî„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËØ•‰ª£Á†ÅÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ `_Platform_setupEffects` ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÂåÖÂê´ÊâÄÊúâÂπ≥Âè∞ÊïàÂ∫îÁÆ°ÁêÜÂô®ÁöÑÂ≠óÂÖ∏ `managers`ÔºåÂíå‰∏Ä‰∏™ ÊòØËß£ÂÜ≥‰∏ÄÂàáÈóÆÈ¢òÁöÑÂÖ≥ÈîÆÂ∫îÁî®Á®ãÂ∫è `sendToApp`„ÄÇÂáΩÊï∞ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Á©∫Â≠óÂÖ∏ `ports`ÔºåÁÑ∂ÂêéÈÅçÂéÜÊâÄÊúâÂ∑≤Ê≥®ÂÜåÊïàÂ∫îÁöÑÁªèÁêÜÔºåÂ¶ÇÊûúÊïàÂ∫îÁöÑ `a` Â±ûÊÄßÂ≠òÂú®ÔºåÂ∞±Â∞ÜÂÖ∂Ê∑ªÂä†Âà∞ `ports` ÂØπË±°‰∏≠ÔºåÂêåÊó∂Â∞ÜÊïàÂ∫î‰∏éÂ∫îÁî®Á®ãÂ∫èÁõ∏ÂÖ≥ËÅîÂπ∂ËøîÂõûÂÆÉ„ÄÇÂ¶ÇÊûú `a` Â±ûÊÄß‰∏çÂ≠òÂú®ÔºåÂáΩÊï∞‰ºöË∞ÉÁî®Âè¶‰∏Ä‰∏™Âêç‰∏∫ `_Platform_instantiateManager` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞‰ºöÂàõÂª∫Âπ∂ËøîÂõû‰∏Ä‰∏™ÊúâÊïàÁöÑÁªèÁêÜÂÆû‰æãÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Ê∑ªÂä†Âà∞ `managers` Â≠óÂÖ∏‰∏≠„ÄÇ

ÊúÄÂêéÔºåÂáΩÊï∞ËøîÂõû `ports` ÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´‰∫ÜÊâÄÊúâÂ∑≤Ê≥®ÂÜåÁöÑÊïàÂ∫îÔºå‰ª•ÂèäÂÆÉ‰ª¨ÁöÑÂ±ûÊÄß„ÄÅÁä∂ÊÄÅÂíåËß¶ÂèëÂô®Á≠â‰ø°ÊÅØÔºåÂèØ‰ª•Áî®‰∫éÂ∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑÊïàÂ∫îÁÆ°ÁêÜÂíå‰∫ã‰ª∂ÁõëÂê¨Á≠â„ÄÇ


```
// EFFECT MANAGERS


var _Platform_effectManagers = {};


function _Platform_setupEffects(managers, sendToApp)
{
	var ports;

	// setup all necessary effect managers
	for (var key in _Platform_effectManagers)
	{
		var manager = _Platform_effectManagers[key];

		if (manager.a)
		{
			ports = ports || {};
			ports[key] = manager.a(key, sendToApp);
		}

		managers[key] = _Platform_instantiateManager(manager, sendToApp);
	}

	return ports;
}


```

ËØ•‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞ÔºåÂàÜÂà´‰∏∫`_Platform_createManager`Âíå`_Platform_instantiateManager`„ÄÇËøô‰∏§‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö

1. `_Platform_createManager`ÂáΩÊï∞Êé•Êî∂ÂàùÂßãÂåñÂèÇÊï∞„ÄÅÊïàÊûúÂõûË∞ÉÂáΩÊï∞„ÄÅËá™ÂÆö‰πâÊ∂àÊÅØÂõûË∞ÉÂáΩÊï∞‰ª•ÂèäÂëΩ‰ª§Êò†Â∞ÑÂèÇÊï∞„ÄÇÂÆÉËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ÂàùÂßãÂåñ‰ø°ÊÅØ„ÄÅÊïàÊûúÂõûË∞ÉÂáΩÊï∞„ÄÅËá™ÂÆö‰πâÊ∂àÊÅØÂõûË∞ÉÂáΩÊï∞ÂíåÂëΩ‰ª§Êò†Â∞ÑÂèÇÊï∞ÁöÑÂØπË±°„ÄÇ

2. `_Platform_instantiateManager`ÂáΩÊï∞Êé•Êî∂ÂàùÂßãÂåñ‰ø°ÊÅØ„ÄÅÊïàÊûúÂõûË∞ÉÂáΩÊï∞„ÄÅËá™ÂÆö‰πâÊ∂àÊÅØÂõûË∞ÉÂáΩÊï∞‰ª•ÂèäÂëΩ‰ª§Êò†Â∞ÑÂèÇÊï∞„ÄÇÂÆÉËøîÂõû‰∏Ä‰∏™Ë∑ØÁî±Âô®ÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´ÂΩìÂâçÁä∂ÊÄÅ„ÄÅÁõÆÊ†áË∑ØÁî±Âô®‰ª•ÂèäÂèëÈÄÅÊ∂àÊÅØÁöÑÁõÆÊ†áÂ∫îÁî®Á®ãÂ∫è„ÄÇ

`_Platform_createManager`ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØ‰∏∫ÂàùÂßãÂåñ‰ø°ÊÅØÂàõÂª∫‰∏Ä‰∏™ManagerÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´ÂàùÂßãÂåñ‰ø°ÊÅØ„ÄÅÊïàÊûúÂõûË∞ÉÂáΩÊï∞„ÄÅËá™ÂÆö‰πâÊ∂àÊÅØÂõûË∞ÉÂáΩÊï∞ÂíåÂëΩ‰ª§Êò†Â∞ÑÂèÇÊï∞„ÄÇÂÆÉËøîÂõûËøô‰∏™ManagerÂØπË±°Ôºå‰ª•‰æøÂú®ÈúÄË¶ÅÊó∂ËøõË°åÂÆû‰æãÂåñ„ÄÇ

`_Platform_instantiateManager`ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®Êé•Êî∂Âà∞‰∏Ä‰∏™ÂàùÂßãÂåñ‰ø°ÊÅØ‰πãÂêéÔºåÂÆû‰æãÂåñ‰∏Ä‰∏™Ë∑ØÁî±Âô®ÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´ÂΩìÂâçÁä∂ÊÄÅ„ÄÅÁõÆÊ†áË∑ØÁî±Âô®‰ª•ÂèäÂèëÈÄÅÊ∂àÊÅØÁöÑÁõÆÊ†áÂ∫îÁî®Á®ãÂ∫è„ÄÇÂÆÉËøîÂõûËøô‰∏™Ë∑ØÁî±Âô®ÂØπË±°Ôºå‰ª•‰æøÂú®ÈúÄË¶ÅÊó∂ËøõË°å‰ΩøÁî®„ÄÇ


```
function _Platform_createManager(init, onEffects, onSelfMsg, cmdMap, subMap)
{
	return {
		b: init,
		c: onEffects,
		d: onSelfMsg,
		e: cmdMap,
		f: subMap
	};
}


function _Platform_instantiateManager(info, sendToApp)
{
	var router = {
		g: sendToApp,
		h: undefined
	};

	var onEffects = info.c;
	var onSelfMsg = info.d;
	var cmdMap = info.e;
	var subMap = info.f;

	function loop(state)
	{
		return A2(_Scheduler_andThen, loop, _Scheduler_receive(function(msg)
		{
			var value = msg.a;

			if (msg.$ === 0)
			{
				return A3(onSelfMsg, router, value, state);
			}

			return cmdMap && subMap
				? A4(onEffects, router, value.i, value.j, state)
				: A3(onEffects, router, cmdMap ? value.i : value.j, state);
		}));
	}

	return router.h = _Scheduler_rawSpawn(A2(_Scheduler_andThen, loop, info.b));
}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞ `_Platform_sendToApp` Âíå `_Platform_sendToSelf`ÔºåÁî®‰∫éÂú®‰∏çÂêåÊÉÖÂ¢É‰∏ãÂêëË∑ØÁî±Âô®ÂèëÈÄÅÊ∂àÊÅØ„ÄÇ

`_Platform_sendToApp` ÂáΩÊï∞ÊòØ‰∏Ä‰∏™ bind functionÔºàÂç≥Èó≠ÂåÖÂáΩÊï∞ÔºâÔºåÂÆÉÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºöË∑ØÁî±Âô®ÂíåÊ∂àÊÅØ„ÄÇÂáΩÊï∞ÂÜÖÈÉ®È¶ñÂÖàË∞ÉÁî®‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ `_Scheduler_binding`ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ÔºåÁÑ∂Âêé‰ΩøÁî® `_Scheduler_send` ÂáΩÊï∞Â∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞ÊåáÂÆöÁöÑË∑ØÁî±Âô®„ÄÇÊúÄÂêéÔºå‰ΩøÁî® `callback` ÂèÇÊï∞‰º†ÈÄí‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ÔºåËØ•ÂõûË∞ÉÂáΩÊï∞Âú® `_Scheduler_succeed` ÂáΩÊï∞ËøîÂõûÊó∂Ë¢´Ë∞ÉÁî®„ÄÇÂ¶ÇÊûúÊ∂àÊÅØÂèëÈÄÅÊàêÂäüÔºåÂàôÂõûË∞ÉÂáΩÊï∞ÁöÑËøîÂõûÂÄºÂ∞ÜË¢´‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `callback`ÔºåÂê¶ÂàôÂ∞Ü‰∫ßÁîü‰∏Ä‰∏™ÈîôËØØ„ÄÇ

`_Platform_sendToSelf` ÂáΩÊï∞ÊòØ‰∏Ä‰∏™ closure ÂáΩÊï∞ÔºåÂÆÉ‰∏é `_Platform_sendToApp` ÂáΩÊï∞‰ΩúÁî®Á±ª‰ººÔºå‰ΩÜÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞ÂΩìÂâçÁöÑË∑ØÁî±Âô®ÔºåËÄå‰∏çÊòØ‰∏Ä‰∏™ÊåáÂÆöÁöÑË∑ØÁî±Âô®„ÄÇÂáΩÊï∞ÂÜÖÈÉ®È¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ `A2` ÁöÑÂáΩÊï∞ÔºåÁÑ∂Âêé‰ΩøÁî® `_Scheduler_send` ÂáΩÊï∞Â∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞ÂΩìÂâçË∑ØÁî±Âô®„ÄÇ‰∏é `_Platform_sendToApp` ‰∏çÂêåÔºåËØ•ÂáΩÊï∞Ê≤°ÊúâÂõûË∞ÉÂáΩÊï∞ÔºåÂõ†Ê≠§ÂÆÉÂè™ËÉΩÂú®ÂΩìÂâçË∑ØÁî±Âô®‰∏äÊ≠£Â∏∏Â∑•‰ΩúÔºå‰∏çËÉΩÂ§ÑÁêÜÊ∂àÊÅØÁöÑÂºÇÊ≠•ÂìçÂ∫î„ÄÇ


```
// ROUTING


var _Platform_sendToApp = F2(function(router, msg)
{
	return _Scheduler_binding(function(callback)
	{
		router.g(msg);
		callback(_Scheduler_succeed(_Utils_Tuple0));
	});
});


var _Platform_sendToSelf = F2(function(router, msg)
{
	return A2(_Scheduler_send, router.h, {
		$: 0,
		a: msg
	});
});



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_leaf` ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØËøîÂõû‰∏Ä‰∏™ÂØπË±°Ôºå‰ª£Ë°®‰∫Ü‰∏Ä‰∏™ `value` Â±ûÊÄßÁöÑÂèñÂÄºÔºåÂπ∂‰∏îËøô‰∏™ÂØπË±°ÂåÖÂê´‰∫Ü‰∏Ä‰∏™ `$` Â±ûÊÄß„ÄÅ‰∏Ä‰∏™ `k` Â±ûÊÄßÂíå‰∏Ä‰∏™ `l` Â±ûÊÄß„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøô‰∏™ÂáΩÊï∞ÁöÑÂÆûÁé∞ÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö

1. ËøîÂõû‰∏Ä‰∏™ÊôÆÈÄöÂØπË±° `{}`„ÄÇ
2. Âú®ÂØπË±°‰∏≠ÂÆö‰πâ‰∏Ä‰∏™Âêç‰∏∫ `$` ÁöÑÂ±ûÊÄßÔºåÂÆÉÁöÑÂÄº‰∏∫ `1`„ÄÇ
3. Âú®ÂØπË±°‰∏≠ÂÆö‰πâ‰∏Ä‰∏™Âêç‰∏∫ `k` ÁöÑÂ±ûÊÄßÔºåÂÆÉÁöÑÂÄº‰∏∫ `home`„ÄÇ
4. Âú®ÂØπË±°‰∏≠ÂÆö‰πâ‰∏Ä‰∏™Âêç‰∏∫ `l` ÁöÑÂ±ûÊÄßÔºåÂÆÉÁöÑÂÄº‰∏∫ `value`„ÄÇ

Ëøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØËøîÂõû‰∏Ä‰∏™ÂØπË±°Ôºå‰ª£Ë°®‰∫Ü‰∏Ä‰∏™ `value` Â±ûÊÄßÁöÑÂèñÂÄº„ÄÇËøô‰∏™ÂØπË±°ÂèØ‰ª•Âú®Á®ãÂ∫è‰∏≠Áî®‰∫éËÆ∏Â§ö‰∏çÂêåÁöÑÁî®ÈÄîÔºå‰æãÂ¶ÇÂÜ≥ÂÆöÊòØÂê¶Â∞Ü `value` ‰Ωú‰∏∫ËæìÂÖ•ÊàñËÄÖËæìÂá∫‰∏Ä‰∏™ÂåÖÂê´‰∫Ü `value` ÁöÑ JSON ÂØπË±°„ÄÇ


```
// BAGS


function _Platform_leaf(home)
{
	return function(value)
	{
		return {
			$: 1,
			k: home,
			l: value
		};
	};
}


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_batch` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÊé•Êî∂‰∏Ä‰∏™Êï¥Êï∞ÂàóË°®‰Ωú‰∏∫ÂèÇÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØËøîÂõû‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÁöÑÂØπË±°ÔºåÁ¨¨‰∏Ä‰∏™Â±ûÊÄßÊòØ‰∏Ä‰∏™ `2`ÔºåÁ¨¨‰∫å‰∏™Â±ûÊÄßÊòØ‰∏Ä‰∏™Áî±‰º†ÈÄíÁªôÂáΩÊï∞ÁöÑÊï¥Êï∞ÂàóË°®ÁªÑÊàêÁöÑ‰∏Ä‰∏™ `F2` ÂáΩÊï∞ÔºåÂÆÉ‰ºöÂú®ÂáΩÊï∞ÂÜÖÈÉ®ÂàõÂª∫‰∏Ä‰∏™ `F2` ÂáΩÊï∞ÔºåÁî®‰∫éÂ≠òÂÇ®‰∏ÄÁ≥ªÂàóÁöÑ `F2` ÂáΩÊï∞„ÄÇ

Êé•‰∏ãÊù•ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_map` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™Áî®‰∫é `F2` ÂáΩÊï∞ÁöÑ `F2` ÂáΩÊï∞ÔºåÂíå‰∏Ä‰∏™Áî®‰∫éÂ≠òÂÇ® `F2` ÂáΩÊï∞ËæìÂá∫ÁöÑ `Map` ÂáΩÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™ `Map` ÂáΩÊï∞ÔºåÁî®‰∫éÂ≠òÂÇ®‰∏ÄÁ≥ªÂàóÁöÑ `F2` ÂáΩÊï∞ÔºåÊØè‰∏™ÂáΩÊï∞ÁöÑËæìÂÖ•ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåËæìÂá∫ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇ

ÊúÄÂêéÔºåËøô‰∏§ÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ `PlatformBatch` Á±ªÔºåÂÆÉÁªßÊâøËá™ `PlatformBatchMark` Á±ªÔºåËøô‰∏™Á±ªÂÆûÁé∞‰∫Ü `F2` ÂáΩÊï∞ÁöÑÂ∞ÅË£ÖÔºåÁî®‰∫éÂ∞ÜÂ§ö‰∏™ `F2` ÂáΩÊï∞ÁªÑÂêàÊàê‰∏Ä‰∏™ `F2` ÂáΩÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ `PlatformBatch` ÂØπË±°„ÄÇ


```
function _Platform_batch(list)
{
	return {
		$: 2,
		m: list
	};
}


var _Platform_map = F2(function(tagger, bag)
{
	return {
		$: 3,
		n: tagger,
		o: bag
	}
});



```

ËøôÊÆµ‰ª£Á†ÅÁöÑ‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™ÁÆ°ÈÅìÔºàPIPEÔºâÊïàÊûúÂàóË°®ÔºåÂ∞ÜÂ§ö‰∏™ÁªìÊûúÊïàÊûúÔºàFX_1ÂíåFX_2ÔºâÊîæÂÖ•ÁÆ°ÈÅì‰∏≠„ÄÇËøô‰∏™ÁÆ°ÈÅìÊòØ‰∏∫‰∫ÜÂêåÊ≠•Âú∞Â§ÑÁêÜÂ§ö‰∏™ÁªìÊûúÔºå‰ª•‰æøÂú®Â§ö‰∏™ËÆ¢ÈòÖËÄÖ‰∏≠ÊåâÈ°∫Â∫èÂèëÂ∏ÉÁªìÊûú„ÄÇÂΩìË∞ÉÁî®Ê≠§‰ª£Á†ÅÊó∂ÔºåÂÆÉÂ∞ÜÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´FX_1ÂíåFX_2ÁöÑÁÆ°ÈÅì„ÄÇÂú®ÁÆ°ÈÅì‰∏≠ÔºåÁªìÊûúÂ∞ÜÈÄöËøáÂºÇÊ≠•ÁºñÁ®ãÊúçÂä°Âô®Ôºà‰æãÂ¶Çc#.exeÔºâ‰ª•ÈùûÂêåÊ≠•ÊñπÂºèÂèëÂ∏ÉÔºåËøôÊÑèÂë≥ÁùÄ‰ª£Á†ÅÂú®ÂÆåÊàêÊó∂‰∏ç‰ºöÈòªÂ°ûË∞ÉÁî®ÂÆÉÁöÑ‰∫∫„ÄÇ

ËØ•‰ª£Á†ÅÁöÑÁõÆÁöÑÊòØËÆ©Áî®Êà∑Âú®ÂàùÂßãÂåñ‰∏≠ÂåÖÂê´‰∏Ä‰∏™ÂºÇÊ≠•Êìç‰ΩúÔºå‰æãÂ¶ÇTime.nowÊàñTime.here„ÄÇÂΩìÊ≠§ÂºÇÊ≠•Êìç‰ΩúÂÆåÊàêÊó∂ÔºåÂÆÉÂ∞ÜÁîü‰∫ß‰∏ÄÁªÑFX_1ÁªìÊûúÔºåÂπ∂Âú®Áîü‰∫ßËøô‰∫õÁªìÊûúÁöÑÂêåÊó∂ÂºÇÊ≠•Âú∞Ë∞ÉÁî®updateÂáΩÊï∞„ÄÇÂõ†Ê≠§ÔºåÂ¶ÇÊûúÂú®Ëøô‰∏™ÂºÇÊ≠•Êìç‰Ωú‰πãÂâçÔºåÁî®Êà∑ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂåÖÂê´FX_2ÁöÑËÆ¢ÈòÖËÄÖÔºåÈÇ£‰πàÂú®ÂºÇÊ≠•Êìç‰ΩúÂÆåÊàêÂêéÔºåÁî®Êà∑ÂèØ‰ª•ÂºÄÂßãÂ§ÑÁêÜFX_2ÁöÑÁªìÊûú„ÄÇ

ÁÑ∂ËÄåÔºåËØ•‰ª£Á†ÅÂ≠òÂú®‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂç≥Â¶ÇÊûúÂú®FX_2‰πãÂâçÊú™Ê≠£Á°ÆÂú∞ÂàõÂª∫‰∫ÜÁÆ°ÈÅìÔºåÂàôÂèØËÉΩ‰ºöÂØºËá¥‰∏Ä‰∫õÊä•Âëä„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÂª∫ËÆÆÂú®ÂàõÂª∫ÁÆ°ÈÅì‰πãÂâçÂÖàË∞ÉÁî®Make surePipelineÔºåÁÑ∂ÂêéÂÜçË∞ÉÁî®Ê≠§‰ª£Á†Å„ÄÇ


```
// PIPE BAGS INTO EFFECT MANAGERS
//
// Effects must be queued!
//
// Say your init contains a synchronous command, like Time.now or Time.here
//
//   - This will produce a batch of effects (FX_1)
//   - The synchronous task triggers the subsequent `update` call
//   - This will produce a batch of effects (FX_2)
//
// If we just start dispatching FX_2, subscriptions from FX_2 can be processed
// before subscriptions from FX_1. No good! Earlier versions of this code had
// this problem, leading to these reports:
//
//   https://github.com/elm/core/issues/980
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_effectsQueue` ÁöÑÂÖ®Â±ÄÂèòÈáèÔºåÂÖ∂‰ΩúÁî®ÊòØÈÅøÂÖçÂú®ÂºÇÊ≠•ÂëΩ‰ª§‰∏≠Âá∫Áé∞ÊéíÂ∫èÈóÆÈ¢ò„ÄÇ

ËØ•‰ª£Á†ÅÁöÑÁõÆÁöÑÊòØÁ°Æ‰øùÂú®ÂêåÊ≠•ÂëΩ‰ª§‰∏≠ÔºåÁî±‰∫éÂëΩ‰ª§ÊâßË°åÁöÑÂÖàÂêéÈ°∫Â∫èÂèØËÉΩ‰ºöÂØºËá¥Êüê‰∫õÂºÇÊ≠•ÂëΩ‰ª§ÁöÑÂâØ‰ΩúÁî®Êú™Ë¢´Ê≠£Á°ÆÂ§ÑÁêÜÔºåËøõËÄåÂØºËá¥ÂëΩ‰ª§ÊâßË°åÂ§±Ë¥•Êàñ‰∫ßÁîüÂºÇÂ∏∏„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËØ•‰ª£Á†ÅÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÈòüÂàóÊï∞ÊçÆÁªìÊûÑÔºåÁî®‰∫éÂ≠òÂÇ®ÂΩìÂâçÊ≠£Âú®ÊâßË°åÁöÑÂºÇÊ≠•ÂëΩ‰ª§„ÄÇÁî±‰∫éÂºÇÊ≠•ÂëΩ‰ª§ÂèØËÉΩ‰ºöÂêåÊó∂ÂèëÈÄÅÁªôÂ§ö‰∏™ËøõÁ®ãÊàñÁ∫øÁ®ãÔºåÂõ†Ê≠§ÈúÄË¶Å‰∏Ä‰∏™ÈòüÂàóÊù•Á°Æ‰øùËøô‰∫õÂëΩ‰ª§ÊåâÁÖßÊ≠£Á°ÆÁöÑÈ°∫Â∫èË¢´Ê≠£Á°ÆÂ§ÑÁêÜ„ÄÇ

Âú®ËØ•‰ª£Á†Å‰∏≠ÔºåÁâπÂà´Âº∫Ë∞É‰∫Ü‰ΩøÁî® `true` ËÄå‰∏çÊòØ `false` ÁöÑÁêÜÁî±ÔºåËøôÊòØÂõ†‰∏∫Âç≥‰ΩøÂè™Êúâ 1 ‰∏™ÂÖÉÁ¥†‰Ωç‰∫éÈòüÂàóÁöÑÊú´Â∞æÔºå‰ªçÁÑ∂Ë°®ÊòéÂΩìÂâçÊ≠£Âú®ÊâßË°åÂëΩ‰ª§„ÄÇÂ¶ÇÊûú‰ΩøÁî® `false`ÔºåÂàôÂèØËÉΩÊó†Ê≥ïÊ£ÄÊµãÂà∞ËøôÁßçÊÉÖÂÜµÔºå‰ªéËÄåÂØºËá¥‰∫ßÁîüÂºÇÂ∏∏ÊàñÂëΩ‰ª§Â§±Ë¥•„ÄÇ

ËØ•‰ª£Á†ÅËøòÊåáÂá∫ÔºåÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÁî±‰∫éÂëΩ‰ª§ÊâßË°åÈ°∫Â∫èÁöÑÂ§çÊùÇÊÄßÔºåÂèØËÉΩ‰ºöÂá∫Áé∞Êï∞ÊçÆÁ´û‰∫âÁöÑÊÉÖÂÜµÔºåÂõ†Ê≠§ÈúÄË¶ÅÁâπÂà´Ê≥®ÊÑèÈò≤Ê≠¢ËøôÁßçÊÉÖÂÜµ‰∏ãÈòüÂàóÊ∫¢Âá∫„ÄÇ


```
//   https://github.com/elm/core/pull/981
//   https://github.com/elm/compiler/issues/1776
//
// The queue is necessary to avoid ordering issues for synchronous commands.


// Why use true/false here? Why not just check the length of the queue?
// The goal is to detect "are we currently dispatching effects?" If we
// are, we need to bail and let the ongoing while loop handle things.
//
// Now say the queue has 1 element. When we dequeue the final element,
// the queue will be empty, but we are still actively dispatching effects.
// So you could get queue jumping in a really tricky category of cases.
//
var _Platform_effectsQueue = [];
```

ËØ•‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_effectsActive` ÁöÑÂ∏ÉÂ∞îÂèòÈáèÔºåÂÖ∂ÂàùÂßãÂÄº‰∏∫ `false`„ÄÇËøô‰∏™ÂèòÈáèÁöÑ‰ΩúÁî®ÊòØÈòªÊ≠¢‰∏Ä‰∏™Âêç‰∏∫ `_Platform_effectsQueue` ÁöÑÊï∞ÁªÑÁöÑÂàùÂßãÂåñ„ÄÇËøô‰∏™Êï∞ÁªÑÁî®‰∫éÂ≠òÂÇ® `managers`„ÄÅ`cmdBag` Âíå `subBag` ‰∏â‰∏™ÂèÇÊï∞ÔºåÂàÜÂà´‰º†ÈÄíÁªô `_Platform_dispatchEffects` ÂáΩÊï∞ÔºåÁî®‰∫éÂêëÂπ≥Âè∞Êèê‰∫§ÊïàÂ∫î„ÄÇ

Êé•ÁùÄÔºåËØ•‰ª£Á†ÅÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_enqueueEffects` ÁöÑÂáΩÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Êî∂‰∏â‰∏™ÂèÇÊï∞Ôºö`managers`„ÄÅ`cmdBag` Âíå `subBag`„ÄÇÂÆÉÂ∞ÜËøô‰∫õÂèÇÊï∞Ê∑ªÂä†Âà∞Âêç‰∏∫ `_Platform_effectsQueue` ÁöÑÊï∞ÁªÑ‰∏≠ÔºåÂπ∂Âà§Êñ≠Êï∞ÁªÑÊòØÂê¶‰∏∫Á©∫„ÄÇÂ¶ÇÊûú‰∏∫Á©∫ÔºåÂàôÊâßË°åËØ•ÂáΩÊï∞‰ª£Á†Å‰∏≠ÁöÑ `_Platform_dispatchEffects` ÂáΩÊï∞ÔºåÂπ∂Â∞Ü `_Platform_effectsQueue` Êï∞ÁªÑÈáçÊñ∞ËµãÂÄº‰∏∫ `true`„ÄÇÂ¶ÇÊûúÊï∞ÁªÑ‰∏ç‰∏∫Á©∫ÔºåÂàôÈÅçÂéÜÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜÂåÖÂê´Âú®ÊØè‰∏™ÂÖÉÁ¥†‰∏≠ÁöÑ `_Platform_dispatchEffects` ÂáΩÊï∞ÁöÑ‰∏â‰∏™ÂèÇÊï∞‰º†ÂÖ•„ÄÇÊúÄÂêéÔºåÂ∞Ü `_Platform_effectsActive` ÂèòÈáèËÆæÁΩÆ‰∏∫ `true`Ôºå‰ª•ÊåáÁ§∫Êï∞ÁªÑÂ∑≤Êª°ÔºåÂπ∂Èò≤Ê≠¢ÂÜçÊ¨°ÂêëÊï∞ÁªÑÊ∑ªÂä†ÂÖÉÁ¥†„ÄÇ

Áî±‰∫é `_Platform_effectsActive` ÁöÑÂÄºÂú®ÂáΩÊï∞ÂÜÖÈÉ®Ë¢´‰∏çÊñ≠ÊîπÂèòÔºåÊúÄÁªà‰ΩøÂæóËØ•ÂáΩÊï∞ÂèØ‰ª•Èò≤Ê≠¢ `_Platform_effectsQueue` Êï∞Â±ÄÁöÑÂàõÂª∫Ôºå‰øùËØÅ‰∫ÜÂáΩÊï∞ÁöÑÂÆâÂÖ®ÊÄßÂíåÂèØÈù†ÊÄß„ÄÇ


```
var _Platform_effectsActive = false;


function _Platform_enqueueEffects(managers, cmdBag, subBag)
{
	_Platform_effectsQueue.push({ p: managers, q: cmdBag, r: subBag });

	if (_Platform_effectsActive) return;

	_Platform_effectsActive = true;
	for (var fx; fx = _Platform_effectsQueue.shift(); )
	{
		_Platform_dispatchEffects(fx.p, fx.q, fx.r);
	}
	_Platform_effectsActive = false;
}


```



ËØ•ÂáΩÊï∞ÊòØÂú®Êìç‰ΩúÁ≥ªÁªü‰∏≠Â§ÑÁêÜÂºÇÊ≠•Êìç‰ΩúÊó∂‰ΩøÁî®ÁöÑÔºå‰ΩúÁî®ÊòØÂ∞ÜÁ¨¨‰∏âÊñπÁÆ°ÁêÜÂô®(Â¶Ç libcourier)ÂèëÈÄÅÁöÑÂºÇÊ≠•ËØ∑Ê±ÇÁªìÊûú‰º†ÈÄíÁªôË∞ÉÂ∫¶Âô®(Â¶Ç Sys/SystemCore/Scheduler)ÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âú® `effectsDict` ‰∏≠„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËØ•ÂáΩÊï∞Êé•Êî∂‰∏â‰∏™ÂèÇÊï∞Ôºö

- `managers`Ôºö‰∏Ä‰∏™ÂåÖÂê´Â§ö‰∏™ÂØπË±°ÁöÑÊï∞ÁªÑÔºåÊØè‰∏™ÂØπË±°ÈÉΩÊòØ‰∏Ä‰∏™Á¨¨‰∏âÊñπÁÆ°ÁêÜÂô®(Â¶Ç libcourier)ÁöÑÂÆû‰æã„ÄÇ
- `cmdBag`Ôºö‰∏Ä‰∏™ÂåÖÂê´‰∏Ä‰∫õÂëΩ‰ª§ÁöÑÊï∞ÁªÑ„ÄÇ
- `subBag`Ôºö‰∏Ä‰∏™ÂåÖÂê´‰∏Ä‰∫õÂ≠êÂëΩ‰ª§ÁöÑÊï∞ÁªÑ„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®ÂÖàË∞ÉÁî® `_Platform_gatherEffects` ÂáΩÊï∞ÔºåËé∑ÂèñÊâÄÊúâÂºÇÊ≠•ËØ∑Ê±ÇÁöÑÁªìÊûúÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂Â≠òÂÇ®Âú® `effectsDict` ‰∏≠„ÄÇÊé•ÁùÄÔºåÂáΩÊï∞ÂÜÖÈÉ®Âæ™ÁéØÈÅçÂéÜ `managers` Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÁÆ°ÁêÜÂô®ÂÆû‰æãÔºåÂπ∂Ë∞ÉÁî®ÂÖ∂ `_Scheduler_rawSend` ÂáΩÊï∞Â∞ÜÁªìÊûúÂèëÈÄÅÁªôË∞ÉÂ∫¶Âô®„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî® `_List_Nil` ÂàùÂßãÂåñÂàóË°®ÔºåÂõ†Ê≠§Âú®ÂèëÈÄÅÊØè‰∏™ÂºÇÊ≠•ËØ∑Ê±ÇÁöÑÁªìÊûúÊó∂ÔºåÂ¶ÇÊûú `effectsDict` ‰∏≠‰∏çÂ≠òÂú®ËØ•ÁÆ°ÁêÜÂô®ÂÆû‰æãÂØπÂ∫îÁöÑËØ∑Ê±ÇÔºåÂ∞ÜÁõ¥Êé•ËøîÂõû `_List_Nil`„ÄÇ


```
function _Platform_dispatchEffects(managers, cmdBag, subBag)
{
	var effectsDict = {};
	_Platform_gatherEffects(true, cmdBag, effectsDict, null);
	_Platform_gatherEffects(false, subBag, effectsDict, null);

	for (var home in managers)
	{
		_Scheduler_rawSend(managers[home], {
			$: 'fx',
			a: effectsDict[home] || { i: _List_Nil, j: _List_Nil }
		});
	}
}


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_gatherEffects` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•ÂèóÂõõ‰∏™ÂèÇÊï∞Ôºö

- `isCmd`: ‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫ÊòØÂê¶ÊòØÂëΩ‰ª§Ë°åÊìç‰Ωú„ÄÇ
- `bag`: ‰∏Ä‰∏™ÂåÖÂê´‰∏çÂêåÈîÆÂÄºÂØπÁöÑÂåøÂêçÂØπË±°„ÄÇ
- `effectsDict`: ‰∏Ä‰∏™Â≠óÂÖ∏ÔºåÁî®‰∫éÂ≠òÂÇ®Â∑≤ÁªèÊèíÂÖ•Âà∞ `effectsDict` ‰∏≠ÁöÑÊïàÊûú„ÄÇ
- `taggers`: ‰∏Ä‰∏™ÂåÖÂê´‰∏çÂêåÈîÆÂÄºÂØπÁöÑÂåøÂêçÂØπË±°„ÄÇ

ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÔºåÊ†πÊçÆ‰º†ÂÖ•ÁöÑ `isCmd`„ÄÅ`bag` Âíå `taggers` ÂèÇÊï∞ÔºåÂ∞Ü `effectsDict` Âíå `taggers` ‰∏≠ÁöÑÂÜÖÂÆπËøõË°åËÅöÂêàÔºåÂπ∂ÊèíÂÖ•Âà∞ `effectsDict` ‰∏≠„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂáΩÊï∞‰ºöÊ†πÊçÆ `isCmd` ÁöÑÂÄºÔºåÊù•ÂÜ≥ÂÆöÊòØÊâßË°å `effectsDict` ‰∏≠ÁöÑÁ¨¨‰∏ÄÊù°„ÄÅÁ¨¨‰∫åÊù°ËøòÊòØÁ¨¨‰∏âÊù°ËßÑÂàô„ÄÇÂ¶ÇÊûú `isCmd` ÁöÑÂÄº‰∏∫ 1ÔºåÂàôË°®Á§∫Ë¶ÅÊâßË°åÂëΩ‰ª§Ë°åÊìç‰ΩúÔºåÂáΩÊï∞‰ºöÊâßË°åÁ¨¨‰∫åÊù°ËßÑÂàôÔºåÂç≥ÈÅçÂéÜ `bag.m` Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜÊØè‰∏™ÂÖÉÁ¥†ÊâßË°å `_Platform_gatherEffects` ÂáΩÊï∞„ÄÇÂ¶ÇÊûú `isCmd` ÁöÑÂÄº‰∏∫ 2ÔºåÂàôË°®Á§∫Ë¶ÅÊâßË°åÂëΩ‰ª§Ë°åÊìç‰ΩúÔºåÂπ∂ÈÅçÂéÜ `bag.m` Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†„ÄÇÂ¶ÇÊûú `isCmd` ÁöÑÂÄº‰∏∫ 3ÔºåÂàôË°®Á§∫Ë¶ÅÊâßË°åÂëΩ‰ª§Ë°åÊìç‰ΩúÔºåÂπ∂ÊèíÂÖ•Âà∞ `effectsDict` ‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÈîÆÔºåÂç≥ÊèíÂÖ•Âà∞ `effectsDict` ÁöÑÁ¨¨‰∏ÄÊù°„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®‰∫Ü `_Platform_toEffect` Âíå `_Platform_insert` ÂáΩÊï∞ÔºåÂàÜÂà´Áî®‰∫éÂ∞Ü‰º†ÂÖ•ÁöÑÂèÇÊï∞ËΩ¨Êç¢‰∏∫ÊúâÊïàÁöÑÊïàÊûúÂêçÁß∞ÔºåÂπ∂ÊèíÂÖ•Âà∞ `effectsDict` ‰∏≠„ÄÇ


```
function _Platform_gatherEffects(isCmd, bag, effectsDict, taggers)
{
	switch (bag.$)
	{
		case 1:
			var home = bag.k;
			var effect = _Platform_toEffect(isCmd, home, taggers, bag.l);
			effectsDict[home] = _Platform_insert(isCmd, effect, effectsDict[home]);
			return;

		case 2:
			for (var list = bag.m; list.b; list = list.b) // WHILE_CONS
			{
				_Platform_gatherEffects(isCmd, list.a, effectsDict, taggers);
			}
			return;

		case 3:
			_Platform_gatherEffects(isCmd, bag.o, effectsDict, {
				s: bag.n,
				t: taggers
			});
			return;
	}
}


```

Ê≠§‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_toEffect` ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éÂ∞ÜÂèÇÊï∞ `value` Â∫îÁî®Âà∞ÊåáÂÆöÁöÑÊ†áÁ≠æÂô®(tagger)‰∏ä„ÄÇ

ÂáΩÊï∞È¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `applyTaggers` ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éÂ∞ÜÂèÇÊï∞ `x` Â∫îÁî®Âà∞ÁªôÂÆöÁöÑÊ†áÁ≠æÂô®‰∏ä„ÄÇÊé•ÁùÄÔºåÂáΩÊï∞ÈÅçÂéÜÁªôÂÆöÁöÑÊ†áÁ≠æÂô®Â∫èÂàóÔºåÂ∞ÜÊØè‰∏™Ê†áÁ≠æÂô®Â∫îÁî®Âà∞ `x` ‰∏äÔºåÂπ∂ËøîÂõû‰øÆÊîπÂêéÁöÑ `x`„ÄÇ

ÂáΩÊï∞Êé•‰∏ãÊù•ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `map` ÁöÑÂèòÈáèÔºåÁî®‰∫éÂ≠òÂÇ®Ë¶ÅÂ∫îÁî®‰∫é `value` ÁöÑÊ†áÁ≠æÂô®„ÄÇÂÆÉÈÄöËøáÊ£ÄÊü•ÂèÇÊï∞ `isCmd` Êù•ÂÜ≥ÂÆöË¶Å‰ΩøÁî® `_Platform_effectManagers` ‰∏≠ÁöÑ `e` ÂáΩÊï∞ËøòÊòØ `f` ÂáΩÊï∞„ÄÇÂ¶ÇÊûú `isCmd` ‰∏∫ `true`ÔºåÂàôÂáΩÊï∞Â∞ÜËøîÂõû `map` ÊâÄÊåáÂêëÁöÑÊ†áÁ≠æÂô®ÁöÑ `e` ÂáΩÊï∞ÔºåÂê¶ÂàôÂ∞ÜËøîÂõû `map` ÊâÄÊåáÂêëÁöÑÊ†áÁ≠æÂô®ÁöÑ `f` ÂáΩÊï∞„ÄÇ

ÊúÄÂêéÔºåÂáΩÊï∞‰ΩøÁî®ÁªôÂÆöÁöÑÊ†áÁ≠æÂô® `map` Âíå `applyTaggers` Â∞Ü `value` Â∫îÁî®Âà∞ÊØè‰∏™Ê†áÁ≠æÂô®‰∏äÔºåÂπ∂ËøîÂõû‰øÆÊîπÂêéÁöÑÁªìÊûú„ÄÇ


```
function _Platform_toEffect(isCmd, home, taggers, value)
{
	function applyTaggers(x)
	{
		for (var temp = taggers; temp; temp = temp.t)
		{
			x = temp.s(x);
		}
		return x;
	}

	var map = isCmd
		? _Platform_effectManagers[home].e
		: _Platform_effectManagers[home].f;

	return A2(map, applyTaggers, value)
}


```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåË¢´Áß∞‰∏∫ `_Platform_insert`ÔºåÂÖ∂‰ΩúÁî®ÊòØÂ∞Ü‰º†ÂÖ•ÁöÑ `isCmd`„ÄÅ`newEffect` Âíå `effects` ÂèÇÊï∞ÂàÜÂà´Â§ÑÁêÜÔºåÊúÄÁªàËøîÂõûÂ§ÑÁêÜÂêéÁöÑÁªìÊûú„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøôÊÆµ‰ª£Á†ÅÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö

1. Â¶ÇÊûú `isCmd` ‰∏∫ `true`ÔºåÂàôÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

		1. Â∞Ü `newEffect` Ê∑ªÂä†Âà∞ `effects` ÁöÑ `i` ÂàóË°®‰∏≠„ÄÇ
		2. Â¶ÇÊûú `effects.i` ÂàóË°®‰∏≠Â∑≤ÊúâÂÖÉÁ¥†ÔºåÂàôÂ∞ÜÊñ∞ÁöÑÂÖÉÁ¥†Ê∑ªÂä†Âà∞ÂàóË°®ÁöÑÊú´Â∞æ„ÄÇ
		3. ËøîÂõû `effects`„ÄÇ
		
		Â¶ÇÊûú `isCmd` ‰∏∫ `false`ÔºåÂàôÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

		1. Â∞Ü `newEffect` Ê∑ªÂä†Âà∞ `effects` ÁöÑ `j` ÂàóË°®‰∏≠„ÄÇ
		2. Â¶ÇÊûú `effects.j` ÂàóË°®‰∏≠Â∑≤ÊúâÂÖÉÁ¥†ÔºåÂàôÂ∞ÜÊñ∞ÁöÑÂÖÉÁ¥†Ê∑ªÂä†Âà∞ÂàóË°®ÁöÑÊú´Â∞æ„ÄÇ
		3. ËøîÂõû `effects`„ÄÇ

`_Platform_insert` ÂáΩÊï∞Êé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºö

	* `isCmd`ÔºöÂ¶ÇÊûúÂΩìÂâçÊòØÂëΩ‰ª§Ë°åËæìÂÖ•ÔºåÂàô `isCmd` ‰∏∫ `true`„ÄÇ
	* `newEffect`ÔºöÂ¶ÇÊûúÈúÄË¶ÅÊâßË°åÊñ∞ÁöÑÂºÇÊ≠•Êìç‰ΩúÔºåÂàô `newEffect` ÊòØ‰∏Ä‰∏™ÂåÖÂê´Êìç‰ΩúÁöÑÂèÇÊï∞„ÄÇ
	* `effects`Ôºö‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™ÂàóË°®ÁöÑÂèÇÊï∞ÔºåÂÖ∂‰∏≠Á¨¨‰∏Ä‰∏™ÂàóË°®Áî®‰∫éÂ≠òÂÇ® `isCmd` ÁöÑÂÄºÔºåÁ¨¨‰∫å‰∏™ÂàóË°®Áî®‰∫éÂ≠òÂÇ®ÂΩìÂâçÁöÑÂºÇÊ≠•Êìç‰ΩúÂàóË°®„ÄÇ

ÂáΩÊï∞ÁöÑËøîÂõûÂÄºÊòØÁªèËøáÂ§ÑÁêÜÁöÑ `effects`ÔºåÊó†ËÆ∫ `isCmd` ÊòØÂê¶‰∏∫ `true`„ÄÇ


```
function _Platform_insert(isCmd, newEffect, effects)
{
	effects = effects || { i: _List_Nil, j: _List_Nil };

	isCmd
		? (effects.i = _List_Cons(newEffect, effects.i))
		: (effects.j = _List_Cons(newEffect, effects.j));

	return effects;
}



// PORTS


```



ËØ•‰ª£Á†ÅÊòØ‰∏Ä‰∏™Âêç‰∏∫ `_Platform_checkPortName` ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éÂØπ‰º†ÂÖ•ÁöÑÁ´ØÂè£Âè∑ `name` ËøõË°åÂ§ÑÁêÜ„ÄÇÂáΩÊï∞ÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö

1. Â¶ÇÊûúÂ∑≤Â≠òÂú®Âêç‰∏∫ `name` ÁöÑÁ´ØÂè£ÔºåÂàôÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö
  
   - ËæìÂá∫‰∏ÄÊù°Ë∞ÉËØï‰ø°ÊÅØÔºå‰ª•‰æøÂú®Á®ãÂ∫èË∞ÉËØïÊó∂Âá∫ÈîôÊó∂ËÉΩÂ§üÊñπ‰æøÂú∞ÂÆö‰ΩçÈóÆÈ¢ò„ÄÇË∞ÉËØï‰ø°ÊÅØÁ±ª‰ºº‰∫é `Crash: Name=<name>` ËøôÊ†∑ÁöÑÊ†ºÂºèÔºåÂÖ∂‰∏≠ `<name>` ÊòØÂèëÁîüÈîôËØØÊó∂ÁöÑÁ´ØÂè£Âè∑„ÄÇ

2. Â¶ÇÊûúÊú™ÊèêÂèäÁ´ØÂè£Âè∑ `name`ÔºåÂàôÊåâÁÖßÂÆö‰πâÁöÑËßÑÂàôÂ∞ÜÂÖ∂Êò†Â∞Ñ‰∏∫ outgoing port„ÄÇÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ÊåáÂêëËØ•Á´ØÂè£ÁöÑÊåáÈíà„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∏ÆÂä©ÂºÄÂèëËÄÖÂ§ÑÁêÜ‰∏çÂêåÁ´ØÂè£ÁöÑÈÄªËæëÔºå‰Ωø‰ª£Á†ÅÂú®‰∏çÂêåÂπ≥Âè∞ÂíåËÆæÂ§á‰∏äÂÖ∑ÊúâÊõ¥Â•ΩÁöÑÂèØËØªÊÄßÂíåÂèØÁª¥Êä§ÊÄß„ÄÇ


```
function _Platform_checkPortName(name)
{
	if (_Platform_effectManagers[name])
	{
		_Debug_crash(3, name)
	}
}



// OUTGOING PORTS


function _Platform_outgoingPort(name, converter)
{
	_Platform_checkPortName(name);
	_Platform_effectManagers[name] = {
		e: _Platform_outgoingPortMap,
		u: converter,
		a: _Platform_setupOutgoingPort
	};
	return _Platform_leaf(name);
}


```

ËØ•‰ª£Á†ÅÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂÆÉÂÆûÁé∞‰∫ÜÂêç‰∏∫ `_Platform_setupOutgoingPort` ÁöÑÂáΩÊï∞„ÄÇËØ•ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `name`ÔºåÁî®‰∫éÊåáÂÆö‰∏Ä‰∏™ÁÆ°ÈÅìÊúçÂä°Âô®ÁöÑÂêçÁß∞„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®È¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂèòÈáè `subs`ÔºåÂÆÉÁî®‰∫éÂ≠òÂÇ®ËÆ¢ÈòÖËÄÖÁöÑÂàóË°®„ÄÇÁÑ∂ÂêéÔºåÂÆÉÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂèòÈáè `converter`ÔºåËØ•ÂèòÈáèÂ≠òÂÇ®‰∫Ü‰∏Ä‰∏™ÁÆ°ÈÅìÊúçÂä°Âô® `name` ÂØπÂ∫îÁöÑÊéßÂà∂Âô® `u` ÊâÄÂÆûÁé∞ÁöÑÂáΩÊï∞„ÄÇ

Êé•‰∏ãÊù•ÔºåÂáΩÊï∞ÂÆûÁé∞‰∫Ü‰∏§‰∏™‰∏ªË¶ÅÁöÑÊìç‰ΩúÔºö`subscribe` Âíå `unsubscribe`„ÄÇËøô‰∏§‰∏™Êìç‰ΩúÂàÜÂà´Áî®‰∫éÂ∞ÜÁÆ°ÈÅìÊúçÂä°Âô®‰∏≠ÁöÑÊ∂àÊÅØ‰º†ÈÄíÁªôËÆ¢ÈòÖËÄÖÂíå‰ªéËÆ¢ÈòÖËÄÖ‰∏≠ÁßªÈô§Ê∂àÊÅØ„ÄÇ

`subscribe` Êìç‰ΩúÊé•Êî∂‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ `callback`ÔºåÁî®‰∫éÂ∞ÜÊ∂àÊÅØ‰º†ÈÄíÁªôËÆ¢ÈòÖËÄÖ„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåËØ•Êìç‰Ωú‰ºöÂ∞Ü `callback` Â≠òÂÇ®Âú® `subs` Êï∞ÁªÑÁöÑÊú´Â∞æÔºåÁÑ∂ÂêéÂ∞ùËØï‰ªé `subs` Êï∞ÁªÑ‰∏≠Êü•ÊâæÂåÖÂê´ `callback` ÁöÑÁ¥¢Âºï„ÄÇÂ¶ÇÊûúÊâæÂà∞Á¥¢ÂºïÔºåÂàôÂ∞ÜÂÖ∂‰ªé `subs` Êï∞ÁªÑ‰∏≠Âà†Èô§„ÄÇ

`unsubscribe` Êìç‰ΩúÊé•Êî∂‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞ `callback`ÔºåÁî®‰∫éÂú®ËÆ¢ÈòÖËÄÖ‰∏≠ÂèñÊ∂àËÆ¢ÈòÖ„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåËØ•Êìç‰Ωú‰ºöËé∑ÂèñËÆ¢ÈòÖËÄÖÂàóË°®‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºàÂç≥ `callback` ÊâÄÂú®ÁöÑÁ¥¢ÂºïÔºâÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂‰ªéËÆ¢ÈòÖËÄÖÂàóË°®‰∏≠Âà†Èô§„ÄÇ

ÊúÄÂêéÔºåÂáΩÊï∞ÊåáÂÆö‰∫Ü `_Platform_setupOutgoingPort` ÁöÑÂêçÁß∞ÔºåËØ•ÂáΩÊï∞ÂÆûÁé∞‰∫ÜÁÆ°ÈÅìÊúçÂä°Âô®Áî®‰∫éÂ∞ÜÊ∂àÊÅØ‰º†ÈÄíÁªôËÆ¢ÈòÖËÄÖ„ÄÇ


```
var _Platform_outgoingPortMap = F2(function(tagger, value) { return value; });


function _Platform_setupOutgoingPort(name)
{
	var subs = [];
	var converter = _Platform_effectManagers[name].u;

	// CREATE MANAGER

	var init = _Process_sleep(0);

	_Platform_effectManagers[name].b = init;
	_Platform_effectManagers[name].c = F3(function(router, cmdList, state)
	{
		for ( ; cmdList.b; cmdList = cmdList.b) // WHILE_CONS
		{
			// grab a separate reference to subs in case unsubscribe is called
			var currentSubs = subs;
			var value = _Json_unwrap(converter(cmdList.a));
			for (var i = 0; i < currentSubs.length; i++)
			{
				currentSubs[i](value);
			}
		}
		return init;
	});

	// PUBLIC API

	function subscribe(callback)
	{
		subs.push(callback);
	}

	function unsubscribe(callback)
	{
		// copy subs into a new array in case unsubscribe is called within a
		// subscribed callback
		subs = subs.slice();
		var index = subs.indexOf(callback);
		if (index >= 0)
		{
			subs.splice(index, 1);
		}
	}

	return {
		subscribe: subscribe,
		unsubscribe: unsubscribe
	};
}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_incomingPort` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÊé•Êî∂‰∏Ä‰∏™‰º†ÂÖ•ÁöÑ `name` ÂèÇÊï∞Âíå‰∏Ä‰∏™Êé•Êî∂ converter ÁöÑ `converter` ÂèÇÊï∞„ÄÇ

ÂáΩÊï∞È¶ñÂÖà‰ΩøÁî® `_Platform_checkPortName` ÂáΩÊï∞Ê£ÄÊü•‰º†ÂÖ•ÁöÑ `name` ÊòØÂê¶ÂêàÊ≥ï„ÄÇÊé•‰∏ãÊù•ÔºåÂÆÉÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `f: _Platform_incomingPortMap` ÁöÑÂáΩÊï∞ÊåáÈíàÔºåËØ•ÂáΩÊï∞ÊåáÈíà‰ΩøÁî® `_Platform_incomingPortMap` ÂáΩÊï∞Â∞Ü `name` ÂØπÂ∫îÁöÑËæìÂÖ•Á´ØÂè£Êò†Â∞ÑÂà∞ÁªìÊûúÁ´ØÂè£„ÄÇÁÑ∂ÂêéÔºåÂÆÉÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `u: converter` ÁöÑÂáΩÊï∞ÊåáÈíàÔºåËØ•ÂáΩÊï∞ÊåáÈíàÂ∞ÜËæìÂÖ•ÁöÑ `converter` ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `_Platform_incomingPortMap` ÂáΩÊï∞ÔºåÁî®‰∫éÊò†Â∞ÑËæìÂÖ•Á´ØÂè£„ÄÇÊúÄÂêéÔºåÂÆÉ‰ΩøÁî® `_Platform_leaf` ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Á©∫Â≠óÁ¨¶‰∏≤ÔºåË°®Á§∫ËæìÂÖ•Á´ØÂè£‰∏∫Êó†ÊïàËæìÂÖ•„ÄÇ

ÂáΩÊï∞Êï¥‰ΩìÁöÑ‰ΩúÁî®ÊòØÂ§ÑÁêÜËæìÂÖ•Á´ØÂè£ÔºåÂ∞ÜÂÖ∂Êò†Â∞ÑÂà∞Áõ∏Â∫îÁöÑÁªìÊûúÁ´ØÂè£ÔºåÂπ∂ËøîÂõûÁªìÊûúÁ´ØÂè£ÂêçÁß∞„ÄÇ


```
// INCOMING PORTS


function _Platform_incomingPort(name, converter)
{
	_Platform_checkPortName(name);
	_Platform_effectManagers[name] = {
		f: _Platform_incomingPortMap,
		u: converter,
		a: _Platform_setupIncomingPort
	};
	return _Platform_leaf(name);
}


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_incomingPortMap` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÂ∞Ü‰º†ÂÖ•ÁöÑÂÄº‰º†ÈÄíÁªô‰∏Ä‰∏™Âêç‰∏∫ `finalTagger` ÁöÑÂáΩÊï∞ÔºåÁÑ∂ÂêéÂÜçÂ∞ÜËøîÂõûÁöÑÂÄºËøîÂõûÁªôË∞ÉÁî®ËÄÖ„ÄÇ

Êé•‰∏ãÊù•ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_setupIncomingPort` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÂàõÂª∫‰∏Ä‰∏™Êé•Êî∂ËÄÖÂàóË°®ÔºåÂπ∂Â∞Ü‰º†ÂÖ•ÁöÑÂêçÁß∞ÂíåË¶ÅÂèëÈÄÅÁªôÂ∫îÁî®Á®ãÂ∫èÁöÑÂÄº‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô‰∏Ä‰∏™Âêç‰∏∫ `converter` ÁöÑÂáΩÊï∞„ÄÇ

`converter` ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™Âêç‰∏∫ `router` ÁöÑÂèÇÊï∞Ôºå‰∏Ä‰∏™Âêç‰∏∫ `subList` ÁöÑÂèÇÊï∞Âíå‰∏Ä‰∏™Âêç‰∏∫ `state` ÁöÑÂèÇÊï∞„ÄÇÂáΩÊï∞ÁöÑËøîÂõûÂÄºÂ∞Ü‰Ωú‰∏∫ `send` ÂáΩÊï∞ÁöÑÂèÇÊï∞Ôºå Âπ∂‰∏î `send` ÂáΩÊï∞‰ºöÂÆûÁé∞Â∞Ü‰º†ÂÖ•ÁöÑÂÄºÂèëÈÄÅÂà∞Â∫îÁî®Á®ãÂ∫èÂπ∂Â∞ÜÁªìÊûúËøîÂõûÁªôË∞ÉÁî®ËÄÖÁöÑÈÄªËæë„ÄÇ

`send` ÂáΩÊï∞‰ºöËé∑Âèñ‰º†ÂÖ•ÁöÑÂÄºÔºå‰ΩøÁî® `converter` ÂáΩÊï∞Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫ JSON Ê†ºÂºèÔºåÁÑ∂Âêé‰ΩøÁî® `_Json_run` Âíå `_Json_wrap` ÂáΩÊï∞Â∞ÜÂÖ∂ÂåÖË£ÖÊàê `sendToApp` ÂáΩÊï∞ÂèØ‰ª•Â§ÑÁêÜÁöÑ JSON Ê†ºÂºèÔºåÊúÄÂêéÂ∞ÜÂÖ∂‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `_Debug_crash` ÂáΩÊï∞„ÄÇÂ¶ÇÊûú `sendToApp` ÂáΩÊï∞ËøîÂõûÁöÑÂÄº‰∏çÊòØÊúâÊïàÁöÑ JSONÔºåÂáΩÊï∞Â∞ÜÂ¥©Ê∫É„ÄÇ


```
var _Platform_incomingPortMap = F2(function(tagger, finalTagger)
{
	return function(value)
	{
		return tagger(finalTagger(value));
	};
});


function _Platform_setupIncomingPort(name, sendToApp)
{
	var subs = _List_Nil;
	var converter = _Platform_effectManagers[name].u;

	// CREATE MANAGER

	var init = _Scheduler_succeed(null);

	_Platform_effectManagers[name].b = init;
	_Platform_effectManagers[name].c = F3(function(router, subList, state)
	{
		subs = subList;
		return init;
	});

	// PUBLIC API

	function send(incomingValue)
	{
		var result = A2(_Json_run, converter, _Json_wrap(incomingValue));

		$elm$core$Result$isOk(result) || _Debug_crash(4, name, result.a);

		var value = result.a;
		for (var temp = subs; temp.b; temp = temp.b) // WHILE_CONS
		{
			sendToApp(temp.a(value));
		}
	}

	return { send: send };
}



```

ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏Ä‰∏™ TypeScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_Platform_export`ÔºåÂÆÉÂØºÂá∫‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `exports` ÁöÑÂèòÈáèÔºåÂπ∂ÂØπÂÖ∂ËøõË°å‰∫Ü‰ΩúÁî®„ÄÇ

ÂáΩÊï∞‰Ωì‰∏≠ÔºåÈ¶ñÂÖàÈÄöËøá `scope['Elm']` Ëé∑Âèñ‰∫Ü‰∏Ä‰∏™ Elasticsearch Â∫ìÁöÑÊ®°ÂùóÂØπË±°ÔºàmoduleÔºâÔºåÁÑ∂ÂêéÈÄöËøá `_Platform_mergeExportsProd` ÂáΩÊï∞Â∞ÜËøô‰∏™Ê®°ÂùóÂØπË±°ÁöÑ exports Â±ûÊÄßËÆæÁΩÆ‰∏∫ÂèòÈáè `exports` ÁöÑÂÄºÔºåÊúÄÂêéÂ∞Ü `scope['Elm']` Â±ûÊÄß‰πüËÆæÁΩÆ‰∏∫ `exports` ÁöÑÂÄº„ÄÇ

Êï¥‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÔºåÂú®Áîü‰∫ßÊ®°Âºè‰∏ã‰∏çÈúÄË¶ÅÊîØ‰ªò Elasticsearch Â∫ìÁöÑ‰ΩøÁî®Ë¥πÁî®ÔºåÂêåÊó∂Âú®Ë∞ÉËØïÊ®°Âºè‰∏ãÊèê‰æõÊõ¥Â•ΩÁöÑÈîôËØØÊèêÁ§∫„ÄÇ


```
// EXPORT ELM MODULES
//
// Have DEBUG and PROD versions so that we can (1) give nicer errors in
// debug mode and (2) not pay for the bits needed for that in prod mode.
//


function _Platform_export(exports)
{
	scope['Elm']
		? _Platform_mergeExportsProd(scope['Elm'], exports)
		: scope['Elm'] = exports;
}


```



ËØ•‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞ `_Platform_mergeExportsProd` Âíå `_Platform_export_UNUSED`ÔºåÁî®‰∫éÂú® Node.js ‰∏≠ÂêàÂπ∂Ê®°Âùó exports ÂØπË±°„ÄÇ

`_Platform_mergeExportsProd` ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö `obj` Âíå `exports`„ÄÇÂÆÉÈÅçÂéÜ `exports` ÂØπË±°ÔºåÂπ∂ÂØπ‰∫éÊØè‰∏™Â±ûÊÄßÂêçÔºåÂ∞ùËØï‰ªé `obj` ÂØπË±°‰∏≠Êü•ÊâæÁõ∏Â∫îÁöÑÂ±ûÊÄß„ÄÇÂ¶ÇÊûú‰∏§‰∏™ÂØπË±°‰∏≠ÈÉΩÂ≠òÂú®ËØ•Â±ûÊÄßÔºåÂπ∂‰∏îÂ±ûÊÄßÂêçÊòØ `'init'`ÔºåÂáΩÊï∞Â∞ÜËæìÂá∫ "CRASH: <https://elmy.io/ Crash report available>" Âπ∂ÈÄÄÂá∫ÂáΩÊï∞„ÄÇÂê¶ÂàôÔºåÂáΩÊï∞Â∞ÜÂú® `obj` ÂØπË±°‰∏äÊ∑ªÂä†ËØ•Â±ûÊÄßÔºåÂπ∂ÈÄíÂΩíÂú∞Ë∞ÉÁî®Ëá™Ë∫´„ÄÇ

`_Platform_export_UNUSED` ÂáΩÊï∞Áî®‰∫éÂ∞Ü `exports` ÂØπË±°‰∏≠ÁöÑÊâÄÊúâÂ±ûÊÄßËÆæÁΩÆ‰∏∫ `unused`„ÄÇÂÆÉ‰ºöÂú® `scope['Elm']` Â≠òÂú®Êó∂ÔºåÂ∞Ü `exports` ÂØπË±°‰∏≠ÁöÑÊâÄÊúâÂ±ûÊÄßÊ∑ªÂä†Âà∞ `scope['Elm']` ÂØπË±°‰∏≠„ÄÇÂ¶ÇÊûú `scope['Elm']` ‰∏çÂ≠òÂú®ÔºåÂáΩÊï∞Â∞ÜÂú®ÂÖ®Â±Ä‰ΩúÁî®Âüü‰∏≠Ê∑ªÂä† `exports` ÂØπË±°„ÄÇ

ÂáΩÊï∞ÁöÑË°å‰∏∫Ë°®ÊòéÔºå‰ªñ‰ª¨ÁöÑÁõÆÁöÑÊòØÂú® Node.js ‰∏≠ÂêàÂπ∂ `exports` ÂØπË±°Ôºå‰ª•ÈÅøÂÖçÂõ†Êú™ÂÆö‰πâÁöÑÂ±ûÊÄßËÄåÂºïËµ∑ÁöÑÈîôËØØ„ÄÇ


```
function _Platform_mergeExportsProd(obj, exports)
{
	for (var name in exports)
	{
		(name in obj)
			? (name == 'init')
				? _Debug_crash(6)
				: _Platform_mergeExportsProd(obj[name], exports[name])
			: (obj[name] = exports[name]);
	}
}


function _Platform_export_UNUSED(exports)
{
	scope['Elm']
		? _Platform_mergeExportsDebug('Elm', scope['Elm'], exports)
		: scope['Elm'] = exports;
}


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Platform_mergeExportsDebug` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÊé•Êî∂‰∏â‰∏™ÂèÇÊï∞Ôºö

1. `moduleName`ÔºöÂΩìÂâçÊ®°ÂùóÁöÑÂêçÁß∞ÔºåÈÄöÂ∏∏Áî± `_` ÂºÄÂßãÔºå‰æãÂ¶Ç `my_module`„ÄÇ
2. `obj`ÔºöË¶ÅÊ£ÄÊü•ÂíåÂêàÂπ∂ÁöÑÊ®°ÂùóÂØπË±°„ÄÇ
3. `exports`ÔºöË¶ÅÊ£ÄÊü•ÂíåÂêàÂπ∂ÁöÑÊ®°Âùó‰∏≠ÁöÑÂØºÂá∫ÂØπË±°„ÄÇ

ÂáΩÊï∞ÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØÈÅçÂéÜÂØºÂá∫ÂØπË±° `exports`ÔºåÂØπ‰∫éÊØè‰∏™ÂØºÂá∫ÂØπË±° `name`ÔºåÂÆÉ‰ºöÂà§Êñ≠‰ª•‰∏ã‰∏§ÁßçÊÉÖÂÜµ‰πã‰∏ÄÔºö

1. Â¶ÇÊûú `name` Âú®Ê®°ÂùóÂØπË±° `obj` ‰∏≠Â≠òÂú®ÔºåÂπ∂‰∏î `name` ÊòØ 'init'ÔºåÈÇ£‰πàÂáΩÊï∞‰ºöËæìÂá∫‰∏Ä‰∏™ÈîôËØØÊ∂àÊÅØÔºåÂπ∂ÊâìÂç∞Âá∫ `moduleName` ÂíåÈîôËØØÊ∂àÊÅØÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ
2. Â¶ÇÊûú `name` Âú®Ê®°ÂùóÂØπË±° `obj` ‰∏≠‰∏çÂ≠òÂú®ÔºåÊàñËÄÖ `name` ‰∏çÊòØ 'init'ÔºåÈÇ£‰πàÂáΩÊï∞‰ºöÂ∞ÜÂØºÂá∫ÂØπË±° `exports` ÂêàÂπ∂Âà∞Ê®°ÂùóÂØπË±° `obj` ‰∏≠ÔºåÂπ∂‰∏∫ÂØºÂá∫ÂØπË±° `name` ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂØºÂá∫ÂØπË±°„ÄÇ

ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂç≥‰ΩøÂØºÂá∫ÂØπË±° `name` Âú®Ê®°ÂùóÂØπË±° `obj` ‰∏≠‰∏çÂ≠òÂú®ÔºåÂáΩÊï∞‰πü‰ºöËá™Âä®ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂØºÂá∫ÂØπË±°ÔºåÂπ∂Â∞ÜÂÖ∂Ê∑ªÂä†Âà∞ `obj` ‰∏≠„ÄÇÂõ†Ê≠§ÔºåÂ¶ÇÊûúÂØºÂá∫ÂØπË±° `name` Âú®Ê®°Âùó‰∏≠Êú¨Êù•‰∏çÂ≠òÂú®ÔºåÈÇ£‰πàÂêàÂπ∂ÂêéÁöÑÊ®°Âùó‰∏≠Â∞±‰ºöÂá∫Áé∞Ëøô‰∏™ÂØºÂá∫ÂØπË±°„ÄÇ


```
function _Platform_mergeExportsDebug(moduleName, obj, exports)
{
	for (var name in exports)
	{
		(name in obj)
			? (name == 'init')
				? _Debug_crash(6, moduleName)
				: _Platform_mergeExportsDebug(moduleName + '.' + name, obj[name], exports[name])
			: (obj[name] = exports[name]);
	}
}




```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_` ÁöÑ JavaScript ÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂ∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÊõ¥Êñπ‰æøÂú∞Âú®ËôöÊãü DOM ‰∏≠Â∫îÁî®ÂíåÁÆ°ÁêÜ HTML ÂÖÉÁ¥†„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøôÊÆµ‰ª£Á†ÅÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_appendChild` ÁöÑÂáΩÊï∞ÔºåÂÆÉÂèØ‰ª•Êé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÊòØÁà∂ÂÖÉÁ¥†ÔºåÂè¶‰∏Ä‰∏™ÊòØÂ≠êÂÖÉÁ¥†„ÄÇÂáΩÊï∞È¶ñÂÖàÊ£ÄÊü•‰º†ÂÖ•ÁöÑÂèÇÊï∞ÊòØÂê¶‰∏∫ `document`ÔºåÂ¶ÇÊûúÊòØÔºåÂ∞±ÊâßË°åËØ•ÂÖ®Â±ÄÂØπË±°ÁöÑ `appendChild` ÊñπÊ≥ïÔºåÂê¶ÂàôÂ∞±ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ `document` ÂØπË±°„ÄÇÁÑ∂ÂêéÔºåÈÄöËøáË∞ÉÁî® `_VirtualDom_render` ÂáΩÊï∞ÔºåÂ∞ÜËôöÊãü DOM ËäÇÁÇπÊ∏≤ÊüìÂà∞Áà∂ÂÖÉÁ¥†‰∏äÔºåÂπ∂Â∞ÜÂ≠êÂÖÉÁ¥†Ê∑ªÂä†Âà∞Áà∂ÂÖÉÁ¥†‰∏≠„ÄÇÊúÄÂêéÔºåËøîÂõû‰∏Ä‰∏™Á©∫ÂØπË±°ÔºåË°®Á§∫Êìç‰ΩúÂÆåÊàê„ÄÇ

Âè¶Â§ñÔºå‰ª£Á†Å‰∏≠ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_init` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•ÂèóÂõõ‰∏™ÂèÇÊï∞ÔºöËôöÊãü DOM ËäÇÁÇπ„ÄÅÈúÄË¶ÅËß£Á†ÅÁöÑÊ†áËÆ∞„ÄÅË∞ÉËØïÂÖÉÊï∞ÊçÆÂíåÈ¢ùÂ§ñÁöÑÂèÇÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞ÂÜÖÈÉ®ÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºöÈ¶ñÂÖàÊ£ÄÊü• `_Platform_export` ÂáΩÊï∞ÊòØÂê¶ÂèØÁî®ÔºåÁÑ∂ÂêéÊâßË°å `_VirtualDom_appendChild` ÂáΩÊï∞ÔºåÂ∞ÜËôöÊãü DOM ËäÇÁÇπÊ∑ªÂä†Âà∞Áà∂ÂÖÉÁ¥†‰∏≠ÔºåÂπ∂Ë∞ÉÁî® `_VirtualDom_render` ÂáΩÊï∞Â∞ÜËôöÊãüËäÇÁÇπÊ∏≤ÊüìÂà∞Áà∂ÂÖÉÁ¥†‰∏ä„ÄÇÊúÄÂêéÔºåËøîÂõû‰∏Ä‰∏™Á©∫ÂØπË±°ÔºåË°®Á§∫Êìç‰ΩúÂÆåÊàê„ÄÇ


```
// HELPERS


var _VirtualDom_divertHrefToApp;

var _VirtualDom_doc = typeof document !== 'undefined' ? document : {};


function _VirtualDom_appendChild(parent, child)
{
	parent.appendChild(child);
}

var _VirtualDom_init = F4(function(virtualNode, flagDecoder, debugMetadata, args)
{
	// NOTE: this function needs _Platform_export available to work

	/**/
	var node = args['node'];
	//*/
	/**_UNUSED/
	var node = args && args['node'] ? args['node'] : _Debug_crash(0);
	//*/

	node.parentNode.replaceChild(
		_VirtualDom_render(virtualNode, function() {}),
		node
	);

	return {};
});



```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_VirtualDom_text`„ÄÇÂÆÉÊé•Êî∂‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ËôöÊãü DOM ËäÇÁÇπ„ÄÇ

Ëøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÁî®Êù•Â∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫ËôöÊãü DOM ËäÇÁÇπ„ÄÇËôöÊãü DOM ËäÇÁÇπÂèØ‰ª•Áî®Êù•Âú®ÊñáÊ°£‰∏≠ÂàõÂª∫Êñ∞ÁöÑÂÖÉÁ¥†ÊàñËÄÖ‰øÆÊîπÁé∞ÊúâÁöÑÂÖÉÁ¥†„ÄÇÈÄöËøáÂ∞ÜÂ≠óÁ¨¶‰∏≤‰º†ÈÄíÁªôÂáΩÊï∞ÔºåÂáΩÊï∞Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™ËôöÊãü DOM ËäÇÁÇπÔºåÁÑ∂ÂêéËøîÂõûËøô‰∏™ËäÇÁÇπ„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂáΩÊï∞ÁöÑÂÆûÁé∞Â∞ÜÂ≠óÁ¨¶‰∏≤‰Ωú‰∏∫ÂèÇÊï∞ÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™ÂØπË±°„ÄÇËøô‰∏™ÂØπË±°ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÔºö`$` Âíå `a`„ÄÇ`$` Â±ûÊÄßË°®Á§∫Ëøô‰∏™ËôöÊãü DOM ËäÇÁÇπÁöÑÂ±ÇÁ∫ßÔºåÂÄºÂèØ‰ª•‰º†ÈÄíÁªô `appendToDoc` Âíå `removeFromDoc` ÂáΩÊï∞„ÄÇ`a` Â±ûÊÄßË°®Á§∫ËôöÊãü DOM ËäÇÁÇπÁöÑÂÜÖÂÆπÔºå‰πüÂ∞±ÊòØ‰º†ÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ

ÊúÄÂêéÔºåÂáΩÊï∞ËøîÂõûËøô‰∏™ËôöÊãü DOM ËäÇÁÇπÂØπË±°„ÄÇ


```
// TEXT


function _VirtualDom_text(string)
{
	return {
		$: 0,
		a: string
	};
}



// NODE


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_nodeNS` ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éÂàõÂª∫ËôöÊãü DOM ËäÇÁÇπ„ÄÇ

ËØ•ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞ `namespace` Âíå `tag`ÔºåÁî®‰∫éÊåáÂÆöË¶ÅÂàõÂª∫ÁöÑËôöÊãü DOM ËäÇÁÇπÁöÑÂëΩÂêçÁ©∫Èó¥ÂíåÊ†áÁ≠æ„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®Ë∞ÉÁî®‰∫ÜÂ§ö‰∏™ËæÖÂä©ÂáΩÊï∞ÔºåÂÖ∂‰∏≠ `F2` ÂáΩÊï∞Áî®‰∫éÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´factListÂíåkidListÁöÑÊï∞ÁªÑÔºå `F3` ÂáΩÊï∞Áî®‰∫éËÆ°ÁÆódescendantsCount(Âç≥ Â≠êËäÇÁÇπÊï∞Èáè), `F4` ÂáΩÊï∞Áî®‰∫éÂ∞ÜËÆ°ÁÆóÂæóÂà∞ÁöÑdescendantsCount‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `_VirtualDom_organizeFacts` ÂáΩÊï∞„ÄÇ

ÁÑ∂ÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Á©∫Êï∞ÁªÑ `kids`, Â∞Ü `kidList.a` ÂÄºÊ∑ªÂä†Âà∞ `kids` ‰∏≠ÔºåÂπ∂Â∞Ü `descendantsCount` Âä†Âà∞ `kids` Âíå `descendantsCount` ‰∏ä„ÄÇÊúÄÂêéÔºåÈÄöËøá `_VirtualDom_nodeNS` ÁöÑ `$` Â±ûÊÄßËøîÂõûËôöÊãü DOM ËäÇÁÇπÁöÑ‰∏Ä‰∫õ‰ø°ÊÅØÔºå‰æãÂ¶ÇÂµåÂ•óÊï∞„ÄÅÁà∂ËäÇÁÇπ„ÄÅÂ≠êËäÇÁÇπÂíåÊ†πËäÇÁÇπ„ÄÇ


```
var _VirtualDom_nodeNS = F2(function(namespace, tag)
{
	return F2(function(factList, kidList)
	{
		for (var kids = [], descendantsCount = 0; kidList.b; kidList = kidList.b) // WHILE_CONS
		{
			var kid = kidList.a;
			descendantsCount += (kid.b || 0);
			kids.push(kid);
		}
		descendantsCount += kids.length;

		return {
			$: 1,
			c: tag,
			d: _VirtualDom_organizeFacts(factList),
			e: kids,
			f: namespace,
			b: descendantsCount
		};
	});
});


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_keyedNodeNS` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö`namespace` Âíå `tag`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_keyedNode` ÁöÑÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_nodeNS` ÁöÑÂáΩÊï∞„ÄÇ

Êé•‰∏ãÊù•ÊòØÂè¶‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_keyedNode` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™Âêç‰∏∫ `namespace` Âíå‰∏Ä‰∏™Âêç‰∏∫ `tag` ÁöÑÂèÇÊï∞„ÄÇÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_keyedNode_INIT` ÁöÑÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞Êé•Âèó‰∏§‰∏™ÂèÇÊï∞ `namespace` Âíå `tag`„ÄÇÂÜÖÈÉ®‰ΩøÁî® `F2` ÂáΩÊï∞Êù•Ëé∑Âèñ‰∏Ä‰∏™ËôöÊãü DOM ËäÇÁÇπÔºåÁÑ∂Âêé‰ΩøÁî®ÂõûË∞ÉÂáΩÊï∞Êù•ÈÅçÂéÜËØ•ËäÇÁÇπ‰∏ãÁöÑÊâÄÊúâÂ≠êËäÇÁÇπÔºåËÆ°ÁÆóÂ≠êËäÇÁÇπÊï∞ÈáèÔºåÊúÄÂêéËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ËäÇÁÇπÂêçÁß∞„ÄÅÂ≠êËäÇÁÇπÊï∞Èáè„ÄÅÂ≠êËäÇÁÇπ„ÄÅÁà∂ËäÇÁÇπÂíåÊ†πËäÇÁÇπÊï∞ÈáèÁöÑÂÖÉÁªÑ„ÄÇ

ÁÑ∂ÂêéÊòØ `_VirtualDom_keyedNode_PROC` ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞Êé•Êî∂ÂâçÈù¢ÂÆö‰πâÁöÑ `_VirtualDom_keyedNode_INIT` ËøîÂõûÁöÑËäÇÁÇπ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÁÑ∂ÂêéÊâßË°å‰∏Ä‰∫õÊìç‰ΩúÔºåÊúÄÂêéËøîÂõû‰∏Ä‰∏™ÁªèËøáÂ§ÑÁêÜÂêéÁöÑËäÇÁÇπÂØπË±°„ÄÇ

ÊúÄÂêéÔºå `_VirtualDom_keyedNodeNS` ÁöÑÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `F2` ÁöÑÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞Êé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏Ä‰∏™ÊòØËôöÊãü DOM ËäÇÁÇπÂêçÁß∞ÂâçÁºÄÔºåÂè¶‰∏Ä‰∏™ÊòØË¶ÅËé∑ÂèñÁöÑÊ†áÁ≠æÂêçÁß∞„ÄÇËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞‰ΩøÁî®ÂâçÈù¢ÂÆö‰πâÁöÑ `_VirtualDom_keyedNode_INIT` Âíå `_VirtualDom_keyedNode_PROC` ÂáΩÊï∞Êù•Ëé∑ÂèñËäÇÁÇπÂíåÂ≠êËäÇÁÇπÔºåÁÑ∂ÂêéËøîÂõû‰∏Ä‰∏™ÁªèËøáÂ§ÑÁêÜÂêéÁöÑËäÇÁÇπÂØπË±°„ÄÇ


```
var _VirtualDom_node = _VirtualDom_nodeNS(undefined);



// KEYED NODE


var _VirtualDom_keyedNodeNS = F2(function(namespace, tag)
{
	return F2(function(factList, kidList)
	{
		for (var kids = [], descendantsCount = 0; kidList.b; kidList = kidList.b) // WHILE_CONS
		{
			var kid = kidList.a;
			descendantsCount += (kid.b.b || 0);
			kids.push(kid);
		}
		descendantsCount += kids.length;

		return {
			$: 2,
			c: tag,
			d: _VirtualDom_organizeFacts(factList),
			e: kids,
			f: namespace,
			b: descendantsCount
		};
	});
});


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_custom` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•ÂèóÂõõ‰∏™ÂèÇÊï∞Ôºö `factList`„ÄÅ`model`„ÄÅ`render` Âíå `diff`„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØËøîÂõû‰∏Ä‰∏™ JavaScript ÂØπË±°ÔºåÂÆÉ‰ΩøÁî®‰∫Ü `_VirtualDom_keyedNodeNS` ÂáΩÊï∞Êù•Ëé∑ÂèñËôöÊãü DOM Ê†ë‰∏≠ÁöÑËäÇÁÇπÔºåÁÑ∂Âêé‰ΩøÁî®Ëøô‰∫õËäÇÁÇπÊù•ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ `_VirtualDom_organizeFacts` ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑËäÇÁÇπÔºåÊúÄÂêé‰ΩøÁî®‰º†ÈÄíÁöÑÂèÇÊï∞Êù•ËÆæÁΩÆÊñ∞ËäÇÁÇπÁöÑÂ±ûÊÄß„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøô‰∏™ÂáΩÊï∞ÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

1. Â∞Ü `factList` ‰º†ÈÄíÁªô `_VirtualDom_organizeFacts` ÂáΩÊï∞Ôºå‰ΩøÁî®Ëøô‰∏™ÂáΩÊï∞ÂØπ `factList` ËøõË°åÂºÇÊ≠•ÁªÑÁªáÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÁªÑÁªáÂêéÁöÑÂàóË°®„ÄÇ
2. Â∞Ü `model` ‰º†ÈÄíÁªô `_VirtualDom_organizeFacts` ÂáΩÊï∞Ôºå‰ΩøÁî®Ëøô‰∏™ÂáΩÊï∞ÂØπ `model` ËøõË°åÂºÇÊ≠•ÁªÑÁªáÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÁªÑÁªáÂêéÁöÑÊ®°Âûã„ÄÇ
3. Â∞Ü `render` ‰º†ÈÄíÁªô `_VirtualDom_organizeFacts` ÂáΩÊï∞Ôºå‰ΩøÁî®Ëøô‰∏™ÂáΩÊï∞ÂØπ `render` ËøõË°åÂºÇÊ≠•ÁªÑÁªáÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÁªÑÁªáÂêéÁöÑÊ∏≤ÊüìÂáΩÊï∞„ÄÇ
4. Â∞Ü `diff` ‰º†ÈÄíÁªô `_VirtualDom_organizeFacts` ÂáΩÊï∞Ôºå‰ΩøÁî®Ëøô‰∏™ÂáΩÊï∞ÂØπ `diff` ËøõË°åÂºÇÊ≠•ÁªÑÁªáÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÁªÑÁªáÂêéÁöÑÂ∑ÆÂºÇÊØîËæÉÂáΩÊï∞„ÄÇ

ÊúÄÁªàÔºåËøô‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Âõõ‰∏™Â±ûÊÄßÁöÑÂØπË±°ÔºåËøô‰∫õÂ±ûÊÄßÊèèËø∞‰∫ÜÊñ∞ÁöÑËôöÊãü DOM ËäÇÁÇπ„ÄÇ


```
var _VirtualDom_keyedNode = _VirtualDom_keyedNodeNS(undefined);



// CUSTOM


function _VirtualDom_custom(factList, model, render, diff)
{
	return {
		$: 3,
		d: _VirtualDom_organizeFacts(factList),
		g: model,
		h: render,
		i: diff
	};
}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_map` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™Ê†áËÆ∞ÂÖÉÔºà`tagger`ÔºâÂíå‰∏Ä‰∏™ËäÇÁÇπÂØπË±°Ôºà`node`Ôºâ„ÄÇÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ `4`„ÄÅ`tagger`„ÄÅ`node` Âíå `1+(node.b || 0)` ÁöÑÈîÆÂÄºÂØπÔºåÂÖ∂‰∏≠ `4` ÊòØÈîÆÁöÑÁ±ªÂûãÔºå`tagger` ÊòØÈîÆÁöÑÂêçÁß∞Ôºå`node` ÊòØÂÄºÁöÑÂêçÁß∞Ôºå`1+(node.b || 0)` ÊòØÂÄºÁöÑÂÆûÈôÖÂÄº„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ `F2` ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Âπ∂ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞‰Ωì„ÄÇÂáΩÊï∞‰ΩìÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ `var` ÂèòÈáèÔºåÂÆÉÂ£∞Êòé‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_map` ÁöÑÂèòÈáèÔºåÂπ∂ÂàùÂßãÂåñ‰∫ÜËØ•ÂèòÈáè„ÄÇ

_VirtualDom_map ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™Êò†Â∞ÑÔºåÂ∞Ü `tagger` Âíå `node` ‰Ωú‰∏∫ÈîÆÂÄºÂØπÔºåÂπ∂‰ΩøÁî® `node.b` Êàñ `node` Â¶ÇÊûúÊ≤°ÊúâÂÆö‰πâ `b` Â±ûÊÄßÊó∂ÁöÑÂÄº‰Ωú‰∏∫ÂÄº„ÄÇÂõ†Ê≠§ÔºåÂΩì `node` ÂØπË±°ÂÆö‰πâ‰∫Ü `b` Â±ûÊÄßÊó∂Ôºå`_VirtualDom_map` ÂáΩÊï∞Â∞Ü‰ΩøÁî®ËØ•Â±ûÊÄß‰Ωú‰∏∫ÂÄºÔºõÂê¶ÂàôÔºåÂáΩÊï∞Â∞Ü‰ΩøÁî® `node` ÂØπË±°ÁöÑ `b` Â±ûÊÄßÊàñÂÆö‰πâ `b` Â±ûÊÄßÁöÑÂÄº‰Ωú‰∏∫ÂÄº„ÄÇ


```
// MAP


var _VirtualDom_map = F2(function(tagger, node)
{
	return {
		$: 4,
		j: tagger,
		k: node,
		b: 1 + (node.b || 0)
	};
});



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_thunk` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÈÄíÂΩíÂú∞ÊâßË°å‰∏Ä‰∏™Ë°®ËææÂºè `thunk`ÔºåÂπ∂Â∞ÜÁªìÊûúÂ≠òÂÇ®Âú®Âêç‰∏∫ `m` ÁöÑÂ±ûÊÄß‰∏≠„ÄÇÂáΩÊï∞ËøòÊúâ‰∏Ä‰∏™Âêç‰∏∫ `k` ÁöÑÂ±ûÊÄßÔºåÂÆÉÁöÑÂÄºÊòØÊú™ÂÆö‰πâÁöÑ„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∏ÆÂä©Êàë‰ª¨Âú®ÈúÄË¶ÅÊó∂Âä®ÊÄÅÂú∞Âä†ËΩΩ‰∏Ä‰∏™ÂáΩÊï∞ `thunk`ÔºåÂπ∂Á°Æ‰øù `thunk` Â∑≤ÁªèË¢´Âä†ËΩΩËøá‰∫Ü„ÄÇËøô‰∏™ÂáΩÊï∞‰ΩøÁî®‰∫Ü `F2` ÂáΩÊï∞ÂºèÁºñÁ®ãÂ∫ìÔºåÂÆÉËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ `func` Âíå‰∏Ä‰∏™ÂèÇÊï∞ `a`ÔºåÂπ∂‰ΩøÁî® `_VirtualDom_thunk` ÂáΩÊï∞Êù•ÊâßË°å `thunk`„ÄÇ

Êï¥‰∏™ÂáΩÊï∞ÂºèÁºñÁ®ãÂ∫ìÁöÑÂ∑•‰ΩúÂéüÁêÜÂ∞±ÊòØÊ®°ÊãüÂá∫‰∫Ü V8 ‰∏≠ÁöÑ `eval` ÂáΩÊï∞ÔºåÂÆÉ‰ºöÊâßË°åË°®ËææÂºèÂπ∂ËøîÂõûÁªìÊûúÔºåËÄå‰∏çÂÖ≥ÂøÉÂÖ∂ÂÆûÁé∞ÊñπÂºè„ÄÇËøôÁßçÁºñÁ®ãÊñπÂºèÂèØ‰ª•ËÆ©Á®ãÂ∫èÊõ¥Âä†ÁÆÄÊ¥Å„ÄÅÊòì‰∫éÁª¥Êä§ÂíåÁêÜËß£„ÄÇ


```
// LAZY


function _VirtualDom_thunk(refs, thunk)
{
	return {
		$: 5,
		l: refs,
		m: thunk,
		k: undefined
	};
}

var _VirtualDom_lazy = F2(function(func, a)
{
	return _VirtualDom_thunk([func, a], function() {
		return func(a);
	});
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫ÜÂõõ‰∏™ÂáΩÊï∞ÔºåÊØè‰∏™ÂáΩÊï∞ÈÉΩ‰ª£Ë°®‰∫Ü‰∏Ä‰∏™ Virtual DOM ‰∏≠ÁöÑ‰∏Ä‰∏™ËäÇÁÇπ„ÄÇËøô‰∫õÂáΩÊï∞ÈÉΩÊòØÈÄöËøáÁªÑÂêàÂ§ö‰∏™ÂáΩÊï∞Êù•ÂÆûÁé∞ÁöÑÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨ËøîÂõûÁöÑÁªìÊûúÂ≠òÂÇ®Âú®‰∏Ä‰∏™ÂØπË±°‰∏≠„ÄÇ

ËøôÈáå‰ΩøÁî®‰∫Ü CommonJS ÁöÑËØ≠Ê≥ïÔºåÈÄöËøáË∞ÉÁî® `F3`, `F4`, `F5` Êù•ÂàõÂª∫Ëøô‰∫õÂáΩÊï∞Ë°®ËææÂºè„ÄÇËøôÁßçËØ≠Ê≥ïÂèØ‰ª•ËÆ©‰ª£Á†ÅÊõ¥Âä†ÁÆÄÊ¥Å„ÄÅÊòì‰∫éÁêÜËß£„ÄÇ

ÂáΩÊï∞Ë°®ËææÂºèÊòØ‰∏ÄÁßçË°®ËææÂºèÔºåÂèØ‰ª•Áî® JavaScript ËØ≠Ê≥ï‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤ÂíåÂèÇÊï∞ÂàóË°®Êù•ÂÆö‰πâ„ÄÇÂáΩÊï∞Ë°®ËææÂºèÁöÑÂÄºÊòØ‰∏Ä‰∏™ÁªèËøáË∞ÉÁî®ÁöÑÂáΩÊï∞ÔºåËøîÂõûÂÄº‰πüÁõ∏Âêå„ÄÇ

ÊØè‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö

1. `_VirtualDom_lazy2`ÔºöÂ∞Ü‰∏Ä‰∏™ÂáΩÊï∞ `func` Âíå‰∏§‰∏™ÂèÇÊï∞ `a` Âíå `b` ÁªÑÂêàÊàê‰∏Ä‰∏™ËôöÊãü DOM ËäÇÁÇπÔºåÂπ∂Â∞ÜËøîÂõûÁöÑÁªìÊûúÂ≠òÂÇ®Âà∞ `A2` ÂáΩÊï∞‰∏≠„ÄÇ

2. `_VirtualDom_lazy3`ÔºöÂ∞Ü‰∏Ä‰∏™ÂáΩÊï∞ `func` Âíå‰∏§‰∏™ÂèÇÊï∞ `a`„ÄÅ`b` Âíå `c` ÁªÑÂêàÊàê‰∏Ä‰∏™ËôöÊãü DOM ËäÇÁÇπÔºåÂπ∂Â∞ÜËøîÂõûÁöÑÁªìÊûúÂ≠òÂÇ®Âà∞ `A3` ÂáΩÊï∞‰∏≠„ÄÇ

3. `_VirtualDom_lazy4`ÔºöÂ∞Ü‰∏Ä‰∏™ÂáΩÊï∞ `func` Âíå‰∏§‰∏™ÂèÇÊï∞ `a`„ÄÅ`b`„ÄÅ`c` Âíå `d` ÁªÑÂêàÊàê‰∏Ä‰∏™ËôöÊãü DOM ËäÇÁÇπÔºåÂπ∂Â∞ÜËøîÂõûÁöÑÁªìÊûúÂ≠òÂÇ®Âà∞ `A4` ÂáΩÊï∞‰∏≠„ÄÇ


```
var _VirtualDom_lazy2 = F3(function(func, a, b)
{
	return _VirtualDom_thunk([func, a, b], function() {
		return A2(func, a, b);
	});
});

var _VirtualDom_lazy3 = F4(function(func, a, b, c)
{
	return _VirtualDom_thunk([func, a, b, c], function() {
		return A3(func, a, b, c);
	});
});

var _VirtualDom_lazy4 = F5(function(func, a, b, c, d)
{
	return _VirtualDom_thunk([func, a, b, c, d], function() {
		return A4(func, a, b, c, d);
	});
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏â‰∏™ÂèòÈáèÔºåÊØè‰∏™ÂèòÈáèÈÉΩÊòØ‰∏Ä‰∏™È´òÈò∂ÂáΩÊï∞(higer function)ÔºåË¢´Áß∞‰∏∫ `_VirtualDom_lazy5`„ÄÅ`_VirtualDom_lazy6` Âíå `_VirtualDom_lazy7`„ÄÇ

ÊØè‰∏™È´òÈò∂ÂáΩÊï∞ÈÉΩÊé•Âèó‰∫î‰∏™ÂèÇÊï∞(Êúâ‰∫õÈ´òÈò∂ÂáΩÊï∞ËøòÊé•ÂèóÂÖ≠‰∏™ÂèÇÊï∞)ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÁªìÊûú„ÄÇËøô‰∫õÂáΩÊï∞ÁöÑËøîÂõûÂÄºÈÉΩÊòØ `A` Á±ªÂûãÔºå‰ª£Ë°®‰∏Ä‰∏™Êé•ÂèóÂÖ≠‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞„ÄÇ

ÊØè‰∏™È´òÈò∂ÂáΩÊï∞ÁöÑÂÜÖÈÉ®ÂÆûÁé∞ÁúãËµ∑Êù•ÈÉΩÊòØÁ±ª‰ººÁöÑÔºåÈÉΩÊòØ‰∏Ä‰∏™Êé•ÂèóÂÖ≠‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞Ë¢´ÂåÖË£ÖÂú®‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞‰∏≠ÔºåËøô‰∏™ÂåøÂêçÂáΩÊï∞ËøîÂõûÁöÑÂÄºÊòØ‰∏Ä‰∏™Êé•ÂèóÂÖ≠‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞„ÄÇËøôÁßçÂ∞ÅË£ÖÊñπÂºèÁúãËµ∑Êù•ÊòØ‰∏∫‰∫ÜÈöêËóè `A` Á±ªÂûãÂáΩÊï∞ÁöÑÂÆûÁé∞Ôºå‰ª•ÈÅøÂÖç‰∏é `var A` ÂÆö‰πâÁöÑ `A` Á±ªÂûãÂáΩÊï∞ÂèëÁîüÂëΩÂêçÂÜ≤Á™Å„ÄÇ

ÈÄöËøá `var _VirtualDom_lazy5`„ÄÅ`var _VirtualDom_lazy6` Âíå `var _VirtualDom_lazy7` Ëøô‰∏â‰∏™ÂèòÈáèÔºåÊàë‰ª¨ÂèØ‰ª•ÂºïÁî® `A` Á±ªÂûãÂáΩÊï∞ÔºåÂπ∂‰ΩøÁî® `var` ÂÖ≥ÈîÆÂ≠óËé∑ÂèñÂÆÉ‰ª¨ÁöÑÂºïÁî®ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Âú®ÈúÄË¶ÅÊó∂Ë∞ÉÁî®Ëøô‰∫õÈ´òÈò∂ÂáΩÊï∞‰∫Ü„ÄÇ


```
var _VirtualDom_lazy5 = F6(function(func, a, b, c, d, e)
{
	return _VirtualDom_thunk([func, a, b, c, d, e], function() {
		return A5(func, a, b, c, d, e);
	});
});

var _VirtualDom_lazy6 = F7(function(func, a, b, c, d, e, f)
{
	return _VirtualDom_thunk([func, a, b, c, d, e, f], function() {
		return A6(func, a, b, c, d, e, f);
	});
});

var _VirtualDom_lazy7 = F8(function(func, a, b, c, d, e, f, g)
{
	return _VirtualDom_thunk([func, a, b, c, d, e, f, g], function() {
		return A7(func, a, b, c, d, e, f, g);
	});
});

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ‰ª£Á†ÅÁâáÊÆµÔºåÊèèËø∞‰∫Ü‰∏Ä‰∏™ Virtual DOM ÁöÑ lazy Ê∏≤ÊüìËøáÁ®ã„ÄÇÈÄöËøáÂàÜÊûê‰ª£Á†ÅÔºåÊàë‰ª¨ÂèØ‰ª•ÂæóÂá∫‰ª•‰∏ãÁªìËÆ∫Ôºö

1. `var _VirtualDom_lazy8 = F9(function(func, a, b, c, d, e, f, g, h)
		return _VirtualDom_thunk([func, a, b, c, d, e, f, g, h], function() {
			return A8(func, a, b, c, d, e, f, g, h);
		});`
ËøôÊòØ‰∏Ä‰∏™ function ÂáΩÊï∞ÔºåÂÜÖÈÉ®‰ΩøÁî®‰∫Ü `F9`ÔºàÊàñ `f9`Ôºâ‰Ωú function ÁöÑÂõûË∞ÉÔºåÂπ∂ËøîÂõû‰∫Ü‰∏Ä‰∏™ functionÔºå‰ΩúÁî®ÂüüÂú® `var _VirtualDom_lazy8` ‰∏ä„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Êî∂ 8 ‰∏™ÂèÇÊï∞Ôºö`func`„ÄÅ`a`„ÄÅ`b`„ÄÅ`c`„ÄÅ`d`„ÄÅ`e`„ÄÅ`f` Âíå `g`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî® `_VirtualDom_thunk` ÂáΩÊï∞ÔºåÂ∞Ü‰º†ÂÖ•ÁöÑ 8 ‰∏™ÂèÇÊï∞ÊâìÂåÖÊàê‰∏Ä‰∏™Êï∞ÁªÑÔºåÂÜç‰º†ÂÖ•Âè¶‰∏Ä‰∏™ÂáΩÊï∞ÔºåËøîÂõûËøô‰∏™Êï∞ÁªÑÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇËøô‰∏™ÂÖÉÁ¥†Áî± `A8` ÂáΩÊï∞ËøîÂõûÔºåÊ†πÊçÆÂåÖË£πÁöÑÂáΩÊï∞ÂêçÁß∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÁåúÊµã `A8` ÂáΩÊï∞Â∞±ÊòØ Virtual DOM ÁöÑÊ∏≤ÊüìÂáΩÊï∞„ÄÇ

2. `var _VirtualDom_on = F2(function(key, handler)
		return {
			$: 'a0',
			n: key,
			o: handler
		};
	});`
ËøôÊòØ‰∏Ä‰∏™ÂáΩÊï∞Ôºå‰ΩúÁî®ÂüüÂú® `var _VirtualDom_on` ‰∏ä„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö`key` Âíå `handler`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®‰∫Ü `F2`ÔºàÊàñ `f2`Ôºâ‰Ωú function ÁöÑÂõûË∞ÉÔºåÂπ∂ËøîÂõû‰∫Ü‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÔºö`$` Âíå `n`„ÄÇ`$` Êúâ‰∏âÁßçÂèñÂÄºÔºåÂàÜÂà´ÊòØ `'a`„ÄÅ`'c` Âíå `'h`ÔºåÂØπÂ∫î Virtual DOM ÁöÑ‰∏âÁßçÁä∂ÊÄÅÔºöÊåÇËΩΩ„ÄÅÊõ¥Êñ∞ÂíåÂç∏ËΩΩ„ÄÇ`n` ÊòØ `key` ÁöÑÁºñÂè∑Ôºå‰ΩúÁî®ÂüüÂú® `var _VirtualDom_on` ‰∏ä„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®Ëá™ÂÆö‰πâÁöÑ `handler` ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö`this`ÔºàÂç≥ `window`ÔºâÂíå‰∏Ä‰∏™ÂèÇÊï∞ `key`„ÄÇËøô‰∏™ÂáΩÊï∞‰ºöÂ∞Ü `key` ÁöÑÂÜÖÂÆπÂ≠òÂÇ®Âú® `_VirtualDom_on` ÂØπË±°‰∏≠ÁöÑ `key` Â±ûÊÄßÔºåÁÑ∂ÂêéËøîÂõû‰∏Ä‰∏™Á©∫Â≠óÁ¨¶‰∏≤ÔºåË∞ÉÁî® `handler` ÂáΩÊï∞ËæìÂá∫Ëøô‰∏™Â≠óÁ¨¶‰∏≤„ÄÇ

3. `var _VirtualDom_render = function(content, container, root)
		return {
			pass: content,
			container: container,
			root: root
		};
	};
`
ËøôÊòØ‰∏Ä‰∏™ÂáΩÊï∞Ôºå‰ΩúÁî®ÂüüÂú® `var _VirtualDom_render` ‰∏ä„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Êî∂‰∏â‰∏™ÂèÇÊï∞Ôºö`content`„ÄÅ`container` Âíå `root`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `pass` ÁöÑÂ±ûÊÄßÔºå`pass` ÁöÑÂÄº‰∏∫ `content`ÔºåË°®Á§∫Ê∏≤ÊüìÁöÑÂÜÖÂÆπ„ÄÇ`container` Â±ûÊÄßË°®Á§∫Ê∏≤ÊüìÂô®Ë¶ÅÂÆπÂô®Ôºå`root` Â±ûÊÄßË°®Á§∫Ê∏≤ÊüìÂô®Ë¶ÅÊü•ÊâæËôöÊãü DOM ÁöÑÊ†πËäÇÁÇπ„ÄÇ

4. `var _VirtualDom_to_inclusive = function(content, container, root)
		return {
			pass: content,
			container: container,
			root: root,
			inclusive: true
		};
	};
`
ËøôÊòØ‰∏Ä‰∏™ÂáΩÊï∞Ôºå‰ΩúÁî®ÂüüÂú® `var _VirtualDom_to_inclusive` ‰∏ä„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Êî∂‰∏â‰∏™ÂèÇÊï∞Ôºö`content`„ÄÅ`container` Âíå `root`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `pass` ÁöÑÂ±ûÊÄßÔºå`pass` ÁöÑÂÄº‰∏∫ `content`ÔºåË°®Á§∫Ê∏≤ÊüìÁöÑÂÜÖÂÆπ„ÄÇ`container` Â±ûÊÄßË°®Á§∫Ê∏≤ÊüìÂô®Ë¶ÅÂÆπÂô®Ôºå`root` Â±ûÊÄßË°®Á§∫Ê∏≤ÊüìÂô®Ë¶ÅÊü•ÊâæËôöÊãü DOM ÁöÑÊ†πËäÇÁÇπ„ÄÇ`inclusive` Â±ûÊÄßË°®Á§∫ÊòØÂê¶ÂÖÅËÆ∏Â≠êËäÇÁÇπ„ÄÇ


```
var _VirtualDom_lazy8 = F9(function(func, a, b, c, d, e, f, g, h)
{
	return _VirtualDom_thunk([func, a, b, c, d, e, f, g, h], function() {
		return A8(func, a, b, c, d, e, f, g, h);
	});
});



// FACTS


var _VirtualDom_on = F2(function(key, handler)
{
	return {
		$: 'a0',
		n: key,
		o: handler
	};
});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÁÆ≠Â§¥ÂáΩÊï∞ `_VirtualDom_style` Âíå `_VirtualDom_property`ÔºåÂÆÉ‰ª¨ÈÉΩÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ `key` Âíå `value`„ÄÇËøô‰∏§‰∏™ÂáΩÊï∞ÈÉΩËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´‰∏§‰∏™Â±ûÊÄß `$` Âíå `n`ÔºåÂÆÉ‰ª¨ÁöÑÂÄºÈÉΩ‰∏∫ `'a1'`„ÄÇËøô‰∏§‰∏™Â±ûÊÄßÈÉΩ‰ΩúÁî®‰∫é `value` ÊâÄ‰ª£Ë°®ÁöÑÂÖÉÁ¥†‰∏äÔºå‰ªéËÄåÂ∞Ü `value` ÁöÑÊ†∑ÂºèÂ∫îÁî®Âà∞‰∫ÜÂÖÉÁ¥†ÁöÑÂ≠êÂÖÉÁ¥†‰∏ä„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥Ôºå`_VirtualDom_style` Â∞ÜÂàõÂª∫‰∏Ä‰∏™‰∏çÂ∏¶ `style` Â±ûÊÄßÁöÑ `<div>` ÂÖÉÁ¥†ÔºåÁÑ∂ÂêéËÆæÁΩÆÂÖ∂Â≠êÂÖÉÁ¥†ÁöÑÊ†∑Âºè‰∏∫Ôºö`position: absolute; top: 10px; left: 20px; background-color: red;`„ÄÇÁÑ∂ÂêéÂ∞ÜÂÖ∂Â≠êÂÖÉÁ¥†ÁöÑËá™ÂÆö‰πâÊ†∑ÂºèÂ∫îÁî®Âà∞Ôºö`style["data-custom-style"]`„ÄÇ

ËÄå `_VirtualDom_property` Âàô‰ºöÂàõÂª∫‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑ `<div>` ÂÖÉÁ¥†ÔºåËÆæÁΩÆÂÖ∂Â≠êÂÖÉÁ¥†ÁöÑÊ†∑Âºè‰∏∫Ôºö`position: absolute; top: 20px; left: 30px; background-color: blue;`„ÄÇÁÑ∂ÂêéÂ∞ÜÂÖ∂Â≠êÂÖÉÁ¥†ÁöÑËá™ÂÆö‰πâÊ†∑ÂºèÂ∫îÁî®Âà∞Ôºö`style`„ÄÇ


```
var _VirtualDom_style = F2(function(key, value)
{
	return {
		$: 'a1',
		n: key,
		o: value
	};
});
var _VirtualDom_property = F2(function(key, value)
{
	return {
		$: 'a2',
		n: key,
		o: value
	};
});
```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ‰ª£Á†ÅÁâáÊÆµÔºåÊèèËø∞‰∫ÜÂ¶Ç‰ΩïÂàõÂª∫Ëá™ÂÆö‰πâÂ±ûÊÄß„ÄÇËøô‰∫õËá™ÂÆö‰πâÂ±ûÊÄßË¢´Áß∞‰∏∫ VirtualDOM Â±ûÊÄßÔºåÂèØ‰ª•Âú®Ê∏≤Êüì JavaScript ÂÖÉÁ¥†Êó∂‰ΩøÁî®„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_attribute` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™Âêç‰∏∫ `key` ÁöÑÂèÇÊï∞Âíå‰∏Ä‰∏™Âêç‰∏∫ `value` ÁöÑÂèÇÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Ëá™ÂÆö‰πâÂ±ûÊÄßÔºåËá™ÂÆö‰πâÂ±ûÊÄßÁöÑÂêçÁß∞ÊòØ `"a3"`ÔºåÁ±ªÂûãÊòØ `Object`ÔºåÂÄºÊòØ `{ $: string, n: string, o: { $: string, n: string } }`„ÄÇ

Âè¶‰∏Ä‰∏™ÂáΩÊï∞ `_VirtualDom_attributeNS` ÂÆö‰πâ‰∫ÜÂ¶Ç‰ΩïÂÆö‰πâÂëΩÂêçÁ©∫Èó¥„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™Âêç‰∏∫ `namespace` ÁöÑÂèÇÊï∞Âíå‰∏Ä‰∏™Âêç‰∏∫ `key` ÁöÑÂèÇÊï∞ÔºåÂíå‰∏Ä‰∏™Âêç‰∏∫ `value` ÁöÑÂèÇÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Ëá™ÂÆö‰πâÂ±ûÊÄßÔºåËá™ÂÆö‰πâÂ±ûÊÄßÁöÑÂêçÁß∞ÊòØ `"a4"`ÔºåÁ±ªÂûãÊòØ `Object`ÔºåÂÄºÊòØ `{ $: string, n: string, o: { $: string, n: string } }`„ÄÇËøô‰∏™Ëá™ÂÆö‰πâÂ±ûÊÄßÂ±û‰∫éÂêç‰∏∫ `namespace` ÁöÑÂëΩÂêçÁ©∫Èó¥„ÄÇ

ÊÄªÁªì‰∏Ä‰∏ãÔºåËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫ÜÂ¶Ç‰ΩïÂàõÂª∫Ëá™ÂÆö‰πâÂ±ûÊÄßÔºå‰ª•ÂèäÂ¶Ç‰ΩïÂÆö‰πâÂëΩÂêçÁ©∫Èó¥„ÄÇËøô‰∫õËá™ÂÆö‰πâÂ±ûÊÄßÂèØ‰ª•Âú®Ê∏≤Êüì JavaScript ÂÖÉÁ¥†Êó∂‰ΩøÁî®Ôºå‰ª•Êèê‰æõÊõ¥Â§öÁöÑÊéßÂà∂ÂíåÁÅµÊ¥ªÊÄß„ÄÇ


```
var _VirtualDom_attribute = F2(function(key, value)
{
	return {
		$: 'a3',
		n: key,
		o: value
	};
});
var _VirtualDom_attributeNS = F3(function(namespace, key, value)
{
	return {
		$: 'a4',
		n: key,
		o: { f: namespace, o: value }
	};
});



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏â‰∏™ÂáΩÊï∞ÔºåÂàÜÂà´‰∏∫ `_VirtualDom_noScript(tag)`„ÄÅ`_VirtualDom_noOnOrFormAction(key)` Âíå `_VirtualDom_noInnerHtmlOrFormAction(key)`„ÄÇÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö

1. `_VirtualDom_noScript(tag)`ÔºöËØ•ÂáΩÊï∞Áî®‰∫éÂ∞Ü `tag` Á±ªÂûãÁöÑÊï∞ÊçÆ‰Ωú‰∏∫ËôöÊãü DOM ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇÂ¶ÇÊûú `tag` ‰∏∫ 'script'ÔºåÂàôËøîÂõû 'p'ÔºõÂê¶ÂàôÔºåËøîÂõûÂéüÂßã `tag`„ÄÇ
2. `_VirtualDom_noOnOrFormAction(key)`ÔºöËØ•ÂáΩÊï∞Áî®‰∫éÂ∞Ü `key` Á±ªÂûãÁöÑÊï∞ÊçÆ‰Ωú‰∏∫ËôöÊãü DOM Ëá™ÂÆö‰πâÂ±ûÊÄß„ÄÇÂ¶ÇÊûú `key` ÂåÖÂê´ 'on' Êàñ 'formAction'ÔºåÂàôËøîÂõû 'data-' + keyÔºõÂê¶ÂàôÔºåËøîÂõûÂéüÂßã `key`„ÄÇ
3. `_VirtualDom_noInnerHtmlOrFormAction(key)`Ôºö‰∏é `_VirtualDom_noInnerHtmlOrFormAction` Á±ª‰ººÔºå‰ΩÜ‰ªÖÂú® `key` ÂåÖÂê´ 'innerHTML' Êàñ 'formAction' Êó∂ËøîÂõû 'data-' + key„ÄÇ


```
// XSS ATTACK VECTOR CHECKS


function _VirtualDom_noScript(tag)
{
	return tag == 'script' ? 'p' : tag;
}

function _VirtualDom_noOnOrFormAction(key)
{
	return /^(on|formAction$)/i.test(key) ? 'data-' + key : key;
}

function _VirtualDom_noInnerHtmlOrFormAction(key)
{
	return key == 'innerHTML' || key == 'formAction' ? 'data-' + key : key;
}

```

Ëøô‰∏âÊÆµ‰ª£Á†ÅÈÉΩÊòØÁî®Êù•ËøáÊª§Êéâ JavaScript URI ‰∏≠ÂèØËÉΩÂ≠òÂú®ÁöÑ‰∏≠Èó¥ÂÜÖÂÆπÔºåÂè™ËøîÂõûÁúüÊ≠£ÁöÑ URL„ÄÇ

Á¨¨‰∏ÄÊÆµ‰ª£Á†Å `_VirtualDom_noJavaScriptUri` ÁöÑ‰ΩúÁî®ÊòØÊ£ÄÊü•ÁªôÂÆöÁöÑÂÄºÊòØÂê¶ÂåÖÂê´ JavaScript URI ‰∏≠‰∏≠Èó¥ÁöÑ `/javascript/` ÂâçÁºÄÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàôËøîÂõûËØ•ÂÄºÔºåÂê¶ÂàôËøîÂõûÂåÖÂê´ `/javascript/` ÂâçÁºÄÁöÑÂéüÂßãÂÄº„ÄÇ

Á¨¨‰∫åÊÆµ‰ª£Á†Å `_VirtualDom_noJavaScriptUri_UNUSED` ÁöÑ‰ΩúÁî®ÊòØÊ£ÄÊü•ÁªôÂÆöÁöÑÂÄºÊòØÂê¶ÂåÖÂê´ JavaScript URI ‰∏≠‰∏≠Èó¥ÁöÑ `/javascript/` ÂâçÁºÄÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàôËøîÂõû‰∏ÄÊù°ÁÆÄÂçïÁöÑÊèêÁ§∫‰ø°ÊÅØÔºåÂê¶ÂàôËøîÂõûËØ•ÂÄº„ÄÇ

Á¨¨‰∏âÊÆµ‰ª£Á†Å `_VirtualDom_noJavaScriptOrHtmlUri` ÁöÑ‰ΩúÁî®ÊòØÊ£ÄÊü•ÁªôÂÆöÁöÑÂÄºÊòØÂê¶ÂåÖÂê´ HTML Êàñ JavaScript URIÔºåÂ¶ÇÊûúÊòØÔºåÂàôËøîÂõûÁ©∫Â≠óÁ¨¶‰∏≤ÔºåÂê¶ÂàôËøîÂõûËØ•ÂÄº„ÄÇ


```
function _VirtualDom_noJavaScriptUri(value)
{
	return /^javascript:/i.test(value.replace(/\s/g,'')) ? '' : value;
}

function _VirtualDom_noJavaScriptUri_UNUSED(value)
{
	return /^javascript:/i.test(value.replace(/\s/g,''))
		? 'javascript:alert("This is an XSS vector. Please use ports or web components instead.")'
		: value;
}

function _VirtualDom_noJavaScriptOrHtmlUri(value)
{
	return /^\s*(javascript:|data:text\/html)/i.test(value) ? '' : value;
}

```



ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_noJavaScriptOrHtmlUri_UNUSED` ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éÊ£ÄÊµãÁªôÂÆöÁöÑÂÄºÊòØÂê¶ÂåÖÂê´ JavaScript Êàñ HTML URI„ÄÇÂ¶ÇÊûúÂåÖÂê´ÔºåÂàôËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Ë≠¶Âëä‰ø°ÊÅØÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂê¶ÂàôËøîÂõûÂéüÂßãÂÄº„ÄÇ

ÂáΩÊï∞ÁöÑÂÆûÁé∞ÂèØ‰ª•ÂàÜ‰∏∫‰ª•‰∏ãÂá†‰∏™Ê≠•È™§Ôºö

1. Âà§Êñ≠ÁªôÂÆöÁöÑÂÄºÊòØÂê¶ÂåÖÂê´ `javascript:` Êàñ `data:text/html` URI„ÄÇ
2. Â¶ÇÊûúÂåÖÂê´ÔºåÂàôÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö
   a. Â¶ÇÊûúÁªôÂÆöÁöÑÊòØ `javascript:`ÔºåÂàô‰ΩøÁî® `alert` ÂáΩÊï∞ÈÄöÁü•Áî®Êà∑ËØ•ÂÄº‰∏∫ XSS ÊïèÊÑüÔºåÂπ∂Âª∫ËÆÆ‰ΩøÁî®ËÑöÊú¨ÊàñÈÄöËøá Web ÁªÑ‰ª∂‰ΩøÁî®„ÄÇ
   b. Â¶ÇÊûúÁªôÂÆöÁöÑÊòØ `data:text/html`ÔºåÂàôËøîÂõûÁªôÂÆöÁöÑÂÄº„ÄÇ
3. Â¶ÇÊûúÊú™ÂåÖÂê´ `javascript:` Êàñ `data:text/html`ÔºåÂàôÁõ¥Êé•ËøîÂõûÁªôÂÆöÁöÑÂÄº„ÄÇ

ÂáΩÊï∞ÁöÑÂÆûÁé∞ÊòØÂü∫‰∫é‰ª•‰∏ã‰∏§‰∏™ÂáΩÊï∞Ôºö

- `F2`ÔºöËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÁî®‰∫éÂàõÂª∫‰∏Ä‰∏™ÂáΩÊï∞ÂºïÁî®„ÄÇ
- `_VirtualDom_mapAttribute`ÔºöËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑ JavaScript ÂáΩÊï∞ÔºåÁî®‰∫éÂú® Map Â±ûÊÄß‰∏≠ËÆæÁΩÆÊàñËé∑Âèñ `attribute` ÂØπË±°„ÄÇ

`F2` ÂáΩÊï∞ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_on` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÊòØ `func` ‰∏Ä‰∏™ÊòØ `attr`„ÄÇÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÂºïÁî®ÔºåËØ•ÂºïÁî®‰∫Ü `_VirtualDom_mapAttribute` ÂáΩÊï∞ÔºåÂπ∂Â∞Ü `attr` ÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•„ÄÇ

`_VirtualDom_mapAttribute` ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ `func` ÂèÇÊï∞ÔºåÂÆÉÊòØÈúÄË¶ÅÊ£ÄÊü•ÁöÑÁªôÂÆöÂÄºÁöÑÂáΩÊï∞„ÄÇÂáΩÊï∞ËøîÂõû `true` Â¶ÇÊûúÁªôÂÆöÂÄºÂåÖÂê´ `javascript:` Êàñ `data:text/html`ÔºåÂê¶ÂàôËøîÂõû `false`„ÄÇÂ¶ÇÊûúËøîÂõû `true`ÔºåÂàôÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

- Â¶ÇÊûúÁªôÂÆöÁöÑÊòØ `javascript:`ÔºåÂàô‰ΩøÁî® `alert` ÂáΩÊï∞ÈÄöÁü•Áî®Êà∑ËØ•ÂÄº‰∏∫ XSS ÊïèÊÑüÔºåÂπ∂Âª∫ËÆÆ‰ΩøÁî®ËÑöÊú¨ÊàñÈÄöËøá Web ÁªÑ‰ª∂‰ΩøÁî®„ÄÇ
- Â¶ÇÊûúÁªôÂÆöÁöÑÊòØ `data:text/html`ÔºåÂàôËøîÂõûÁªôÂÆöÁöÑÂÄº„ÄÇ


```
function _VirtualDom_noJavaScriptOrHtmlUri_UNUSED(value)
{
	return /^\s*(javascript:|data:text\/html)/i.test(value)
		? 'javascript:alert("This is an XSS vector. Please use ports or web components instead.")'
		: value;
}



// MAP FACTS


var _VirtualDom_mapAttribute = F2(function(func, attr)
{
	return (attr.$ === 'a0')
		? A2(_VirtualDom_on, attr.n, _VirtualDom_mapHandler(func, attr.o))
		: attr;
});

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂ§ÑÁêÜËôöÊãü DOM ‰∏≠ÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫è„ÄÇ

ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™Ë¶ÅÊâßË°åÁöÑÂáΩÊï∞Âíå‰∏Ä‰∏™Â§ÑÁêÜÁ®ãÂ∫è„ÄÇÂÆÉ‰ΩøÁî® $elm$virtual_dom$VirtualDom$toHandlerInt ÂáΩÊï∞Â∞Ü‰º†ÂÖ•ÁöÑÂ§ÑÁêÜÁ®ãÂ∫èËΩ¨Êç¢‰∏∫ËôöÊãü DOM ‰∏≠ÁöÑÊ†áÁ≠æ„ÄÇ

ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÁöÑÂØπË±°ÔºåÂ±ûÊÄß $: Â§ÑÁêÜÁ®ãÂ∫èÔºåÂ±ûÊÄß a: ÈÄâÈ°πÔºåÁî®‰∫éÂÜ≥ÂÆöÊòØÂê¶ÈòªÊ≠¢ÈªòËÆ§Ë°å‰∏∫ÔºåÂç≥ 0 ‰∏∫ÈòªÊ≠¢Ôºå1 ‰∏∫ÂÖÅËÆ∏Ôºå2 ‰∏∫Ëá™ÂÆö‰πâ„ÄÇ

ÂáΩÊï∞ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÂèØËÉΩËæÉ‰∏∫Â§çÊùÇÔºåÂõ†‰∏∫ÂÆÉÂåÖÂê´Â§ö‰∏™ÂµåÂ•óÁöÑÂáΩÊï∞Ë∞ÉÁî®ÔºåËøô‰∫õÂáΩÊï∞Ë∞ÉÁî®ÁöÑÂØπË±°ÈÉΩÊåáÂêëÂêå‰∏Ä‰∏™ËôöÊãü DOM Ê†ë„ÄÇÈÄöËøáËøôÁßçÊñπÂºèÔºåÂèØ‰ª•Êñπ‰æøÂú∞Â§ÑÁêÜ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÔºåËÄå‰∏çÈúÄË¶ÅÊØèÊ¨°ÈÉΩÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±°„ÄÇ


```
function _VirtualDom_mapHandler(func, handler)
{
	var tag = $elm$virtual_dom$VirtualDom$toHandlerInt(handler);

	// 0 = Normal
	// 1 = MayStopPropagation
	// 2 = MayPreventDefault
	// 3 = Custom

	return {
		$: handler.$,
		a:
			!tag
				? A2($elm$json$Json$Decode$map, func, handler.a)
				:
			A3($elm$json$Json$Decode$map2,
				tag < 3
					? _VirtualDom_mapEventTuple
					: _VirtualDom_mapEventRecord,
				$elm$json$Json$Decode$succeed(func),
				handler.a
			)
	};
}

```

ËØ•‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞Êé•Âè£ `F2`ÔºåÂÆÉ‰ª¨ÂàÜÂà´Êé•Êî∂‰∏Ä‰∏™ÂáΩÊï∞ `func` Âíå‰∏Ä‰∏™ÂÖÉÁªÑ `tuple` ‰Ωú‰∏∫ÂèÇÊï∞„ÄÇËøô‰∏§‰∏™ÂáΩÊï∞Êé•Âè£ÈÉΩËøîÂõû‰∏Ä‰∏™ÂåÖÂê´‰∏â‰∏™ÂÖÉÁ¥†ÁöÑÂÖÉÁªÑ `t`ÔºåÂÖ∂‰∏≠Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØË∞ÉÁî®‰º†ÈÄíÁªô `func` ÁöÑÂáΩÊï∞ËøîÂõûÂÄºÔºåÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†ÊòØ `tuple` ÁöÑÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†ÔºåÁ¨¨‰∏â‰∏™ÂÖÉÁ¥†ÊòØË∞ÉÁî®‰º†ÈÄíÁªô `func` ÁöÑ `tuple` ÁöÑÁ¨¨‰∏â‰∏™ÂÖÉÁ¥†„ÄÇ

Á¨¨‰∏Ä‰∏™ÂáΩÊï∞Êé•Âè£ÂÆö‰πâÁöÑÂáΩÊï∞‰∏∫ `_VirtualDom_mapEventTuple`ÔºåÂÖ∂‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™Áî®‰∫éÂ≠òÂÇ®ÂáΩÊï∞ÂºïÁî®ÂíåÂÖÉÁªÑÁöÑÂÖÉÁªÑ„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ `func` ÂáΩÊï∞Âíå‰∏Ä‰∏™ `tuple` ÂÖÉÁªÑ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂÆÉËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂÖÉÁªÑÔºåÂÖ∂‰∏≠Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØË∞ÉÁî® `func` ÁöÑÂáΩÊï∞ËøîÂõûÂÄºÔºåÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†ÊòØ `tuple` ÁöÑÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†ÔºåÁ¨¨‰∏â‰∏™ÂÖÉÁ¥†ÊòØË∞ÉÁî® `func` ÁöÑ `tuple` ÁöÑÁ¨¨‰∏â‰∏™ÂÖÉÁ¥†„ÄÇ

Á¨¨‰∫å‰∏™ÂáΩÊï∞Êé•Âè£ÂÆö‰πâÁöÑÂáΩÊï∞‰∏∫ `_VirtualDom_mapEventRecord`ÔºåÂÖ∂‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™Â≠òÂÇ®ÂáΩÊï∞ÂºïÁî®„ÄÅÂÖÉÁªÑÂíåÂØπË±°Â±ûÊÄßÁöÑÂÖÉÁªÑ„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ `func` ÂáΩÊï∞Âíå‰∏Ä‰∏™ `record` ÂÖÉÁªÑ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂÆÉËøîÂõû‰∏Ä‰∏™ÂåÖÂê´‰∏â‰∏™ÂÖÉÁ¥†ÁöÑÂÖÉÁªÑÔºåÂÖ∂‰∏≠Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØË∞ÉÁî® `func` ÁöÑÂáΩÊï∞ËøîÂõûÂÄºÔºåÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†ÊòØ `record` ÁöÑÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†ÔºåÁ¨¨‰∏â‰∏™ÂÖÉÁ¥†ÊòØ `record` ÁöÑÁ¨¨‰∏â‰∏™ÂÖÉÁ¥†ÔºåÂç≥ `O` Â±ûÊÄß„ÄÇ


```
var _VirtualDom_mapEventTuple = F2(function(func, tuple)
{
	return _Utils_Tuple2(func(tuple.a), tuple.b);
});

var _VirtualDom_mapEventRecord = F2(function(func, record)
{
	return {
		t: func(record.t),
		R: record.R,
		O: record.O
	}
});



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_organizeFacts` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂåÖÂê´Â§ö‰∏™‰∫ãÂÆûÔºàAScript ÂØπË±°ÊàñÁÆÄÂçïÂØπË±°ÔºâÁöÑÊï∞ÁªÑÂèÇÊï∞„ÄÇÂáΩÊï∞ÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØÂ∞Ü‰º†ÂÖ•ÁöÑ‰∫ãÂÆûÂàóË°®ËøõË°åÁªÑÁªáÔºåÁÑ∂ÂêéËøîÂõûÁªÑÁªáÂêéÁöÑÁªìÊûú„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøôÊÆµ‰ª£Á†ÅÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

1. ÈÄöËøá‰∏Ä‰∏™Ëø≠‰ª£Âô®ÈÅçÂéÜ‰º†ÂÖ•ÁöÑ‰∫ãÂÆûÂàóË°®„ÄÇ
2. ÂØπ‰∫éÊØè‰∏™‰∫ãÂÆûÂØπË±°ÔºåÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö
   a. Â¶ÇÊûúËØ•ÂØπË±°ÁöÑÊ†áÁ≠æÊòØ 'a2'ÔºåÈÇ£‰πàÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö
      i. Â¶ÇÊûúËØ•ÂØπË±°ÁöÑÂ±ûÊÄß 'className' Â≠òÂú®ÔºåÈÇ£‰πàÂ∞ÜÂÖ∂ÂÄºÊèíÂÖ•Âà∞ÂΩìÂâç‰∫ãÂÆûÂØπË±°‰∏≠ÁöÑÂØπÂ∫îÂ±ûÊÄß‰∏≠„ÄÇ
     ii. Âê¶ÂàôÔºåÂ∞ÜÂÖ∂Â±ûÊÄß 'value' ÁöÑÂÄºÊèíÂÖ•Âà∞ÂΩìÂâç‰∫ãÂÆûÂØπË±°‰∏≠„ÄÇ
     iii. ÊÅ¢Â§çÂâçÁºÄÁöÑÂºïÁî®ÔºåÁªßÁª≠ÊâßË°å‰∏ã‰∏ÄËΩÆËø≠‰ª£„ÄÇ
   ii. Â¶ÇÊûúËØ•ÂØπË±°ÁöÑÊ†áÁ≠æÊòØ 'a3' Âπ∂‰∏î 'class' Â±ûÊÄßÂ≠òÂú®ÔºåÈÇ£‰πàÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö
     i. ‰ªéÂΩìÂâç‰∫ãÂÆûÂØπË±°Êï∞ÁªÑ‰∏≠Á¥¢ÂºïÂá∫ÂØπÂ∫îÁöÑÂ≠êÂØπË±°„ÄÇ
     ii. Â¶ÇÊûúÂΩìÂâçÂ≠êÂØπË±°ÁöÑÊ†áÁ≠æÊòØ 'class'ÔºåÈÇ£‰πàÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö
       i. ‰ªéÂ≠êÂØπË±°‰∏≠Á¥¢ÂºïÂá∫ÂØπÂ∫îÁöÑÂ±ûÊÄßÂêçÁß∞ÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂ÂÄºÊèíÂÖ•Âà∞ÂΩìÂâç‰∫ãÂÆûÂØπË±°‰∏≠„ÄÇ
       ii. Â¶ÇÊûúÂΩìÂâçÂ≠êÂØπË±°ÁöÑÊ†áÁ≠æÊòØ 'value'ÔºåÈÇ£‰πàÂ∞ÜÂÖ∂ÂÄºÊèíÂÖ•Âà∞ÂΩìÂâç‰∫ãÂÆûÂØπË±°‰∏≠„ÄÇ
       iii. ÊÅ¢Â§çÂâçÁºÄÁöÑÂºïÁî®ÔºåÁªßÁª≠ÊâßË°å‰∏ã‰∏ÄËΩÆËø≠‰ª£„ÄÇ
     iii. Âê¶ÂàôÔºåÂ∞ÜÂÖ∂Â±ûÊÄß 'value' ÁöÑÂÄºÊèíÂÖ•Âà∞ÂΩìÂâç‰∫ãÂÆûÂØπË±°‰∏≠„ÄÇ
     iv. ÊÅ¢Â§çÂâçÁºÄÁöÑÂºïÁî®ÔºåÁªßÁª≠ÊâßË°å‰∏ã‰∏ÄËΩÆËø≠‰ª£„ÄÇ
   iii. ÂØπ‰∫éÂΩìÂâç‰∫ãÂÆûÂØπË±°ÔºåÂ¶ÇÊûúÂ∑≤ÁªèËÆøÈóÆËøáÂÆÉÁöÑÂ≠êÂØπË±°ÔºåÈÇ£‰πàÊÅ¢Â§çÂâçÁºÄÁöÑÂºïÁî®„ÄÇ
   iv. Âê¶ÂàôÔºåÂ∞ÜÂÖ∂Â±ûÊÄß 'value' ÁöÑÂÄºÊèíÂÖ•Âà∞ÂΩìÂâç‰∫ãÂÆûÂØπË±°‰∏≠„ÄÇ

3. ÊúÄÂêéÔºåËøîÂõûÁªèËøáÁªÑÁªáÁöÑ‰∫ãÂÆûÂàóË°®„ÄÇ


```
// ORGANIZE FACTS


function _VirtualDom_organizeFacts(factList)
{
	for (var facts = {}; factList.b; factList = factList.b) // WHILE_CONS
	{
		var entry = factList.a;

		var tag = entry.$;
		var key = entry.n;
		var value = entry.o;

		if (tag === 'a2')
		{
			(key === 'className')
				? _VirtualDom_addClass(facts, key, _Json_unwrap(value))
				: facts[key] = _Json_unwrap(value);

			continue;
		}

		var subFacts = facts[tag] || (facts[tag] = {});
		(tag === 'a3' && key === 'class')
			? _VirtualDom_addClass(subFacts, key, value)
			: subFacts[key] = value;
	}

	return facts;
}

```

This code appears to be a part of a JavaScript Virtual DOM library. It defines a `VirtualDom_doc.createTextNode` method which creates a text node with the value of the `a` attribute of a `vNode` object and adds it to theÊñáÊ°£.

It also defines a `VirtualDom_doc.createElementNS` method which creates a new element with the specified `NS` and `PN` and adds it to the document.

It appears that `VirtualDom_doc.createElement` and `_VirtualDom_doc.createElementNS` are methods for creating elements in the document. `_VirtualDom_divertHrefToApp` appears to be a method for redirecting the href of an element to the appended URI.

It looks like `_VirtualDom_applyFacts` and `_VirtualDom_doc.createTextNode` are methods for applying styles and creating text nodes respectively.

It is not clear what `vNode.e` and `vNode.f` are and how they are being used.


```
function _VirtualDom_addClass(object, key, newClass)
{
	var classes = object[key];
	object[key] = classes ? classes + ' ' + newClass : newClass;
}



// RENDER


function _VirtualDom_render(vNode, eventNode)
{
	var tag = vNode.$;

	if (tag === 5)
	{
		return _VirtualDom_render(vNode.k || (vNode.k = vNode.m()), eventNode);
	}

	if (tag === 0)
	{
		return _VirtualDom_doc.createTextNode(vNode.a);
	}

	if (tag === 4)
	{
		var subNode = vNode.k;
		var tagger = vNode.j;

		while (subNode.$ === 4)
		{
			typeof tagger !== 'object'
				? tagger = [tagger, subNode.j]
				: tagger.push(subNode.j);

			subNode = subNode.k;
		}

		var subEventRoot = { j: tagger, p: eventNode };
		var domNode = _VirtualDom_render(subNode, subEventRoot);
		domNode.elm_event_node_ref = subEventRoot;
		return domNode;
	}

	if (tag === 3)
	{
		var domNode = vNode.h(vNode.g);
		_VirtualDom_applyFacts(domNode, eventNode, vNode.d);
		return domNode;
	}

	// at this point `tag` must be 1 or 2

	var domNode = vNode.f
		? _VirtualDom_doc.createElementNS(vNode.f, vNode.c)
		: _VirtualDom_doc.createElement(vNode.c);

	if (_VirtualDom_divertHrefToApp && vNode.c == 'a')
	{
		domNode.addEventListener('click', _VirtualDom_divertHrefToApp(domNode));
	}

	_VirtualDom_applyFacts(domNode, eventNode, vNode.d);

	for (var kids = vNode.e, i = 0; i < kids.length; i++)
	{
		_VirtualDom_appendChild(domNode, _VirtualDom_render(tag === 1 ? kids[i] : kids[i].b, eventNode));
	}

	return domNode;
}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_applyFacts` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÊé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºö`domNode`„ÄÅ`eventNode` Âíå `facts` ÂØπË±°„ÄÇ

ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∫îÁî® `facts` ÂØπË±°‰∏≠ÁöÑÈîÆÂÄºÂØπÔºàÊàñ `facts` Êú¨Ë∫´ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºâÔºåÊ†πÊçÆ‰º†ÂÖ•ÁöÑÈîÆÔºåËøîÂõûÁõ∏Â∫îÁöÑÂ∫îÁî®Êìç‰ΩúÔºåÊàñËÄÖËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºË°®Á§∫ÊòØÂê¶ÂèëÁîü‰∫ÜÊõ¥Êîπ„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®È¶ñÂÖàÈÅçÂéÜ `facts` ÂØπË±°ÔºåÁÑ∂ÂêéÊ†πÊçÆ‰º†ÂÖ•ÁöÑÈîÆÊù•ÊâßË°åÁõ∏Â∫îÁöÑÊìç‰ΩúÔºö

- Â¶ÇÊûú‰º†ÂÖ•ÁöÑÈîÆÊòØ `'a1'`„ÄÅ`'a0'` Êàñ `'a3'`ÔºåÂàôÊâßË°åÁõ∏Â∫îÁöÑ `_VirtualDom_applyStyles`„ÄÅ`_VirtualDom_applyEvents` Êàñ `_VirtualDom_applyAttrs` ÂáΩÊï∞„ÄÇ
- Â¶ÇÊûú‰º†ÂÖ•ÁöÑÈîÆÊòØ `'a4'`ÔºåÂàôÊâßË°åÁõ∏Â∫îÁöÑ `_VirtualDom_applyAttrsNS` ÂáΩÊï∞„ÄÇ
- Â¶ÇÊûú‰º†ÂÖ•ÁöÑÈîÆ‰∏çÊòØ `'value'` Êàñ `'checked'`Ôºå‰πü‰∏çÊòØ `domNode` Êàñ `eventNode` ÁöÑÂ±ûÊÄßÔºåÊàñËÄÖ `facts` ÂØπË±°‰∏≠Ê≤°ÊúâËøô‰∏™ÈîÆÔºåÈÇ£‰πàÊâßË°å‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÊ£ÄÊü•ÔºåÂ¶ÇÊûúÊ£ÄÊü•ÁªìÊûú‰∏∫ `true`ÔºåÂàôÊõ¥Êñ∞ `domNode` Êàñ `eventNode` ÁöÑÂ±ûÊÄßÔºõÂê¶ÂàôÔºå‰∏çÊâßË°å‰ªª‰ΩïÊìç‰ΩúÔºåËøîÂõû `false`„ÄÇ


```
// APPLY FACTS


function _VirtualDom_applyFacts(domNode, eventNode, facts)
{
	for (var key in facts)
	{
		var value = facts[key];

		key === 'a1'
			? _VirtualDom_applyStyles(domNode, value)
			:
		key === 'a0'
			? _VirtualDom_applyEvents(domNode, eventNode, value)
			:
		key === 'a3'
			? _VirtualDom_applyAttrs(domNode, value)
			:
		key === 'a4'
			? _VirtualDom_applyAttrsNS(domNode, value)
			:
		((key !== 'value' && key !== 'checked') || domNode[key] !== value) && (domNode[key] = value);
	}
}



```

ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏Ä‰∏™JavaScriptËá™ÂÆö‰πâÁöÑ`<script>`Ê†áÁ≠æÔºåÁî®‰∫éÂ∞ÜÁªôÂÆöÁöÑCSSÊ†∑ÂºèÂ∫îÁî®Âà∞ÊåáÂÆöÁöÑDOMËäÇÁÇπ‰∏ä„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫`_VirtualDom_applyStyles`ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™DOMËäÇÁÇπÂØπË±°`domNode`Âíå‰∏ÄÁªÑCSSÊ†∑ÂºèÂØπË±°`styles`„ÄÇÂáΩÊï∞ÈÄöËøáÈÅçÂéÜ`styles`ÂØπË±°ÔºåÂ∞ÜÁªôÂÆöÈ£éÊ†ºÁöÑÈîÆÂÄºÂàÜÂà´Â∫îÁî®Âà∞`domNode`ÁöÑÊ†∑ÂºèÂ±ûÊÄß‰∏äÔºå‰ªéËÄåÂ∞ÜCSSÊ†∑ÂºèÂ∫îÁî®Âà∞DOMËäÇÁÇπ‰∏ä„ÄÇ

ÂáΩÊï∞ÁöÑÂ∫îÁî®Âú∫ÊôØÊòØÔºåÂΩìÈúÄË¶ÅÂä®ÊÄÅ‰øÆÊîπDOMÂÖÉÁ¥†ÁöÑÊ†∑ÂºèÊó∂ÔºåÊàñËÄÖÈúÄË¶ÅÂú®‰∏çÂêåÁöÑÈ°µÈù¢‰πãÈó¥ÂÖ±‰∫´CSSÊ†∑ÂºèÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®ËØ•ÂáΩÊï∞Â∞ÜÊ†∑ÂºèÂ∫îÁî®Âà∞DOMËäÇÁÇπ‰∏äÔºå‰ªéËÄåÂÆûÁé∞CSSÊ†∑ÂºèÁöÑËá™Âä®Êõ¥ÊîπÂíåË∑®ÂüüÂÖ±‰∫´„ÄÇ


```
// APPLY STYLES


function _VirtualDom_applyStyles(domNode, styles)
{
	var domNodeStyle = domNode.style;

	for (var key in styles)
	{
		domNodeStyle[key] = styles[key];
	}
}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_applyAttrs` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö`domNode` Âíå `attrs` ÂØπË±°„ÄÇÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÊåáÂÆöÁöÑ DOM ËäÇÁÇπ‰∏äÂ∫îÁî® `attrs` ÂØπË±°‰∏≠ÁöÑÂ±ûÊÄß„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂáΩÊï∞ÈÅçÂéÜ `attrs` ÂØπË±°ÔºåÂØπÊØè‰∏™Â±ûÊÄßËøõË°åÊìç‰Ωú„ÄÇÂ¶ÇÊûú `attrs` ÂØπË±°‰∏≠ËØ•Â±ûÊÄßÊúâÂÆö‰πâÔºåÂàôÂáΩÊï∞‰ºöÂ∞ùËØïÂú®ÊåáÂÆöÁöÑ DOM ËäÇÁÇπ‰∏äËÆæÁΩÆËØ•Â±ûÊÄßÁöÑÂÄº„ÄÇÂê¶ÂàôÔºåÂáΩÊï∞‰ºöÂ∞ùËØï‰ªé `domNode` ÂØπË±°‰∏≠Âà†Èô§ËØ•Â±ûÊÄß„ÄÇËøôÈáåÁöÑ `domNode` ÂØπË±°ÊòØ DOM ÂÖÉÁ¥†ÁöÑ‰∏ªËäÇÁÇπÔºåÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ã‰∏∫ `document` ÂØπË±°„ÄÇ


```
// APPLY ATTRS


function _VirtualDom_applyAttrs(domNode, attrs)
{
	for (var key in attrs)
	{
		var value = attrs[key];
		typeof value !== 'undefined'
			? domNode.setAttribute(key, value)
			: domNode.removeAttribute(key);
	}
}



```

ËØ•ÂáΩÊï∞ÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØÈÅçÂéÜÂµåÂ•óÁöÑ DOM ÂÖÉÁ¥†ËäÇÁÇπÂíåÂµåÂ•óÂëΩÂêçÁ©∫Èó¥ÔºåËé∑ÂèñÂÖ∂ÂØπÂ∫îÁöÑÂ±ûÊÄßÂíåÂÄºÔºåÁÑ∂ÂêéÊ†πÊçÆËé∑ÂèñÂà∞ÁöÑÂ±ûÊÄßÂÄºÔºåËÆæÁΩÆÊàñÁßªÈô§ËØ•ÂÖÉÁ¥†ËäÇÁÇπÂØπÂ∫îÁöÑÂëΩÂêçÁ©∫Èó¥Â±ûÊÄß„ÄÇ

ÂÖ∑‰ΩìÂÆûÁé∞‰∏≠ÔºåËØ•ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºöDOM ÂÖÉÁ¥†ËäÇÁÇπÂíåÂµåÂ•óÂëΩÂêçÁ©∫Èó¥Â±ûÊÄßÂàóË°®„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÈÅçÂéÜÂëΩÂêçÁ©∫Èó¥Â±ûÊÄßÂàóË°®ÔºåÂØπ‰∫éÊØè‰∏™Â±ûÊÄßÔºåÂÖàËé∑ÂèñÂÖ∂ÂØπÂ∫îÁöÑÂÄºÔºåÁÑ∂ÂêéÊ†πÊçÆËé∑ÂèñÂà∞ÁöÑÂÄºÔºåÂØπÂØπÂ∫îÁöÑ DOM ÂÖÉÁ¥†ËäÇÁÇπËøõË°åËÆæÁΩÆÊàñÁßªÈô§ÂëΩÂêçÁ©∫Èó¥Â±ûÊÄßÁöÑÊìç‰Ωú„ÄÇ

Áî±‰∫éËØ•ÂáΩÊï∞Ê≤°ÊúâËøîÂõûÂÄºÔºåÂõ†Ê≠§Êó†Ê≥ï‰ΩøÁî®ÂÆÉÊù•Áõ¥Êé•Ëé∑ÂèñËøîÂõûÂÄº„ÄÇ


```
// APPLY NAMESPACED ATTRS


function _VirtualDom_applyAttrsNS(domNode, nsAttrs)
{
	for (var key in nsAttrs)
	{
		var pair = nsAttrs[key];
		var namespace = pair.f;
		var value = pair.o;

		typeof value !== 'undefined'
			? domNode.setAttributeNS(namespace, key, value)
			: domNode.removeAttributeNS(namespace, key);
	}
}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_applyEvents` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö`domNode` Âíå `eventNode`Ôºå‰ª•Âèä‰∏Ä‰∏™ÂèÇÊï∞ `events` Êï∞ÁªÑ„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÁ°Æ‰øùÂú®Ê∏≤ÊüìËøáÁ®ã‰∏≠ÂÆö‰πâÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èËÉΩÂ§üÊ≠£Á°ÆÂú∞Â∫îÁî®Âà∞ `eventNode` ‰∏ä„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂÆÉÈÄöËøá‰ª•‰∏ãÊ≠•È™§Êù•ÂÆûÁé∞Ôºö

1. ÂØπ‰∫é `eventNode`ÔºåËÆ∞ÂΩïÊâÄÊúâÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÔºåÂåÖÊã¨ÂÆÉ‰ª¨ÁöÑ `key` Âíå `handler` Â±ûÊÄß„ÄÇ
2. ÂØπ‰∫éÊØè‰∏™‰∫ã‰ª∂ `key`ÔºåÊü•Êâæ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÊòØÂê¶Â∑≤ÁªèÂÆö‰πâÔºåÂ¶ÇÊûúÊòØÔºåÂ∞±Ê£ÄÊü•Êñ∞ÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÊòØÂê¶‰∏éÊóßÁöÑÁõ∏Âêå„ÄÇÂ¶ÇÊûúÊòØÔºåÈÇ£‰πàÂ∞±ÁªßÁª≠ÔºõÂê¶ÂàôÔºåÁßªÈô§ÊóßÁöÑÂπ∂ÈáçÊñ∞ÂÆö‰πâÊñ∞ÁöÑ„ÄÇ
3. Â¶ÇÊûúÊñ∞ÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÂ∑≤ÁªèÂÆö‰πâÔºåÂ∞±Ê£ÄÊü•ÊòØÂê¶ÈúÄË¶ÅÁßªÈô§ÊóßÁöÑ„ÄÇÂ¶ÇÊûúÊòØÔºåÈÇ£‰πàÁõ¥Êé•ÁßªÈô§ÔºõÂê¶ÂàôÔºå‰ΩøÁî®Êñ∞ÁöÑÂ§ÑÁêÜÁ®ãÂ∫è„ÄÇ
4. ÊúÄÂêéÔºåÂ∞ÜÊñ∞ÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÊ∑ªÂä†Âà∞ `allCallbacks` ÂØπË±°‰∏≠Ôºå‰ª•‰æøÂú®Âà†Èô§‰∫ã‰ª∂Êó∂Ë∞ÉÁî®„ÄÇ

ÊÄª‰ΩìÊù•ËØ¥ÔºåËØ•ÂáΩÊï∞ÁöÑ‰∏ªË¶ÅÁõÆÁöÑÊòØÂú®Ê∏≤ÊüìÊúüÈó¥Á°Æ‰øù‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÊ≠£Á°ÆÂú∞Â∫îÁî®Âà∞ `eventNode` ‰∏ä„ÄÇ


```
// APPLY EVENTS


function _VirtualDom_applyEvents(domNode, eventNode, events)
{
	var allCallbacks = domNode.elmFs || (domNode.elmFs = {});

	for (var key in events)
	{
		var newHandler = events[key];
		var oldCallback = allCallbacks[key];

		if (!newHandler)
		{
			domNode.removeEventListener(key, oldCallback);
			allCallbacks[key] = undefined;
			continue;
		}

		if (oldCallback)
		{
			var oldHandler = oldCallback.q;
			if (oldHandler.$ === newHandler.$)
			{
				oldCallback.q = newHandler;
				continue;
			}
			domNode.removeEventListener(key, oldCallback);
		}

		oldCallback = _VirtualDom_makeCallback(eventNode, newHandler);
		domNode.addEventListener(key, oldCallback,
			_VirtualDom_passiveSupported
			&& { passive: $elm$virtual_dom$VirtualDom$toHandlerInt(newHandler) < 2 }
		);
		allCallbacks[key] = oldCallback;
	}
}



```

ËøôÊÆµ‰ª£Á†ÅÁöÑ‰ΩúÁî®ÊòØÊ®°Êãü‰∏Ä‰∏™JavaScript‰∫ã‰ª∂‰ª£ÁêÜÔºåÂÖÅËÆ∏ÈÄöËøá`t`‰∫ã‰ª∂Êù•Ëß¶ÂèëËØ•‰ª£ÁêÜË°å‰∏∫„ÄÇ

Âú®ËØ•‰∫ã‰ª∂‰ª£ÁêÜ‰∏≠ÔºåÈÄöËøá`Object.defineProperty()`ÊñπÊ≥ïÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫`passive`ÁöÑÂ±ûÊÄß„ÄÇËØ•Â±ûÊÄßÁöÑÂÄº‰∏∫`true`ÔºåË°®Á§∫ÊîØÊåÅ‰ΩøÁî®`t`‰∫ã‰ª∂‰Ωú‰∏∫‰ª£ÁêÜË°å‰∏∫„ÄÇ

ÁÑ∂ÂêéÔºåÈÄöËøá`try`...`catch`ËØ≠Âè•ÔºåÁ°Æ‰øùÂú®‰∫ã‰ª∂‰ª£ÁêÜ‰∏≠ÔºåËØ•Â±ûÊÄßÁöÑÈªòËÆ§ÂÄº‰∏∫`true`„ÄÇ

ÊúÄÂêéÔºåÈÄöËøá`window.addEventListener()`ÊñπÊ≥ïÔºåÂ∞Ü‰∫ã‰ª∂‰ª£ÁêÜÊ∑ªÂä†Âà∞`t`‰∫ã‰ª∂ÁöÑÂßîÊâòÈìæ‰∏≠„ÄÇËøôÊ†∑ÔºåÂΩì‰∫ã‰ª∂`t`Ë¢´Ëß¶ÂèëÊó∂ÔºåÂ∞Ü‰ºöËß¶Âèë`passive`Â±ûÊÄßÊâÄÂÆö‰πâÁöÑ‰ª£ÁêÜË°å‰∏∫„ÄÇ


```
// PASSIVE EVENTS


var _VirtualDom_passiveSupported;

try
{
	window.addEventListener('t', null, Object.defineProperty({}, 'passive', {
		get: function() { _VirtualDom_passiveSupported = true; }
	}));
}
catch(e) {}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫`_VirtualDom_makeCallback`ÁöÑÂáΩÊï∞ÔºåÂÆÉÊòØ`VirtualDom`ÁªÑ‰ª∂ÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÂáΩÊï∞„ÄÇ

ËØ•ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö`eventNode`Ë°®Á§∫‰∫ã‰ª∂ËäÇÁÇπÔºå`initialHandler`ÊòØ‰∏Ä‰∏™ÂéüÂßãÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

1. ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫`callback`ÁöÑÊñ∞ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞ÊâßË°å‰∏Ä‰∏™Âêç‰∏∫`callback`ÁöÑÂõûË∞ÉÔºåËØ•ÂõûË∞ÉÊé•Êî∂‰∏Ä‰∏™`event`ÂèÇÊï∞Ôºå‰∏Ä‰∏™`handler`ÂèÇÊï∞Âíå‰∏Ä‰∏™`initialHandler`ÂèÇÊï∞„ÄÇ
2. ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫`callback`ÁöÑÂåøÂêçÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞ÊâßË°å‰∏Ä‰∏™Âêç‰∏∫`_VirtualDom_makeCallback`ÁöÑÂÜÖÈÉ®ÂáΩÊï∞Ôºå‰º†ÈÄí‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™ÂèÇÊï∞ÁöÑÂèÇÊï∞Ôºö`event`Âíå`initialHandler`„ÄÇ
3. Â∞Ü`initialHandler`‰Ωú‰∏∫`callback`ÂáΩÊï∞ÁöÑ`q`Â±ûÊÄßËÆæÁΩÆ‰∏∫`initialHandler`Ôºå‰ª•‰æøË∞ÉÁî®ËØ•ÂáΩÊï∞Êó∂Ôºå`initialHandler`Â∞ÜË¢´‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄí„ÄÇ
4. ËøîÂõû`callback`ÂáΩÊï∞Ôºå‰ª•‰æøÂ∞ÜÂÖ∂‰Ωú‰∏∫‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÁöÑÂõûË∞ÉÂáΩÊï∞‰ΩøÁî®„ÄÇ

`VirtualDom`ÁªÑ‰ª∂ÈÄöËøá‰ΩøÁî®`_VirtualDom_makeCallback`ÂáΩÊï∞Êù•Â§ÑÁêÜ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇÂΩìÁªÑ‰ª∂Êé•Êî∂Âà∞‰∏Ä‰∏™‰∫ã‰ª∂Êó∂ÔºåÂÆÉÂ∞ÜË∞ÉÁî®`_VirtualDom_makeCallback`ÂáΩÊï∞ÔºåÂπ∂Â∞Ü‰∫ã‰ª∂„ÄÅÂéüÂßãÂõûË∞ÉÂáΩÊï∞Âíå`initialHandler`‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄí„ÄÇÂáΩÊï∞Â∞ÜÊ†πÊçÆ‰º†ÈÄíÁöÑÂèÇÊï∞ÊâßË°åÈÄÇÂΩìÁöÑÊìç‰ΩúÔºåÁÑ∂ÂêéËøîÂõû‰∏Ä‰∏™`callback`ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Áî®‰∫éÂÆûÈôÖÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫è„ÄÇ


```
// EVENT HANDLERS


function _VirtualDom_makeCallback(eventNode, initialHandler)
{
	function callback(event)
	{
		var handler = callback.q;
		var result = _Json_runHelp(handler.a, event);

		if (!$elm$core$Result$isOk(result))
		{
			return;
		}

		var tag = $elm$virtual_dom$VirtualDom$toHandlerInt(handler);

		// 0 = Normal
		// 1 = MayStopPropagation
		// 2 = MayPreventDefault
		// 3 = Custom

		var value = result.a;
		var message = !tag ? value : tag < 3 ? value.a : value.t;
		var stopPropagation = tag == 1 ? value.b : tag == 3 && value.R;
		var currentEventNode = (
			stopPropagation && event.stopPropagation(),
			(tag == 2 ? value.b : tag == 3 && value.O) && event.preventDefault(),
			eventNode
		);
		var tagger;
		var i;
		while (tagger = currentEventNode.j)
		{
			if (typeof tagger == 'function')
			{
				message = tagger(message);
			}
			else
			{
				for (var i = tagger.length; i--; )
				{
					message = tagger[i](message);
				}
			}
			currentEventNode = currentEventNode.p;
		}
		currentEventNode(message, stopPropagation); // stopPropagation implies isSync
	}

	callback.q = initialHandler;

	return callback;
}

```

ËøôÊòØ‰∏ÄÊÆµ JavaScript ‰ª£Á†ÅÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_equalEvents` ÁöÑÂáΩÊï∞„ÄÇÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞ `x` Âíå `y`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫‰∏§‰∏™ËôöÊãü DOM ËäÇÁÇπÁöÑ `$` Â±ûÊÄßÊòØÂê¶Áõ∏Á≠âÔºåÂπ∂‰∏î `x` Âíå `y` ÂØπË±°Êú¨Ë∫´ÊòØÂê¶‰πüÁõ∏Á≠â„ÄÇ

ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂà§Êñ≠‰∏§‰∏™ËôöÊãü DOM ËäÇÁÇπÊòØÂê¶Áõ∏Á≠âÔºåËøô‰∏™Áõ∏Á≠âÊòØÂπø‰πâ‰∏äÁöÑÁõ∏Á≠âÔºåÂåÖÊã¨ÂÆÉ‰ª¨ÁöÑ `$` Â±ûÊÄß„ÄÅÂ±ûÊÄßÂØπÂ∫îÁöÑÂÄºÁ≠â„ÄÇËÄå‰∏ç‰ªÖ‰ªÖÊòØË°®Èù¢‰∏äÁöÑ `==` ÊØîËæÉ„ÄÇ

‰ª£Á†Å‰∏≠Ê≤°ÊúâÂÆö‰πâ `Patch` Á±ªÂûãÔºå‰πüÊ≤°ÊúâÂÆûÁé∞Â∫îËØ•Âú® iOS ‰∏ä‰ΩøÁî®ÁöÑË°•‰∏ÅÂäüËÉΩÔºåÂõ†Ê≠§Êó†Ê≥ïÂØπ‰∏§‰∏™ `Patch` ÂØπË±°ËøõË°åÊØîËæÉ„ÄÇ


```
function _VirtualDom_equalEvents(x, y)
{
	return x.$ == y.$ && _Json_equality(x.a, y.a);
}



// DIFF


// TODO: Should we do patches like in iOS?
//
// type Patch
//   = At Int Patch
//   | Batch (List Patch)
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_diff` ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éËÆ°ÁÆóËôöÊãü DOM ÂèòÂåñ„ÄÇËØ•ÂáΩÊï∞Êúâ‰∏§‰∏™ÂèÇÊï∞Ôºö`x` Âíå `y`ÔºåÂàÜÂà´Ë°®Á§∫Ë¶ÅÊØîËæÉÁöÑ‰∏§‰∏™ËôöÊãü DOM ËäÇÁÇπ„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ `patches` Êï∞ÁªÑÔºåÁî®‰∫éÂ≠òÂÇ®Â∑ÆÂºÇÂØπÊØîÁöÑÁªìÊûú„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®ËøòÊúâ‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_diffHelp` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Áî®‰∫éÈÄíÂΩíÂú∞Â§ÑÁêÜ `patches` Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™Â∑ÆÂºÇÂØπÊØîÁªìÊûú„ÄÇËøô‰∏™ÂáΩÊï∞‰πüÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö`patches` Âíå `type`„ÄÇ`patches` ÂèÇÊï∞Ë°®Á§∫Ë¶ÅÂ§ÑÁêÜÁöÑ‰∏çÂêåÊ≠•‰πãÈó¥ÁöÑÂ∑ÆÂºÇÔºå`type` ÂèÇÊï∞Ë°®Á§∫ÊØè‰∏™Â∑ÆÂºÇÂØπÊØîÁªìÊûúÁöÑÁ±ªÂûãÔºå‰æãÂ¶ÇÊèíÂÖ•„ÄÅÂà†Èô§ÊàñÊõøÊç¢„ÄÇÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Á©∫Êï∞ÁªÑÔºåË°®Á§∫Ê≤°ÊúâÂèëÁîüÂ∑ÆÂºÇ„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®ËøòÊúâ‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_pushPatch` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Êî∂Âõõ‰∏™ÂèÇÊï∞Ôºö`patches`„ÄÅ`type`„ÄÅ`index` Âíå `data`„ÄÇËØ•ÂáΩÊï∞Ë°®Á§∫Â∞ÜÁªôÂÆöÁöÑ `patches` Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™Â∑ÆÂºÇÂØπÊØîÁªìÊûúÂéãÂÖ•Âà∞ `patches` Êï∞ÁªÑÁöÑÂØπÂ∫î‰ΩçÁΩÆÔºåÂπ∂ËøîÂõûËØ•‰ΩçÁΩÆ‰∏äÁöÑ `patches` Êï∞ÁªÑ„ÄÇ

Êï¥‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØËÆ°ÁÆó‰∏§‰∏™ËôöÊãü DOM ËäÇÁÇπÁöÑÂ∑ÆÂºÇÔºåÂπ∂ËøîÂõûÂ∑ÆÂºÇÂØπÊØîÁªìÊûú„ÄÇ


```
//   | Change ...
//
// How could it not be better?
//
function _VirtualDom_diff(x, y)
{
	var patches = [];
	_VirtualDom_diffHelp(x, y, patches, 0);
	return patches;
}


function _VirtualDom_pushPatch(patches, type, index, data)
{
	var patch = {
		$: type,
		r: index,
		s: data,
		t: undefined,
		u: undefined
	};
	patches.push(patch);
	return patch;
}


```

This is a JavaScript function that performs a difference operation between two subtrees of an XML document. It takes two arguments: `x` and `y`, which are the subtrees to compare. The function returns void.

The function first checks if the subtrees are the same and returns void if they are not. If they are not the same, it performs a recursive difference by comparing each child node of the subtree with its counterpart. This continues until it reaches the root node.

If the subtrees are the same, it performs a more aggressive difference by comparing each child node with its counterpart, as well as the subtree node itself. This is done using the `_VirtualDom_diffFacts`, `_VirtualDom_diffNodes`, and `_VirtualDom_diffKids` functions.

If the subtree with `x` has a child node with a `span`, `ApplicativeTrieNode`, or `OffsetRange`, it returns the difference as `null`, as these nodes cannot be compared to their child nodes without causing a infinite loop.

If the `offsetRange` is used, it returns the difference as a `React.FC` instead of a `Buffer`. This is because the difference is returned as an `FP` instead of a `React.FC` when `render` is called, and `FP` is the recommended type for `Component.props` in React.

If the `match` function is used to compare the subtrees, it returns `true` if they match and `false` if they do not match. If they do match, it performs the difference using the `_VirtualDom_diffFacts` function, and then returns the result.


```
function _VirtualDom_diffHelp(x, y, patches, index)
{
	if (x === y)
	{
		return;
	}

	var xType = x.$;
	var yType = y.$;

	// Bail if you run into different types of nodes. Implies that the
	// structure has changed significantly and it's not worth a diff.
	if (xType !== yType)
	{
		if (xType === 1 && yType === 2)
		{
			y = _VirtualDom_dekey(y);
			yType = 1;
		}
		else
		{
			_VirtualDom_pushPatch(patches, 0, index, y);
			return;
		}
	}

	// Now we know that both nodes are the same $.
	switch (yType)
	{
		case 5:
			var xRefs = x.l;
			var yRefs = y.l;
			var i = xRefs.length;
			var same = i === yRefs.length;
			while (same && i--)
			{
				same = xRefs[i] === yRefs[i];
			}
			if (same)
			{
				y.k = x.k;
				return;
			}
			y.k = y.m();
			var subPatches = [];
			_VirtualDom_diffHelp(x.k, y.k, subPatches, 0);
			subPatches.length > 0 && _VirtualDom_pushPatch(patches, 1, index, subPatches);
			return;

		case 4:
			// gather nested taggers
			var xTaggers = x.j;
			var yTaggers = y.j;
			var nesting = false;

			var xSubNode = x.k;
			while (xSubNode.$ === 4)
			{
				nesting = true;

				typeof xTaggers !== 'object'
					? xTaggers = [xTaggers, xSubNode.j]
					: xTaggers.push(xSubNode.j);

				xSubNode = xSubNode.k;
			}

			var ySubNode = y.k;
			while (ySubNode.$ === 4)
			{
				nesting = true;

				typeof yTaggers !== 'object'
					? yTaggers = [yTaggers, ySubNode.j]
					: yTaggers.push(ySubNode.j);

				ySubNode = ySubNode.k;
			}

			// Just bail if different numbers of taggers. This implies the
			// structure of the virtual DOM has changed.
			if (nesting && xTaggers.length !== yTaggers.length)
			{
				_VirtualDom_pushPatch(patches, 0, index, y);
				return;
			}

			// check if taggers are "the same"
			if (nesting ? !_VirtualDom_pairwiseRefEqual(xTaggers, yTaggers) : xTaggers !== yTaggers)
			{
				_VirtualDom_pushPatch(patches, 2, index, yTaggers);
			}

			// diff everything below the taggers
			_VirtualDom_diffHelp(xSubNode, ySubNode, patches, index + 1);
			return;

		case 0:
			if (x.a !== y.a)
			{
				_VirtualDom_pushPatch(patches, 3, index, y.a);
			}
			return;

		case 1:
			_VirtualDom_diffNodes(x, y, patches, index, _VirtualDom_diffKids);
			return;

		case 2:
			_VirtualDom_diffNodes(x, y, patches, index, _VirtualDom_diffKeyedKids);
			return;

		case 3:
			if (x.h !== y.h)
			{
				_VirtualDom_pushPatch(patches, 0, index, y);
				return;
			}

			var factsDiff = _VirtualDom_diffFacts(x.d, y.d);
			factsDiff && _VirtualDom_pushPatch(patches, 4, index, factsDiff);

			var patch = y.i(x.g, y.g);
			patch && _VirtualDom_pushPatch(patches, 5, index, patch);

			return;
	}
}

```

Ëøô‰∏§ÊÆµ‰ª£Á†ÅÊòØJavaScript‰∏≠ÁöÑÂáΩÊï∞Ôºå‰∏ªË¶Å‰ΩúÁî®ÊòØÂà§Êñ≠‰∏§‰∏™Â≠óÁ¨¶‰∏≤Êï∞ÁªÑÊòØÂê¶Áõ∏Á≠â„ÄÇ

`_VirtualDom_pairwiseRefEqual` ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™Â≠óÁ¨¶‰∏≤Êï∞ÁªÑ `as` Âíå `bs`ÔºåÂà§Êñ≠ÂÆÉ‰ª¨ÊòØÂê¶Áõ∏Á≠â„ÄÇÂ¶ÇÊûú‰∏§‰∏™Êï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†Áõ∏ÂêåÔºåÂáΩÊï∞ËøîÂõû `true`ÔºåÂê¶ÂàôËøîÂõû `false`„ÄÇ

`_VirtualDom_diffNodes` ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™Â≠óÁ¨¶‰∏≤Êï∞ÁªÑ `x` Âíå `y`Ôºå‰ª•Âèä‰∏Ä‰∏™Ë¶ÅÈÄíÂΩíÈÅçÂéÜÁöÑÊï∞ÁªÑ `patches` Âíå‰∏Ä‰∏™Êï¥Êï∞ `diffKids`„ÄÇÂÆÉÈ¶ñÂÖàÂà§Êñ≠ `x` Âíå `y` ÊòØÂê¶Áõ∏Á≠âÔºåÂ¶ÇÊûú‰∏çÁõ∏Á≠âÔºåÂáΩÊï∞Âú® `patches` Êï∞ÁªÑ‰∏≠Ê∑ªÂä†‰∏§‰∏™ÂÖÉÁ¥†ÔºåÂπ∂ËøîÂõû„ÄÇÊé•ÁùÄÔºåÂáΩÊï∞Ë∞ÉÁî® `_VirtualDom_diffFacts` ÂáΩÊï∞Êù•ÊØîËæÉ `x.d` Âíå `y.d`„ÄÇÂ¶ÇÊûú `factsDiff` ÁöÑÂÄº‰∏∫ `true`ÔºåÂáΩÊï∞Â∞ÜÊ∑ªÂä†Âõõ‰∏™ÂÖÉÁ¥†Âà∞ `patches` Êï∞ÁªÑ‰∏≠ÔºåÂπ∂ÁªßÁª≠ÈÄíÂΩíË∞ÉÁî® `_VirtualDom_diffNodes` ÂáΩÊï∞„ÄÇÂê¶ÂàôÔºåÂáΩÊï∞ÁªßÁª≠ÈÄíÂΩíË∞ÉÁî®„ÄÇÂáΩÊï∞Ë∞ÉÁî®ÁªìÊùüÂêéÔºåÈÄíÂΩíË∞ÉÁî®ÁªìÊùü„ÄÇ


```
// assumes the incoming arrays are the same length
function _VirtualDom_pairwiseRefEqual(as, bs)
{
	for (var i = 0; i < as.length; i++)
	{
		if (as[i] !== bs[i])
		{
			return false;
		}
	}

	return true;
}

function _VirtualDom_diffNodes(x, y, patches, index, diffKids)
{
	// Bail if obvious indicators have changed. Implies more serious
	// structural changes such that it's not worth it to diff.
	if (x.c !== y.c || x.f !== y.f)
	{
		_VirtualDom_pushPatch(patches, 0, index, y);
		return;
	}

	var factsDiff = _VirtualDom_diffFacts(x.d, y.d);
	factsDiff && _VirtualDom_pushPatch(patches, 4, index, factsDiff);

	diffKids(x, y, patches, index);
}



```

This appears to be a script written in JavaScript that compares two virtual DOM trees and returns a difference between them. The script takes into account the structure, type, and value of the elements in the trees, as well as their styles.

The script first checks if the keys being compared are present in the other tree. If they are not, it adds a new key-value pair to the `diff` object. If they are present, it then checks the type of the value stored in the other tree, and adds a new key-value pair to the `diff` object if it is a string, null, or undefined.

It then continues to compare the values of the remaining keys, taking into account their styles and the equality of their keys.

The script then loops through the elements in the trees, comparing each element to the next one, and adding a new key-value pair to the `diff` object if they are not already present in the `diff` object.

Finally, the script returns the `diff` object as the result of the comparison.


```
// DIFF FACTS


// TODO Instead of creating a new diff object, it's possible to just test if
// there *is* a diff. During the actual patch, do the diff again and make the
// modifications directly. This way, there's no new allocations. Worth it?
function _VirtualDom_diffFacts(x, y, category)
{
	var diff;

	// look for changes and removals
	for (var xKey in x)
	{
		if (xKey === 'a1' || xKey === 'a0' || xKey === 'a3' || xKey === 'a4')
		{
			var subDiff = _VirtualDom_diffFacts(x[xKey], y[xKey] || {}, xKey);
			if (subDiff)
			{
				diff = diff || {};
				diff[xKey] = subDiff;
			}
			continue;
		}

		// remove if not in the new facts
		if (!(xKey in y))
		{
			diff = diff || {};
			diff[xKey] =
				!category
					? (typeof x[xKey] === 'string' ? '' : null)
					:
				(category === 'a1')
					? ''
					:
				(category === 'a0' || category === 'a3')
					? undefined
					:
				{ f: x[xKey].f, o: undefined };

			continue;
		}

		var xValue = x[xKey];
		var yValue = y[xKey];

		// reference equal, so don't worry about it
		if (xValue === yValue && xKey !== 'value' && xKey !== 'checked'
			|| category === 'a0' && _VirtualDom_equalEvents(xValue, yValue))
		{
			continue;
		}

		diff = diff || {};
		diff[xKey] = yValue;
	}

	// add new stuff
	for (var yKey in y)
	{
		if (!(yKey in x))
		{
			diff = diff || {};
			diff[yKey] = y[yKey];
		}
	}

	return diff;
}



```

ËØ•ÂáΩÊï∞Âêç‰∏∫ `_VirtualDom_diffKids`ÔºåÂÖ∂‰ΩúÁî®ÊòØËÆ°ÁÆó Diff Kids„ÄÇËØ•ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞ `xParent` Âíå `yParent`ÔºåÂÆÉ‰ª¨ÂàÜÂà´‰ª£Ë°®‰∏§‰∏™ËôöÊãü DOM Ê†ëÁöÑÂ§¥ËäÇÁÇπÔºå‰ª•Âèä‰∏Ä‰∏™Êï∞ÁªÑ `patches`ÔºåËØ•Êï∞ÁªÑÂåÖÂê´‰∏§‰∏™Â≠êËäÇÁÇπ‰πãÈó¥ÁöÑÂ∑ÆÂºÇ„ÄÇÂáΩÊï∞ËøòÊúâ‰∏Ä‰∏™ÂèÇÊï∞ `index`ÔºåÁî®‰∫éË∑üË∏™ `patches` ‰∏≠ÂåÖÂê´ÁöÑÊØè‰∏™Â≠êËäÇÁÇπÁöÑÁ¥¢Âºï„ÄÇ

ÂáΩÊï∞È¶ñÂÖàËÆ°ÁÆó `xKids` Âíå `yKids` ÈïøÂ∫¶ÔºåÁÑ∂ÂêéÂà§Êñ≠Âì™‰∏™ÈïøÂ∫¶ËæÉÂ§ßÔºåÂ¶ÇÊûúÊòØËæÉÂ§ßÈïøÂ∫¶ÔºåÂàôÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´ `yKids` ‰∏≠ÊâÄÊúâËäÇÁÇπÂíå `xKids` ‰∏≠‰ªé `index` ÂºÄÂßãËäÇÁÇπÂà∞ `yLen` ÁöÑÂ≠êËäÇÁÇπÁöÑÂ∑ÆÂà´ÁöÑ patch„ÄÇÂ¶ÇÊûúÊòØËæÉÂ∞èÈïøÂ∫¶ÔºåÂàôÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´ `xKids` ‰∏≠ÊâÄÊúâËäÇÁÇπÂíå `yKids` ‰∏≠‰ªé `index` ÂºÄÂßãËäÇÁÇπÂà∞ `xLen` ÁöÑÂ≠êËäÇÁÇπÁöÑÂ∑ÆÂà´ÁöÑ patch„ÄÇÊé•‰∏ãÊù•ÔºåÂáΩÊï∞ÈÅçÂéÜ `xKids` Âíå `yKids`ÔºåÂØπ‰∫éÊØè‰∏™Â≠êËäÇÁÇπÔºåÂáΩÊï∞Ë∞ÉÁî®Ëá™Ë∫´Âπ∂‰º†ÈÄíËØ•Â≠êËäÇÁÇπÂíå `patches` ‰∏≠ÁöÑÁ¥¢ÂºïÔºå‰ª•‰æøÂ∞Ü `patches`Â∫îÁî®Âà∞ËôöÊãü DOM Ê†ë‰∏≠„ÄÇÊúÄÂêéÔºåÂáΩÊï∞‰ΩøÁî®Ëá™ÂÆö‰πâÂáΩÊï∞ `_VirtualDom_diffHelp` Êù•ËÆ°ÁÆóÊØè‰∏™Â≠êËäÇÁÇπ‰πãÈó¥ÁöÑÂ∑ÆÂºÇÔºåÂπ∂Êõ¥Êñ∞ `index` ÂèòÈáè‰ª•Ë∑üË∏™Â∑ÆÂºÇÁöÑËµ∑ÂßãÁÇπ„ÄÇ


```
// DIFF KIDS


function _VirtualDom_diffKids(xParent, yParent, patches, index)
{
	var xKids = xParent.e;
	var yKids = yParent.e;

	var xLen = xKids.length;
	var yLen = yKids.length;

	// FIGURE OUT IF THERE ARE INSERTS OR REMOVALS

	if (xLen > yLen)
	{
		_VirtualDom_pushPatch(patches, 6, index, {
			v: yLen,
			i: xLen - yLen
		});
	}
	else if (xLen < yLen)
	{
		_VirtualDom_pushPatch(patches, 7, index, {
			v: xLen,
			e: yKids
		});
	}

	// PAIRWISE DIFF EVERYTHING ELSE

	for (var minLen = xLen < yLen ? xLen : yLen, i = 0; i < minLen; i++)
	{
		var xKid = xKids[i];
		_VirtualDom_diffHelp(xKid, yKids[i], patches, ++index);
		index += xKid.b || 0;
	}
}



```

This is a JavaScript function that performs a operation on a given DOM tree. The function is called `handleChange`, and it takes two arguments: `changes` and `rootIndex`.

The `changes` argument is an array that represents the changes to the DOM tree made by the operation. The `rootIndex` argument is the index of the root node of the DOM tree that the operation should be applied to.

The function works recursively to apply the operation to the given DOM tree. It checks for changes to insert, update, and remove nodes, and performs the corresponding operation as necessary. It also checks for remaining nodes that should be inserted, and inserts those nodes at the end of the changes array.

The function returns nothing.


```
// KEYED DIFF


function _VirtualDom_diffKeyedKids(xParent, yParent, patches, rootIndex)
{
	var localPatches = [];

	var changes = {}; // Dict String Entry
	var inserts = []; // Array { index : Int, entry : Entry }
	// type Entry = { tag : String, vnode : VNode, index : Int, data : _ }

	var xKids = xParent.e;
	var yKids = yParent.e;
	var xLen = xKids.length;
	var yLen = yKids.length;
	var xIndex = 0;
	var yIndex = 0;

	var index = rootIndex;

	while (xIndex < xLen && yIndex < yLen)
	{
		var x = xKids[xIndex];
		var y = yKids[yIndex];

		var xKey = x.a;
		var yKey = y.a;
		var xNode = x.b;
		var yNode = y.b;

		var newMatch = undefined;
		var oldMatch = undefined;

		// check if keys match

		if (xKey === yKey)
		{
			index++;
			_VirtualDom_diffHelp(xNode, yNode, localPatches, index);
			index += xNode.b || 0;

			xIndex++;
			yIndex++;
			continue;
		}

		// look ahead 1 to detect insertions and removals.

		var xNext = xKids[xIndex + 1];
		var yNext = yKids[yIndex + 1];

		if (xNext)
		{
			var xNextKey = xNext.a;
			var xNextNode = xNext.b;
			oldMatch = yKey === xNextKey;
		}

		if (yNext)
		{
			var yNextKey = yNext.a;
			var yNextNode = yNext.b;
			newMatch = xKey === yNextKey;
		}


		// swap x and y
		if (newMatch && oldMatch)
		{
			index++;
			_VirtualDom_diffHelp(xNode, yNextNode, localPatches, index);
			_VirtualDom_insertNode(changes, localPatches, xKey, yNode, yIndex, inserts);
			index += xNode.b || 0;

			index++;
			_VirtualDom_removeNode(changes, localPatches, xKey, xNextNode, index);
			index += xNextNode.b || 0;

			xIndex += 2;
			yIndex += 2;
			continue;
		}

		// insert y
		if (newMatch)
		{
			index++;
			_VirtualDom_insertNode(changes, localPatches, yKey, yNode, yIndex, inserts);
			_VirtualDom_diffHelp(xNode, yNextNode, localPatches, index);
			index += xNode.b || 0;

			xIndex += 1;
			yIndex += 2;
			continue;
		}

		// remove x
		if (oldMatch)
		{
			index++;
			_VirtualDom_removeNode(changes, localPatches, xKey, xNode, index);
			index += xNode.b || 0;

			index++;
			_VirtualDom_diffHelp(xNextNode, yNode, localPatches, index);
			index += xNextNode.b || 0;

			xIndex += 2;
			yIndex += 1;
			continue;
		}

		// remove x, insert y
		if (xNext && xNextKey === yNextKey)
		{
			index++;
			_VirtualDom_removeNode(changes, localPatches, xKey, xNode, index);
			_VirtualDom_insertNode(changes, localPatches, yKey, yNode, yIndex, inserts);
			index += xNode.b || 0;

			index++;
			_VirtualDom_diffHelp(xNextNode, yNextNode, localPatches, index);
			index += xNextNode.b || 0;

			xIndex += 2;
			yIndex += 2;
			continue;
		}

		break;
	}

	// eat up any remaining nodes with removeNode and insertNode

	while (xIndex < xLen)
	{
		index++;
		var x = xKids[xIndex];
		var xNode = x.b;
		_VirtualDom_removeNode(changes, localPatches, x.a, xNode, index);
		index += xNode.b || 0;
		xIndex++;
	}

	while (yIndex < yLen)
	{
		var endInserts = endInserts || [];
		var y = yKids[yIndex];
		_VirtualDom_insertNode(changes, localPatches, y.a, y.b, undefined, endInserts);
		yIndex++;
	}

	if (localPatches.length > 0 || inserts.length > 0 || endInserts)
	{
		_VirtualDom_pushPatch(patches, 8, rootIndex, {
			w: localPatches,
			x: inserts,
			y: endInserts
		});
	}
}



```

ËøôÊÆµ‰ª£Á†ÅÁöÑ‰ΩúÁî®ÊòØÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ DOM Êìç‰ΩúÁ≥ªÁªüÁöÑ Virtual DOM ‰∏≠ÁöÑÊèíÂÖ•ËäÇÁÇπÂäüËÉΩ„ÄÇÂÖ∑‰ΩìÁöÑÂÆûÁé∞ËøáÁ®ãÂ¶Ç‰∏ãÔºö

1. È¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_insertNode` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂Âõõ‰∏™ÂèÇÊï∞ÔºöÂèòÂåñÔºàchangesÔºâ„ÄÅÂ±ÄÈÉ®Ë°•‰∏ÅÔºàlocalPatchesÔºâ„ÄÅÈîÆÔºàkeyÔºâÂíåËôöÊãü DOM ËäÇÁÇπÂèòÊõ¥ÔºàvnodeÔºâ„ÄÇ

2. Âú®ÂáΩÊï∞‰∏≠ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `entry` ÁöÑÂèòÈáè„ÄÇËøô‰∏™ÂèòÈáèÁî®‰∫éÂ≠òÂÇ®ÂΩìÂâçË¶ÅÊèíÂÖ•ÁöÑËäÇÁÇπ‰ø°ÊÅØ„ÄÇ

3. Â¶ÇÊûú `entry` ÂèòÈáèËøòÊ≤°ÊúâË¢´ÂàõÂª∫ËøáÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ entry ÂØπË±°„ÄÇËøô‰∏™Êñ∞ÂØπË±°ÂåÖÂê´‰ª•‰∏ãÂ±ûÊÄßÔºö`c`„ÄÅ`z`„ÄÅ`r` Âíå `s`ÔºåÂÖ∂‰∏≠ `c` Ë°®Á§∫ËäÇÁÇπÁöÑÂèòÊõ¥ËÆ°Êï∞Âô®Ôºå`z` Ë°®Á§∫ËäÇÁÇπÂú®ËôöÊãü DOM ‰∏≠ÁöÑ‰ΩçÁΩÆÔºå`r` Ë°®Á§∫Â≠êËäÇÁÇπÊï∞ÈáèÔºå`s` Ë°®Á§∫Â≠êËäÇÁÇπÁöÑÁâàÊú¨Âè∑„ÄÇÂêåÊó∂ÔºåËøòÊèíÂÖ•‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂ≠êËäÇÁÇπÂà∞ `inserts` Êï∞ÁªÑ‰∏≠„ÄÇ

4. Â¶ÇÊûú `entry` ÂèòÈáèÂ∑≤ÁªèË¢´ÂàõÂª∫Ëøá‰∫ÜÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂà§Êñ≠‰∏Ä‰∏ãÂΩìÂâçË¶ÅÊèíÂÖ•ÁöÑËäÇÁÇπÊòØÂê¶Â∑≤ÁªèË¢´ÂàõÂª∫Ëøá„ÄÇÂ¶ÇÊûúÊòØÔºåÂ∞±Áõ¥Êé•ËøîÂõûÔºõÂ¶ÇÊûú‰∏çÊòØÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÊâßË°åÊèíÂÖ•Êìç‰Ωú„ÄÇ

5. Â¶ÇÊûú `entry.c` ÁöÑÂÄº‰∏∫ 1ÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂú® `inserts` Êï∞ÁªÑ‰∏≠ÊèíÂÖ•‰∏Ä‰∏™Êñ∞ÁöÑÂ≠êËäÇÁÇπ„ÄÇÁÑ∂ÂêéÔºåÂ∞±ÈúÄË¶ÅÊâßË°å `_VirtualDom_diffHelp` ÂáΩÊï∞ÔºåÁî®‰∫éËÆ°ÁÆóÂ≠êËäÇÁÇπÂú®ËôöÊãü DOM ‰∏≠ÁöÑ‰ΩçÁΩÆ„ÄÅË°•‰∏ÅÂàóË°®ÂíåÂèòÊõ¥ËÆ∞ÂΩï„ÄÇ

6. ÊúÄÂêéÔºåÂ¶ÇÊûú `entry.c` ÁöÑÂÄºÂ∑≤ÁªèÂèòÊàê‰∫Ü 2ÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÊèíÂÖ•Êñ∞ÁöÑÂ≠êËäÇÁÇπ„ÄÇÂêåÊó∂ÔºåËøòÈúÄË¶ÅÂ∞ÜÂ≠êËäÇÁÇπÁöÑÁâàÊú¨Âè∑ËÆæÁΩÆ‰∏∫ `s`ÔºåÂπ∂Â∞ÜÂ≠êËäÇÁÇπÊ∑ªÂä†Âà∞ `inserts` Êï∞ÁªÑ‰∏≠„ÄÇ

7. Â¶ÇÊûúÂáΩÊï∞ÊàêÂäüÂú∞ÊèíÂÖ•‰∫Ü‰∏Ä‰∏™ËäÇÁÇπÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅËøîÂõû„ÄÇ

8. Â¶ÇÊûúÂáΩÊï∞ÈÅáÂà∞‰∫Ü‰∏ÄÁõ¥Ë¢´Âà†Èô§ÁöÑËäÇÁÇπÔºåÂ∞±ÈúÄË¶ÅÊâßË°åÊèíÂÖ•Êìç‰ΩúÂπ∂ËøîÂõû„ÄÇ


```
// CHANGES FROM KEYED DIFF


var _VirtualDom_POSTFIX = '_elmW6BL';


function _VirtualDom_insertNode(changes, localPatches, key, vnode, yIndex, inserts)
{
	var entry = changes[key];

	// never seen this key before
	if (!entry)
	{
		entry = {
			c: 0,
			z: vnode,
			r: yIndex,
			s: undefined
		};

		inserts.push({ r: yIndex, A: entry });
		changes[key] = entry;

		return;
	}

	// this key was removed earlier, a match!
	if (entry.c === 1)
	{
		inserts.push({ r: yIndex, A: entry });

		entry.c = 2;
		var subPatches = [];
		_VirtualDom_diffHelp(entry.z, vnode, subPatches, entry.r);
		entry.r = yIndex;
		entry.s.s = {
			w: subPatches,
			A: entry
		};

		return;
	}

	// this key has already been inserted or moved, a duplicate!
	_VirtualDom_insertNode(changes, localPatches, key + _VirtualDom_POSTFIX, vnode, yIndex, inserts);
}


```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_VirtualDom_removeNode`ÔºåÂÆÉÁî®‰∫é‰ªé changes Êï∞ÁªÑ‰∏≠Âà†Èô§Êüê‰∏™ËäÇÁÇπÔºåÂπ∂ËøîÂõûËøô‰∏™Êìç‰ΩúÁöÑÁªìÊûú„ÄÇÂÆÉÊé•Êî∂Âõõ‰∏™ÂèÇÊï∞Ôºö

1. `changes`Ôºö‰∏Ä‰∏™ÂåÖÂê´Â∑≤Êõ¥ÊîπÁöÑÂÖÉÁ¥†ÁöÑÂØπË±°„ÄÇ
2. `localPatches`Ôºö‰∏Ä‰∏™ÂåÖÂê´Â∑≤Ë¢´Ê∑ªÂä†„ÄÅÂà†Èô§Êàñ‰øÆÊîπÁöÑÂÖÉÁ¥†ÁöÑË°•ÈõÜÁöÑÂØπË±°„ÄÇ
3. `key`ÔºöË¶ÅÂà†Èô§ÁöÑËäÇÁÇπÁöÑÂºïÁî®„ÄÇ
4. `vnode`ÔºöË¶ÅÊìç‰ΩúÁöÑËôöÊãü DOM ËäÇÁÇπ„ÄÇ
5. `index`ÔºöË¶ÅÂà†Èô§ÁöÑËäÇÁÇπÂú®Êï∞ÁªÑ‰∏≠ÁöÑÁ¥¢Âºï„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®È¶ñÂÖàÊ£ÄÊü•ÁªôÂÆöÁöÑ `key` ÊòØÂê¶Â≠òÂú®‰∫é `changes` Êï∞ÁªÑ‰∏≠ÔºåÂ¶ÇÊûúÊòØÔºåÂàô‰ªéÊú™ËßÅËøáÁöÑ‰ΩçÁΩÆÊèíÂÖ•‰∏Ä‰∏™Êñ∞ÁöÑËäÇÁÇπÔºåÂπ∂ËøîÂõû„ÄÇÂ¶ÇÊûú‰∏çÊòØÔºåÂàôË°®Á§∫ÁªôÂÆöÁöÑ `key` Â∑≤ÁªèÂ≠òÂú®ÔºåÂπ∂‰∏îÊ£ÄÊü•ÂÆÉÊòØÂê¶Â∑≤ÁªèË¢´ÊèíÂÖ•ÊàñÁßªÂä®„ÄÇÂ¶ÇÊûúÊòØÔºåÂàôÊâßË°åÂà†Èô§Êìç‰ΩúÔºåÂπ∂Â∞ÜÁªìÊûúËøîÂõû„ÄÇ


```
function _VirtualDom_removeNode(changes, localPatches, key, vnode, index)
{
	var entry = changes[key];

	// never seen this key before
	if (!entry)
	{
		var patch = _VirtualDom_pushPatch(localPatches, 9, index, undefined);

		changes[key] = {
			c: 1,
			z: vnode,
			r: index,
			s: patch
		};

		return;
	}

	// this key was inserted earlier, a match!
	if (entry.c === 0)
	{
		entry.c = 2;
		var subPatches = [];
		_VirtualDom_diffHelp(vnode, entry.z, subPatches, index);

		_VirtualDom_pushPatch(localPatches, 9, index, {
			w: subPatches,
			A: entry
		});

		return;
	}

	// this key has already been removed or moved, a duplicate!
	_VirtualDom_removeNode(changes, localPatches, key + _VirtualDom_POSTFIX, vnode, index);
}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_addDomNodes` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºö`domNode`„ÄÅ`vNode` Âíå `patches`Ôºå‰ª•Âèä‰∏Ä‰∏™ÂèÇÊï∞ `eventNode`„ÄÇ

ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

1. Â∞ÜÁªôÂÆöÁöÑ `domNode` Âíå `vNode` Ê∑ªÂä†Âà∞ËôöÊãü DOM ‰∏≠„ÄÇ
2. ÂØπ‰∫éÊØè‰∏™ `vNode`ÔºåËÆ°ÁÆóÂá∫ÂÖ∂Âú® DOM ‰∏≠ÁöÑÂÅèÁßªÈáèÔºàindexÔºâÔºåÂπ∂ËÆ∞ÂΩïÂú® `patches` Êï∞ÁªÑ‰∏≠„ÄÇ
3. ÈÅçÂéÜ `domNode` ÁöÑÊâÄÊúâÂ≠êËäÇÁÇπÔºåÂØπ‰∫éÊØè‰∏™Â≠êËäÇÁÇπÔºåËÆ°ÁÆóÂÖ∂ÈúÄË¶ÅÊéíÂ∫èÁöÑÂ≠êËäÇÁÇπÊï∞ÈáèÔºàdescendant countÔºâ„ÄÇ
4. Â¶ÇÊûú `patches` Êï∞ÁªÑ‰∏≠Â≠òÂú®‰∏éÂΩìÂâçÂ≠êËäÇÁÇπ `vNode` Áõ∏ÂÖ≥ÁöÑ patchesÔºåÊàñËÄÖÂΩìÂâçÂ≠êËäÇÁÇπ `vNode` ÁöÑÂ≠êËäÇÁÇπÊï∞ÈáèÂ∞è‰∫éÈúÄË¶ÅÊéíÂ∫èÁöÑÂ≠êËäÇÁÇπÊï∞ÈáèÔºåÂàôËøîÂõûÂ≠êËäÇÁÇπÔºåÂê¶Âàô‰∏çËøîÂõûÂ≠êËäÇÁÇπ„ÄÇ
5. Â∞Ü `vNode` Ê∑ªÂä†Âà∞ËôöÊãü DOM ‰∏≠ÔºåÂπ∂Â∞Ü `eventNode` Ê∑ªÂä†Âà∞ `currentNamespace`ÔºàÂèØËÉΩÊòØ `document` ÂØπË±°ÁöÑ‰∏Ä‰∏™Â±ûÊÄßÔºâ‰∏≠„ÄÇ


```
// ADD DOM NODES
//
// Each DOM node has an "index" assigned in order of traversal. It is important
// to minimize our crawl over the actual DOM, so these indexes (along with the
// descendantsCount of virtual nodes) let us skip touching entire subtrees of
// the DOM if we know there are no patches there.


function _VirtualDom_addDomNodes(domNode, vNode, patches, eventNode)
{
	_VirtualDom_addDomNodesHelp(domNode, vNode, patches, 0, 0, vNode.b, eventNode);
}


// assumes `patches` is non-empty and indexes increase monotonically.
```

This is a JavaScript function that adds nodes with the Virtual DOM node that corresponds to an element's `title` attribute. It takes in an element's tag and an array of patches, which are the points where the node should be patched. 

The function first checks if the `title` attribute is present and sets the patch index to 0 if it is. If the `title` attribute is not present, the function returns the patch index for the first node in the `patches` array.

The function then iterates through the children of the input node, and for each child, it adds the virtual DOM node to the `domNodes` array, sets the `title` property of the node to the `title` attribute, and sets the `subPatches` index to the patch index.

If the `title` attribute is present, the function uses the `domNode` variable to get the virtual DOM node, and then uses the `_VirtualDom_addDomNodesHelp` function to add the node's children to the `domNodes` array. If the `subPatches` index is within the maximum patch index (`high`), the function returns the `i` to the maximum `subPatches` index.

If the `title` attribute is not present, the function uses the `vNode` variable to get the virtual DOM node, and then uses the `domNode` variable to get the virtual DOM node's `elm_event_node_ref` property. The function then sets the `eventNode` to the `elm_event_node_ref` and sets the `subPatches` index to the patch index.

The function then returns the `i` to the maximum `subPatches` index.


```
function _VirtualDom_addDomNodesHelp(domNode, vNode, patches, i, low, high, eventNode)
{
	var patch = patches[i];
	var index = patch.r;

	while (index === low)
	{
		var patchType = patch.$;

		if (patchType === 1)
		{
			_VirtualDom_addDomNodes(domNode, vNode.k, patch.s, eventNode);
		}
		else if (patchType === 8)
		{
			patch.t = domNode;
			patch.u = eventNode;

			var subPatches = patch.s.w;
			if (subPatches.length > 0)
			{
				_VirtualDom_addDomNodesHelp(domNode, vNode, subPatches, 0, low, high, eventNode);
			}
		}
		else if (patchType === 9)
		{
			patch.t = domNode;
			patch.u = eventNode;

			var data = patch.s;
			if (data)
			{
				data.A.s = domNode;
				var subPatches = data.w;
				if (subPatches.length > 0)
				{
					_VirtualDom_addDomNodesHelp(domNode, vNode, subPatches, 0, low, high, eventNode);
				}
			}
		}
		else
		{
			patch.t = domNode;
			patch.u = eventNode;
		}

		i++;

		if (!(patch = patches[i]) || (index = patch.r) > high)
		{
			return i;
		}
	}

	var tag = vNode.$;

	if (tag === 4)
	{
		var subNode = vNode.k;

		while (subNode.$ === 4)
		{
			subNode = subNode.k;
		}

		return _VirtualDom_addDomNodesHelp(domNode, subNode, patches, i, low + 1, high, domNode.elm_event_node_ref);
	}

	// tag must be 1 or 2 at this point

	var vKids = vNode.e;
	var childNodes = domNode.childNodes;
	for (var j = 0; j < vKids.length; j++)
	{
		low++;
		var vKid = tag === 1 ? vKids[j] : vKids[j].b;
		var nextLow = low + (vKid.b || 0);
		if (low <= index && index <= nextLow)
		{
			i = _VirtualDom_addDomNodesHelp(childNodes[j], vKid, patches, i, low, nextLow, eventNode);
			if (!(patch = patches[i]) || (index = patch.r) > high)
			{
				return i;
			}
		}
		low = nextLow;
	}
	return i;
}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_VirtualDom_applyPatches` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºö

1. `rootDomNode`ÔºöÊ†πËäÇÁÇπÔºõ
2. `oldVirtualNode`ÔºöÈúÄË¶Å‰øÆÂ§çÁöÑËôöÊãüËäÇÁÇπÔºõ
3. `patches`ÔºöÂ∑≤Áü•Ë°•‰∏ÅÂàóË°®ÔºåÊØè‰∏™Ë°•‰∏ÅÈÉΩÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÂåÖÂê´‰∏§‰∏™ÂÖÉÁ¥†ÔºöË°•‰∏ÅÁöÑÂ±ÄÈÉ®ËäÇÁÇπÂíåÊèèËø∞Ë°•‰∏Å‰ΩúÁî®ÁöÑÂè§ÊÄ™ËäÇÁÇπÔºõ
4. `eventNode`Ôºö‰∫ã‰ª∂ËäÇÁÇπ„ÄÇ

ÂáΩÊï∞ÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØÂ∫îÁî®‰∫éÂ∑≤Áü•Ë°•‰∏ÅÂàóË°®ÔºåÂ∞ÜÊ†πËäÇÁÇπ `rootDomNode` ‰∏≠ÁöÑËôöÊãüËäÇÁÇπ `oldVirtualNode` Âíå `eventNode` ‰øÆÂ§ç‰∏∫Â∑≤Áü•Ë°•‰∏ÅÂàóË°®‰∏≠ÁöÑËäÇÁÇπ„ÄÇ

ÂÖ∑‰ΩìÂÆûÁé∞Ê≠•È™§Â¶Ç‰∏ãÔºö

1. Â¶ÇÊûú `patches` ‰∏∫Á©∫ÔºåÁõ¥Êé•ËøîÂõûÊ†πËäÇÁÇπ `rootDomNode`ÔºåË°®Á§∫‰∏çÈúÄË¶Å‰øÆÂ§ç‰ªª‰ΩïËäÇÁÇπÔºõ
2. ÈÅçÂéÜ `patches` Êï∞ÁªÑÔºåÂØπ‰∫éÊØè‰∏™Ë°•‰∏ÅÔºàÂç≥Â∑≤Áü•Ë°•‰∏ÅÂàóË°®‰∏≠ÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†ÔºâÔºåÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö
	1. Ëé∑ÂèñË°•‰∏ÅÊèèËø∞‰∏≠ÁöÑÂ±ÄÈÉ®ËäÇÁÇπ `localDomNode`Ôºõ
	2. ÊâßË°åÂè¶‰∏Ä‰∏™ÈÅçÂéÜ `patches` ÁöÑÂáΩÊï∞ `_VirtualDom_applyPatch`ÔºåÂπ∂Â∞Ü `localDomNode` Âíå `patch` ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôËøô‰∏™ÂáΩÊï∞Ôºõ
	3. Â¶ÇÊûú `localDomNode` ÊòØÊ†πËäÇÁÇπ `rootDomNode`ÔºåÂàôÂ∞Ü `rootDomNode` ÊõøÊç¢‰∏∫ `newNode`ÔºåÂÖ∂‰∏≠ `newNode` ÊòØ `_VirtualDom_applyPatch` ÂáΩÊï∞ËøîÂõûÁöÑËôöÊãüËäÇÁÇπÔºõ
	4. ËøîÂõû `rootDomNode`ÔºåÂç≥‰øÆÂ§çÂêéÁöÑËäÇÁÇπ„ÄÇ


```
// APPLY PATCHES


function _VirtualDom_applyPatches(rootDomNode, oldVirtualNode, patches, eventNode)
{
	if (patches.length === 0)
	{
		return rootDomNode;
	}

	_VirtualDom_addDomNodes(rootDomNode, oldVirtualNode, patches, eventNode);
	return _VirtualDom_applyPatchesHelp(rootDomNode, patches);
}

function _VirtualDom_applyPatchesHelp(rootDomNode, patches)
{
	for (var i = 0; i < patches.length; i++)
	{
		var patch = patches[i];
		var localDomNode = patch.t
		var newNode = _VirtualDom_applyPatch(localDomNode, patch);
		if (localDomNode === rootDomNode)
		{
			rootDomNode = newNode;
		}
	}
	return rootDomNode;
}

```

This appears to be a JavaScript function that creates and manipulates virtual DOM nodes. It appears to be doing this for an Elasticsearch website, as it uses Elasticsearch functions to insert and remove virtual DOM nodes.

The function takes in a `domNode` object as an argument, and allows you to perform various operations on it, such as replacing children, inserting or removing children, and applying patches.

It appears to be using the `_VirtualDom_render`, `_VirtualDom_applyPatchesHelp`, `_VirtualDom_applyPatchReorder`, and `_Debug_crash` functions mentioned in the question, but I'm not sure how it's using them to implement the virtual DOM.

There are also some comments in the code that suggest it might be trying to perform additional tasks beyond just creating and manipulating virtual DOM nodes, such as inserting and removing children, and applying styles or scripts.


```
function _VirtualDom_applyPatch(domNode, patch)
{
	switch (patch.$)
	{
		case 0:
			return _VirtualDom_applyPatchRedraw(domNode, patch.s, patch.u);

		case 4:
			_VirtualDom_applyFacts(domNode, patch.u, patch.s);
			return domNode;

		case 3:
			domNode.replaceData(0, domNode.length, patch.s);
			return domNode;

		case 1:
			return _VirtualDom_applyPatchesHelp(domNode, patch.s);

		case 2:
			if (domNode.elm_event_node_ref)
			{
				domNode.elm_event_node_ref.j = patch.s;
			}
			else
			{
				domNode.elm_event_node_ref = { j: patch.s, p: patch.u };
			}
			return domNode;

		case 6:
			var data = patch.s;
			for (var i = 0; i < data.i; i++)
			{
				domNode.removeChild(domNode.childNodes[data.v]);
			}
			return domNode;

		case 7:
			var data = patch.s;
			var kids = data.e;
			var i = data.v;
			var theEnd = domNode.childNodes[i];
			for (; i < kids.length; i++)
			{
				domNode.insertBefore(_VirtualDom_render(kids[i], patch.u), theEnd);
			}
			return domNode;

		case 9:
			var data = patch.s;
			if (!data)
			{
				domNode.parentNode.removeChild(domNode);
				return domNode;
			}
			var entry = data.A;
			if (typeof entry.r !== 'undefined')
			{
				domNode.parentNode.removeChild(domNode);
			}
			entry.s = _VirtualDom_applyPatchesHelp(domNode, data.w);
			return domNode;

		case 8:
			return _VirtualDom_applyPatchReorder(domNode, patch);

		case 5:
			return patch.s(domNode);

		default:
			_Debug_crash(10); // 'Ran into an unknown patch!'
	}
}


```



ËØ•ÂáΩÊï∞ÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_VirtualDom_applyPatchRedraw`ÔºåÂÖ∂‰ΩúÁî®ÊòØÂú®È°µÈù¢‰∏äÂ∫îÁî®‰∏Ä‰∏™ `vNode` Âà∞ `eventNode` ÁöÑ `elm_event_node_ref` ÂèòÂåñÔºåÁÑ∂ÂêéÂ∞Ü `newNode` ÊõøÊç¢‰∏∫ÁîüÊàêÁöÑ `elm_event_node_ref` ËäÇÁÇπÔºåÊúÄÂêéÂ∞Ü `newNode` ÊõøÊç¢‰∏∫Áà∂ËäÇÁÇπ `parentNode` ÁöÑÂ≠êËäÇÁÇπÔºåÂ¶ÇÊûúÁà∂ËäÇÁÇπ `parentNode` ÂåÖÂê´ `newNode`ÔºåÂàôÂ∞Ü `newNode` ÊõøÊç¢‰∏∫ `parentNode` ÁöÑÂ≠êËäÇÁÇπ„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑÊ†∏ÂøÉÂÆûÁé∞ÊòØ‰ΩøÁî® `_VirtualDom_render` ÂáΩÊï∞Â∞Ü `vNode` Ê∏≤Êüì‰∏∫ `elm_event_node_ref` ËäÇÁÇπÔºåÁÑ∂ÂêéÊ£ÄÊü• `elm_event_node_ref` ÊòØÂê¶Â∑≤ÁªèÂ≠òÂú®„ÄÇÂ¶ÇÊûúÊòØÔºåÂàôÂ∞Ü `vNode` ÊõøÊç¢‰∏∫ `elm_event_node_ref`ÔºåÂπ∂ËøîÂõû `newNode`ÔºõÂê¶ÂàôÔºåÂ∞Ü `vNode` ÊõøÊç¢‰∏∫ `domNode`(Âç≥‰∏çÊõ¥Êîπ)ÔºåÂπ∂Â∞Ü `elm_event_node_ref` ÊõøÊç¢‰∏∫ `domNode` ÁöÑ `elm_event_node_ref`„ÄÇ

Êé•ÁùÄÔºåÂáΩÊï∞Ê£ÄÊü• `parentNode` ÊòØÂê¶ÂåÖÂê´ `newNode`ÔºåÂ¶ÇÊûúÊòØÔºåÂàôÂ∞Ü `newNode` ÊõøÊç¢‰∏∫ `parentNode` ÁöÑÂ≠êËäÇÁÇπÔºõÂê¶ÂàôÔºåÂ∞Ü `parentNode` ÊõøÊç¢‰∏∫ `newNode`„ÄÇÊúÄÁªàÔºåÂáΩÊï∞ËøîÂõûÁîüÊàêÁöÑ `elm_event_node_ref` ËäÇÁÇπ„ÄÇ


```
function _VirtualDom_applyPatchRedraw(domNode, vNode, eventNode)
{
	var parentNode = domNode.parentNode;
	var newNode = _VirtualDom_render(vNode, eventNode);

	if (!newNode.elm_event_node_ref)
	{
		newNode.elm_event_node_ref = domNode.elm_event_node_ref;
	}

	if (parentNode && newNode !== domNode)
	{
		parentNode.replaceChild(newNode, domNode);
	}
	return newNode;
}


```

ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_VirtualDom_applyPatchReorder`ÔºåÂÆÉÁî®‰∫éÂ§ÑÁêÜËôöÊãü DOM Ê†ë‰∏≠ÁöÑË°•‰∏ÅÂíåÊèíÂÖ•„ÄÇ

ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ DOM ËäÇÁÇπÂíå‰∏ÄÁªÑË°•‰∏ÅÔºàÈÄöÂ∏∏‰∏§‰∏™ÂµåÂ•óÁöÑ `script` ÂÖÉÁ¥†Ôºâ„ÄÇË°•‰∏ÅÂåÖÂê´‰∫ÜÂÖ≥‰∫éÈúÄË¶ÅË°•‰∏ÅÁöÑÊüê‰∫õ‰ø°ÊÅØÔºå‰æãÂ¶ÇÊèíÂÖ•ÂíåÂà†Èô§ÁöÑÂÖÉÁ¥†„ÄÇÂáΩÊï∞È¶ñÂÖàÊ£ÄÊü•Ë°•‰∏ÅÊòØÂê¶ÂåÖÂê´È¢ùÂ§ñÁöÑÊèíÂÖ•ÊàñÂà†Èô§ÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÊòØÔºåÂàôÊåâÁÖßÁªôÂÆöÁöÑËßÑÂàôÂ∞ÜÂÖ∂Â∫îÁî®„ÄÇÁÑ∂ÂêéÔºåÂáΩÊï∞Â§ÑÁêÜÂÆö‰πâÁöÑÊèíÂÖ•ÊàñÂà†Èô§ÂÖÉÁ¥†„ÄÇÊúÄÂêéÔºåÂ¶ÇÊûúË°•‰∏ÅÂåÖÂê´È¢ùÂ§ñÁöÑÊèíÂÖ•ÊàñÂà†Èô§ÂÖÉÁ¥†ÔºåÂàôÂ∞ÜÂÖ∂Ê∑ªÂä†Âà∞ÂΩìÂâçÁöÑ DOM ËäÇÁÇπ‰∏≠„ÄÇ

ÂáΩÊï∞ÁöÑÊ†∏ÂøÉÂÆûÁé∞ÊòØ `_VirtualDom_applyPatchReorderEndInsertsHelp` Âíå `_VirtualDom_applyPatchesHelp` ÂáΩÊï∞ÔºåÂÆÉ‰ª¨Â§ÑÁêÜË°•‰∏Å‰∏≠ÂÆö‰πâÁöÑÊèíÂÖ•ÂíåÂà†Èô§ÂÖÉÁ¥†„ÄÇËøô‰∫õÂáΩÊï∞ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÂèØËÉΩÂõ† VDOM Â∫ìÁöÑ‰∏çÂêåÂÆûÁé∞ËÄåÊúâÊâÄ‰∏çÂêå„ÄÇ


```
function _VirtualDom_applyPatchReorder(domNode, patch)
{
	var data = patch.s;

	// remove end inserts
	var frag = _VirtualDom_applyPatchReorderEndInsertsHelp(data.y, patch);

	// removals
	domNode = _VirtualDom_applyPatchesHelp(domNode, data.w);

	// inserts
	var inserts = data.x;
	for (var i = 0; i < inserts.length; i++)
	{
		var insert = inserts[i];
		var entry = insert.A;
		var node = entry.c === 2
			? entry.s
			: _VirtualDom_render(entry.z, patch.u);
		domNode.insertBefore(node, domNode.childNodes[insert.r]);
	}

	// add end inserts
	if (frag)
	{
		_VirtualDom_appendChild(domNode, frag);
	}

	return domNode;
}


```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_VirtualDom_applyPatchReorderEndInsertsHelp`„ÄÇÂÆÉÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö

1. `endInserts`Ôºö‰∏Ä‰∏™Êï∞ÁªÑÔºåÂåÖÂê´Ë¶ÅÂ∫îÁî®ÁöÑÊèíÂÖ•ÂÖÉÁ¥†„ÄÇ
2. `patch`Ôºö‰∏Ä‰∏™ÂåÖÂê´ÂØπÊñáÊ°£ÁâáÊÆµÁöÑÊèíÂÖ•ÂíåÂà†Èô§Êìç‰ΩúÁöÑÂØπË±°„ÄÇ

ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÔºåÂØπ‰∫é‰º†ÂÖ•ÁöÑ `endInserts` Âíå `patch` ÂèÇÊï∞ÔºåËøîÂõû‰∏Ä‰∏™Â∑≤ÊéíÂ∫èÁöÑ `frag` Êï∞ÁªÑÔºåÂÖ∂‰∏≠ `frag` Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†‰ª£Ë°®‰∫Ü Virtual DOM Ê†ë‰∏≠ÁöÑ‰∏Ä‰∏™ÁâáÊÆµ„ÄÇÂØπ‰∫éÊØè‰∏™ `endInserts` ‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÂáΩÊï∞‰ºöÊ†πÊçÆ `patch.u` Â±ûÊÄßÔºàÂ¶ÇÊûúÂ≠òÂú®ÔºâÊàñ `entry.z` Â±ûÊÄßÔºàÂê¶ÂàôÔºâÂÜ≥ÂÆöÂ¶Ç‰ΩïÂ∫îÁî® `patch` ‰∏≠ÁöÑÊèíÂÖ•ÊàñÂà†Èô§Êìç‰Ωú„ÄÇÊúÄÁªàÔºåÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ `frag` Êï∞ÁªÑÔºåÂÆÉÂåÖÂê´‰∫ÜÊâÄÊúâÈúÄË¶ÅÂ∫îÁî®ÁöÑÊèíÂÖ•ÂÖÉÁ¥†„ÄÇ


```
function _VirtualDom_applyPatchReorderEndInsertsHelp(endInserts, patch)
{
	if (!endInserts)
	{
		return;
	}

	var frag = _VirtualDom_doc.createDocumentFragment();
	for (var i = 0; i < endInserts.length; i++)
	{
		var insert = endInserts[i];
		var entry = insert.A;
		_VirtualDom_appendChild(frag, entry.c === 2
			? entry.s
			: _VirtualDom_render(entry.z, patch.u)
		);
	}
	return frag;
}


```

ËØ•ÂáΩÊï∞ÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØÂ∞Ü‰∏Ä‰∏™ËäÇÁÇπËøõË°åËôöÊãüDOMÂåñÔºå‰ΩøÂÖ∂Êàê‰∏∫‰∏Ä‰∏™Âè™ËØªÁöÑÊñáÊú¨ËäÇÁÇπ„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËØ•ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ËäÇÁÇπ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÁÑ∂ÂêéÂØπËäÇÁÇπËøõË°å‰ª•‰∏ãÊìç‰ΩúÔºö

1. Â¶ÇÊûúËäÇÁÇπÊòØÊñáÊú¨ËäÇÁÇπÔºåÂàôÁõ¥Êé•ËøîÂõûËØ•ËäÇÁÇπÁöÑÊñáÊú¨ÂÜÖÂÆπ„ÄÇ
2. Â¶ÇÊûúËäÇÁÇπ‰∏çÊòØÊñáÊú¨ËäÇÁÇπÔºåÂàôËøîÂõû‰∏Ä‰∏™Á©∫Â≠óÁ¨¶‰∏≤„ÄÇ
3. ÂØπ‰∫éÊØè‰∏™ÊñáÊú¨ËäÇÁÇπÔºåËé∑ÂèñÂÖ∂ÊâÄÊúâÁöÑÂ±ûÊÄßÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨ËôöÊãüÂåñÔºåÂç≥Â∞ÜÊØè‰∏™Â±ûÊÄßÂåÖË£ÖÊàê‰∏Ä‰∏™Âè™ËØªÁöÑÊñáÊú¨ËäÇÁÇπ„ÄÇËøô‰∫õÂ±ûÊÄßÁöÑÂÄºÂ∞ÜË¢´Ê∑ªÂä†Âà∞Â±ûÊÄßÂàóË°®‰∏≠Ôºå‰ª•‰æøÂú®ËôöÊãüDOMÂåñËøáÁ®ã‰∏≠ËøõË°åÊØîËæÉ„ÄÇ
4. ÂØπ‰∫éÊØè‰∏™ÊñáÊú¨ËäÇÁÇπÔºåÂ∞ÜÂÖ∂Â≠êËäÇÁÇπÔºàÂåÖÊã¨Èó¥Êé•Â≠êËäÇÁÇπÔºâËøõË°åÈÄíÂΩíÂú∞ËôöÊãüÂåñ„ÄÇ
5. Â∞ÜÁªèËøáËôöÊãüÂåñÂ§ÑÁêÜÁöÑËäÇÁÇπËøîÂõûÔºåÂÖ∂‰∏≠ÂåÖÂê´ËäÇÁÇπÊú¨Ë∫´„ÄÅËôöÊãüDOMÂåñÂêéÁöÑËäÇÁÇπ„ÄÅÂ±ûÊÄßÂàóË°®ÂíåÂ≠êËäÇÁÇπÂàóË°®„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑÂÆûÁé∞‰∏ªË¶Å‰æùËµñ‰∫é VirtualDOM Â∫ìÔºåÂÆÉÈÄöËøáÈÄíÂΩíÈÅçÂéÜ DOM Ê†ëÔºåÂ∞ÜÊØè‰∏™ËäÇÁÇπËôöÊãüÂåñÔºåÂπ∂ÁîüÊàê‰∏Ä‰∏™Âè™ËØªÁöÑËôöÊãü DOM Ê†ëÔºåÊúÄÁªàËøîÂõûËøô‰∏™ËôöÊãü DOM Ê†ë„ÄÇ


```
function _VirtualDom_virtualize(node)
{
	// TEXT NODES

	if (node.nodeType === 3)
	{
		return _VirtualDom_text(node.textContent);
	}


	// WEIRD NODES

	if (node.nodeType !== 1)
	{
		return _VirtualDom_text('');
	}


	// ELEMENT NODES

	var attrList = _List_Nil;
	var attrs = node.attributes;
	for (var i = attrs.length; i--; )
	{
		var attr = attrs[i];
		var name = attr.name;
		var value = attr.value;
		attrList = _List_Cons( A2(_VirtualDom_attribute, name, value), attrList );
	}

	var tag = node.tagName.toLowerCase();
	var kidList = _List_Nil;
	var kids = node.childNodes;

	for (var i = kids.length; i--; )
	{
		kidList = _List_Cons(_VirtualDom_virtualize(kids[i]), kidList);
	}
	return A3(_VirtualDom_node, tag, attrList, kidList);
}

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_VirtualDom_dekey`„ÄÇËØ•ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™Âêç‰∏∫ `keyedNode` ÁöÑËôöÊãü DOM ËäÇÁÇπ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™‰ª£Ë°® `keyedNode` ÂèòÂåñÁöÑÁªìÊûúÁöÑ object„ÄÇ

ËØ•ÂáΩÊï∞È¶ñÂÖàÈÅçÂéÜ `keyedNode` ÁöÑ children ËäÇÁÇπÔºåÂπ∂ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÁªÑÔºåÁî®‰∫éÂ≠òÂÇ® `keyedNode` ÁöÑ children„ÄÇÁÑ∂ÂêéÔºåËØ•ÂáΩÊï∞ÈÅçÂéÜ `keyedNode` ÁöÑ children ËäÇÁÇπÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨ÁöÑ `value` Â±ûÊÄßÂ≠òÂÇ®Âà∞Êñ∞Êï∞ÁªÑ‰∏≠„ÄÇÊúÄÂêéÔºåËØ•ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ objectÔºåÂåÖÂê´‰∫î‰∏™Â±ûÊÄßÔºö`$`„ÄÅ`c`„ÄÅ`d`„ÄÅ`e` Âíå `f`Ôºå‰ª•Âèä‰∏Ä‰∏™Âêç‰∏∫ `b` ÁöÑÂ±ûÊÄßÔºåÂÖ∂ÂÄº‰∏∫ `keyedNode` ÁöÑ `data` Â±ûÊÄß„ÄÇ

ÊÄª‰πãÔºåËØ•ÂáΩÊï∞ÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØÂ∞Ü‰ªé `keyedNode` ÁöÑ children ËäÇÁÇπ‰∏≠ÊèêÂèñÂá∫Êù•ÁöÑÂÜÖÂÆπÂ≠òÂÇ®Âà∞‰∏Ä‰∏™Êñ∞Êï∞ÁªÑ‰∏≠ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™‰ª£Ë°® `keyedNode` ÂèòÂåñÁöÑÁªìÊûúÁöÑ object„ÄÇ


```
function _VirtualDom_dekey(keyedNode)
{
	var keyedKids = keyedNode.e;
	var len = keyedKids.length;
	var kids = new Array(len);
	for (var i = 0; i < len; i++)
	{
		kids[i] = keyedKids[i].b;
	}

	return {
		$: 1,
		c: keyedNode.c,
		d: keyedNode.d,
		e: kids,
		f: keyedNode.f,
		b: keyedNode.b
	};
}




```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫_Debugger_elementÁöÑÂèòÈáèÔºåÂÖ∂‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™JavaScriptÂÖÉÁ¥†ÔºåÂπ∂‰∏îÂú®Ë∞ÉËØïÂô®‰∏≠Â∞ÜÂÖ∂ÊåÇËΩΩÂà∞È°µÈù¢‰∏ä„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑÂÆûÁé∞‰æùËµñ‰∫éJavaScriptÁöÑ`_Platform_initialize`ÂáΩÊï∞„ÄÅ`_Browser_makeAnimator`ÂáΩÊï∞Âíå`_VirtualDom_virtualize`ÂáΩÊï∞„ÄÇÈÄöËøáËøô‰∫õÂáΩÊï∞ÔºåÂ∞ÜÈ°µÈù¢‰∏äÁöÑ‰∏ÄÈÉ®ÂàÜËôöÊãüÊàêDOMËäÇÁÇπÔºåÂπ∂‰∏îÂèØ‰ª•ÂØπÂÖ∂ËøõË°åÂä®ÁîªÊìç‰Ωú„ÄÇÁÑ∂ÂêéÔºåÈÄöËøá`_VirtualDom_diff`ÂáΩÊï∞Âíå`_VirtualDom_applyPatches`ÂáΩÊï∞ÔºåÂ∞ÜËôöÊãüDOMËäÇÁÇπ‰∏éÁúüÂÆûÁöÑDOMËäÇÁÇπËøõË°åÂ∑ÆÂºÇÊØîËæÉÔºåÂπ∂Ê†πÊçÆÈúÄË¶ÅÂ∫îÁî®Ë°•‰∏Å„ÄÇÊúÄÂêéÔºåÈÄöËøá`sendToApp`ÂèÇÊï∞ÔºåÂ∞ÜÊúÄÁªàÁöÑDOMËäÇÁÇπÂèëÈÄÅÁªôË∞ÉËØïÂô®„ÄÇ

Êï¥‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®Ë∞ÉËØïÂô®‰∏≠ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂÖÉÁ¥†ÔºåÂπ∂‰∏îÂ∞ÜÂÖ∂Ê∑ªÂä†Âà∞È°µÈù¢‰∏äÔºå‰ª•‰æøËøõË°åË∞ÉËØïÂíåÊü•Áúã‰ª£Á†ÅÁöÑËøêË°åÊÉÖÂÜµ„ÄÇ


```
// ELEMENT


var _Debugger_element;

var _Browser_element = _Debugger_element || F4(function(impl, flagDecoder, debugMetadata, args)
{
	return _Platform_initialize(
		flagDecoder,
		args,
		impl.aB,
		impl.aJ,
		impl.aH,
		function(sendToApp, initialModel) {
			var view = impl.aK;
			/**/
			var domNode = args['node'];
			//*/
			/**_UNUSED/
			var domNode = args && args['node'] ? args['node'] : _Debug_crash(0);
			//*/
			var currNode = _VirtualDom_virtualize(domNode);

			return _Browser_makeAnimator(initialModel, function(model)
			{
				var nextNode = view(model);
				var patches = _VirtualDom_diff(currNode, nextNode);
				domNode = _VirtualDom_applyPatches(domNode, currNode, patches, sendToApp);
				currNode = nextNode;
			});
		}
	);
});



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫`_Debugger_document`ÁöÑÂèòÈáèÔºåÂπ∂Â∞ÜÂÖ∂Â£∞Êòé‰∏∫`var _Debugger_document`„ÄÇÂÖ∂‰ΩúÁî®ÊòØÂ∞Ü`_Platform_initialize`ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô`F4`ÂáΩÊï∞Ôºå‰ªéËÄåÂÆûÁé∞Ë∞ÉËØïÂô®ÂàùÂßãÂåñÊó∂ÊâßË°å‰∏Ä‰∫õÊìç‰Ωú„ÄÇ

`F4`ÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÂëΩÂêçÂáΩÊï∞ÔºåÂÖ∂Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÊàñÂØπË±°ÔºåÁî®‰∫é‰º†ÈÄíÂ§ö‰∏™ÂèÇÊï∞„ÄÇÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂèØÈÄâÁöÑÂèÇÊï∞ÂàóË°®ÔºåÁî®‰∫éÊé•Êî∂ÂáΩÊï∞ÊàñÂØπË±°„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®Ëøô‰∫õÂèÇÊï∞Êù•ÊâßË°åÁõ∏Â∫îÁöÑÊìç‰Ωú„ÄÇ

`_Platform_initialize`ÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÁî®‰∫éÂú®Êìç‰ΩúÁ≥ªÁªüÂàùÂßãÂåñÊó∂ÊâßË°å‰∏Ä‰∫õÊìç‰Ωú„ÄÇËØ•ÂáΩÊï∞ÁöÑÂÆûÁé∞‰∏≠ÂåÖÂê´‰∏Ä‰∫õ`||`ÈÄªËæëÔºåÁî®‰∫éÂ∞ÜÂ§ö‰∏™Êù°‰ª∂ÂêåÊó∂Êª°Ë∂≥Êó∂ÊâßË°åÂÖ∑‰ΩìÁöÑÊìç‰Ωú„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂ¶ÇÊûú`_Debugger_document`Â≠òÂú®ÔºåÂàôÊâßË°å‰∏Ä‰∫õË∞ÉËØïÂô®ÂàùÂßãÂåñÊìç‰ΩúÔºõÂê¶ÂàôÔºåÂ∞ùËØï‰ªé`F4`ÂáΩÊï∞‰∏≠‰º†ÈÄíÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏≠ÊâßË°å‰∏Ä‰∫õÊìç‰Ωú„ÄÇ

Â¶ÇÊûú`_Debugger_document`‰∏çÂ≠òÂú®ÔºåÂàôÂ∞ùËØï‰ΩøÁî®Êìç‰ΩúÁ≥ªÁªüÂàùÂßãÂåñÊó∂ÊâßË°å‰∏Ä‰∫õÊìç‰Ωú„ÄÇËøô‰∫õÊìç‰ΩúÂèØËÉΩÂåÖÊã¨ÂàùÂßãÂåñÊìç‰ΩúÁ≥ªÁªü„ÄÅËÆæÁΩÆË∞ÉËØïÂô®ÂíåÂêØÂä®Ë∞ÉËØïÂô®Á≠â„ÄÇ


```
// DOCUMENT


var _Debugger_document;

var _Browser_document = _Debugger_document || F4(function(impl, flagDecoder, debugMetadata, args)
{
	return _Platform_initialize(
		flagDecoder,
		args,
		impl.aB,
		impl.aJ,
		impl.aH,
		function(sendToApp, initialModel) {
			var divertHrefToApp = impl.P && impl.P(sendToApp)
			var view = impl.aK;
			var title = _VirtualDom_doc.title;
			var bodyNode = _VirtualDom_doc.body;
			var currNode = _VirtualDom_virtualize(bodyNode);
			return _Browser_makeAnimator(initialModel, function(model)
			{
				_VirtualDom_divertHrefToApp = divertHrefToApp;
				var doc = view(model);
				var nextNode = _VirtualDom_node('body')(_List_Nil)(doc.au);
				var patches = _VirtualDom_diff(currNode, nextNode);
				bodyNode = _VirtualDom_applyPatches(bodyNode, currNode, patches, sendToApp);
				currNode = nextNode;
				_VirtualDom_divertHrefToApp = 0;
				(title !== doc.aI) && (_VirtualDom_doc.title = title = doc.aI);
			});
		}
	);
});



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞Ôºö`cancelAnimationFrame` Âíå `requestAnimationFrame`Ôºå‰ª•Âèä‰∏Ä‰∏™Âêç‰∏∫ `_Browser_makeAnimator` ÁöÑÂáΩÊï∞„ÄÇÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö

1. `cancelAnimationFrame`ÔºöËøôÊòØ‰∏Ä‰∏™ÊµèËßàÂô®ÂéüÁîüÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÂºπÂá∫‰∏Ä‰∏™Ë≠¶ÂëäÊ°ÜÔºåÂëäÁü•Áî®Êà∑‰ªñ‰ª¨ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅËøô‰∏™ÂáΩÊï∞ÔºåÁÑ∂ÂêéÂÅúÊ≠¢ÊâßË°åÈô§ `requestAnimationFrame` ‰ª•Â§ñÁöÑ‰ªª‰ΩïÂä®Áîª„ÄÇ

2. `requestAnimationFrame`ÔºöËøô‰πüÊòØ‰∏Ä‰∏™ÊµèËßàÂô®ÂéüÁîüÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÂêëÊµèËßàÂô®ÊúçÂä°Âô®ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±ÇÔºåË¶ÅÊ±Ç‰ª•‰∏çÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™åÁöÑÊñπÂºèÁªßÁª≠ÊâßË°åÊüê‰∏™Âä®ÁîªÔºåÁÑ∂ÂêéËøîÂõûËØ•Âä®ÁîªÁªßÁª≠ÊâßË°åÁöÑÊó∂Èó¥„ÄÇÊ≥®ÊÑèÔºåËøô‰∏™ÂáΩÊï∞ÊúâÂèØËÉΩÂõ†‰∏∫ÊµèËßàÂô®ÁºìÂ≠òÊàñÁΩëÁªúÈóÆÈ¢òÂ§±Ë¥•„ÄÇ

3. `_Browser_makeAnimator`ÔºöËøô‰∏™ÂáΩÊï∞Êé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö`model` Âíå `draw`„ÄÇÂÆÉÊ†πÊçÆËøô‰∏§‰∏™ÂèÇÊï∞Âà§Êñ≠Âä®ÁîªÁä∂ÊÄÅÔºåÁÑ∂ÂêéÊâßË°åÁõ∏Â∫îÁöÑÂä®ÁîªÊìç‰Ωú„ÄÇÂä®ÁîªÁä∂ÊÄÅÁöÑÂà§Êñ≠Ê†πÊçÆÂΩìÂâçÊâßË°åÁöÑÂáΩÊï∞ÊòØÂêåÊ≠•ËØ∑Ê±ÇËøòÊòØÂºÇÊ≠•ËØ∑Ê±ÇÔºå‰ª•ÂèäÊòØÂê¶ÊúâËØ∑Ê±ÇÂª∂Ëøü„ÄÇ

ÊÄª‰ΩìÊù•ËØ¥ÔºåËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∫õÁî®‰∫éÂú®ÊµèËßàÂô®‰∏≠ÂÆûÁé∞Âä®ÁîªÁöÑÂáΩÊï∞ÂíåÂèòÈáèÔºå‰ª•ÂèäÂà§Êñ≠Âä®ÁîªÁä∂ÊÄÅÁöÑÈÄªËæë„ÄÇ


```
// ANIMATION


var _Browser_cancelAnimationFrame =
	typeof cancelAnimationFrame !== 'undefined'
		? cancelAnimationFrame
		: function(id) { clearTimeout(id); };

var _Browser_requestAnimationFrame =
	typeof requestAnimationFrame !== 'undefined'
		? requestAnimationFrame
		: function(callback) { return setTimeout(callback, 1000 / 60); };


function _Browser_makeAnimator(model, draw)
{
	draw(model);

	var state = 0;

	function updateIfNeeded()
	{
		state = state === 1
			? 0
			: ( _Browser_requestAnimationFrame(updateIfNeeded), draw(model), 1 );
	}

	return function(nextModel, isSync)
	{
		model = nextModel;

		isSync
			? ( draw(model),
				state === 2 && (state = 1)
				)
			: ( state === 0 && _Browser_requestAnimationFrame(updateIfNeeded),
				state = 2
				);
	};
}



```

This looks like JavaScript code that modifies the behavior of the browser's built-in Back button. When clicked, it opens a new URL in a new tab, or updates the current URL if the user was logged in before.

It uses the getUrl method to get the current URL, and adds an event listener for the 'popstate' event, which is fired when the user navigates through a link. When the event is triggered, it sets the aE property of the plugin object, which is a standard property for disabling the Back button.

It also defines a key function, which appears to be setting up a click event listener for the 'browser' object, and defines the default key for the function using 'k':
```
var key = function() { key.a(onUrlChange(_Browser_getUrl())); };
```
It appears that the key function is setting up a click event listener for the 'browser' object, and is passing the `onUrlChange` function as an argument, which appears to be a function that updates the current URL when the user clicks the Back button.

It further defines the event listener for the 'browser' object using the `key` function, which appears to be a function that sets up a click event listener for the 'browser' object:
```
key.a = sendToApp;
```
It appears that the `sendToApp` variable is being passed to the `key.a` function, which is then passed to the `sendToApp` function, which is the function that updates the current URL.

It also appears that the `_Browser_document` function is being used to retrieve the document object, and the `_Browser_window` object, and the `addEventListener` function is being used to add the event listener for the 'popstate' event.

It is also using the `F2` function to function as a closure, this function is likely not defined in the code snippet provided.
```
var event = F2(function(domNode, event)
{
   if (!event.ctrlKey && !event.metaKey && !event.shiftKey && event.button < 1 && !domNode.target && !domNode.hasAttribute('download'))
   {
       event.preventDefault();
       var href = domNode.href;
       var curr = _Browser_getUrl();
       var next = $elm$url$Url$fromString(href).a;
       sendToApp(onUrlRequest(
           (next
               && curr.ah === next.ah
               && curr.Z === next.Z
               && curr.ae.a === next.ae.a
               && event.button === 1)
               ? $elm$browser$Browser$Internal(next)
               : $elm$browser$Browser$External(href)
               );
       });
   }
});
```
This code appears to be using the `$elm$browser$Browser$Internal` and `$elm$browser$Browser$External` functions to check if the clicked on a link or the Back button.
It appears that the event listener is checking if the user clicked on the Back button or if the user has pressed the Back key, and if either of those conditions are true it will call the `sendToApp` function and pass it the current url.

It also appears that the `key.a` function is defined in the code snippet, but it is not visible as it is not passed as an argument to the `F2` function.
It appears that this function is setting up a click event listener for the 'browser' object, and is likely setting up the current URL as the parameter passed to the `onUrlRequest` function.


```
// APPLICATION


function _Browser_application(impl)
{
	var onUrlChange = impl.aD;
	var onUrlRequest = impl.aE;
	var key = function() { key.a(onUrlChange(_Browser_getUrl())); };

	return _Browser_document({
		P: function(sendToApp)
		{
			key.a = sendToApp;
			_Browser_window.addEventListener('popstate', key);
			_Browser_window.navigator.userAgent.indexOf('Trident') < 0 || _Browser_window.addEventListener('hashchange', key);

			return F2(function(domNode, event)
			{
				if (!event.ctrlKey && !event.metaKey && !event.shiftKey && event.button < 1 && !domNode.target && !domNode.hasAttribute('download'))
				{
					event.preventDefault();
					var href = domNode.href;
					var curr = _Browser_getUrl();
					var next = $elm$url$Url$fromString(href).a;
					sendToApp(onUrlRequest(
						(next
							&& curr.ah === next.ah
							&& curr.Z === next.Z
							&& curr.ae.a === next.ae.a
						)
							? $elm$browser$Browser$Internal(next)
							: $elm$browser$Browser$External(href)
					));
				}
			});
		},
		aB: function(flags)
		{
			return A3(impl.aB, flags, _Browser_getUrl(), key);
		},
		aK: impl.aK,
		aJ: impl.aJ,
		aH: impl.aH
	});
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞Ôºö`_Browser_getUrl()` Âíå `_Browser_pushUrl()`„ÄÇÂÆÉ‰ª¨ÈÉΩ‰ΩøÁî®‰∫Ü `_VirtualDom_doc` ‰Ωú‰∏∫ÂáΩÊï∞ÂÜÖÈÉ®ÁöÑÂèòÈáè„ÄÇ

`_Browser_getUrl()` ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØËé∑ÂèñÂΩìÂâçÈ°µÈù¢ÁöÑ URLÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÈìæÊé•„ÄÇÂÆÉÈ¶ñÂÖà‰ªé `_VirtualDom_doc` ÂØπË±°‰∏≠ÁöÑ `location.href` Â±ûÊÄßËé∑ÂèñÈ°µÈù¢ÈìæÊé•ÔºåÁÑ∂Âêé‰ΩøÁî® `a` Â±ûÊÄßËøõË°åËß£ÊûêÔºåÂ¶ÇÊûúËß£ÊûêÊàêÂäüÂàôËøîÂõûÈìæÊé•ÔºåÂê¶ÂàôËøîÂõû‰∏Ä‰∏™ÈîôËØØ‰ø°ÊÅØ„ÄÇ

`_Browser_pushUrl()` ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞ÜÂΩìÂâçÈ°µÈù¢ÁßªÂä®Âà∞‰∏Ä‰∏™Êñ∞ÁöÑ URLÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Áî®‰∫éÂØºËà™Ê†èÈìæÊé•ÁöÑÊ†ºÂºèÂåñ URL„ÄÇÂÆÉÈ¶ñÂÖà‰ΩøÁî® `_Scheduler_binding` Á∫¶ÊùüÁ°Æ‰øù `history.pushState()` ÂáΩÊï∞Ê≠£Â∏∏Â∑•‰ΩúÔºåÁÑ∂Âêé‰ΩøÁî® `history.push()` ÂáΩÊï∞Â∞ÜÂΩìÂâçÈ°µÈù¢ÁßªÂä®Âà∞ÊåáÂÆöÁöÑ URL„ÄÇÁßªÂä®ÊàêÂäüÂêéÔºåÂÆÉËøîÂõû‰∏Ä‰∏™Ê†ºÂºèÂåñÂ•ΩÁöÑ URLÔºåËØ• URL Â∞ÜÂåÖÂê´ÂΩìÂâçÈ°µÈù¢ÁöÑË∑ØÂæÑ„ÄÇ


```
function _Browser_getUrl()
{
	return $elm$url$Url$fromString(_VirtualDom_doc.location.href).a || _Debug_crash(1);
}

var _Browser_go = F2(function(key, n)
{
	return A2($elm$core$Task$perform, $elm$core$Basics$never, _Scheduler_binding(function() {
		n && history.go(n);
		key();
	}));
});

var _Browser_pushUrl = F2(function(key, url)
{
	return A2($elm$core$Task$perform, $elm$core$Basics$never, _Scheduler_binding(function() {
		history.pushState({}, '', url);
		key();
	}));
});

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫`_Browser_replaceUrl`ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éÂú®È°µÈù¢‰∏äÊõøÊç¢‰∏Ä‰∏™ÊåáÂÆöÁöÑURL„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®Ôºå‰ΩøÁî®JavaScriptÁöÑ`F2`ÂáΩÊï∞ÔºàÂç≥Function 2ÔºâÂÆûÁé∞‰∫ÜÂºÇÊ≠•Êìç‰ΩúÔºåÂ∞Ü‰∏Ä‰∏™ÂèÇÊï∞`key`Âíå‰∏Ä‰∏™URL‰Ωú‰∏∫ÂèÇÊï∞„ÄÇÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞ÊâßË°å‰∫Ü‰ª•‰∏ãÊìç‰ΩúÔºö

1. ‰ΩøÁî®`document.createElement('a')`ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÈìæÊé•ÂÖÉÁ¥†`link`ÔºåÂπ∂ËÆæÁΩÆÂÆÉÁöÑ`href`Â±ûÊÄß‰∏∫`url`„ÄÇ
2. ‰ΩøÁî®`link.href = url`Â∞ÜÈìæÊé•ÂÖÉÁ¥†ÁöÑ`href`Â±ûÊÄßËÆæÁΩÆ‰∏∫ÊåáÂÆöÁöÑURL„ÄÇ
3. Ë∞ÉÁî®‰∏Ä‰∏™Âêç‰∏∫`history.replaceState`ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Áî®‰∫éÂú®ÂΩìÂâçÈ°µÈù¢‰∏äÊõøÊç¢ÊåáÂÆöÁöÑURL„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂåÖÂê´Êñ∞URLÂíåÊñ∞Áä∂ÊÄÅÁöÑ objectsÔºåÁ¨¨‰∫åÂèÇÊï∞ÊòØ‰∏Ä‰∏™Á©∫Â≠óÁ¨¶‰∏≤ÔºåÁî®‰∫éËÆæÁΩÆÊñ∞ÁöÑÁä∂ÊÄÅ„ÄÇ
4. Ë∞ÉÁî®ÂáΩÊï∞ÂÜÖÈÉ®ÁöÑ‰∏Ä‰∏™Á©∫ÂáΩÊï∞Ôºå‰Ωú‰∏∫ÂõûË∞ÉÔºåËØ•ÂáΩÊï∞ÊâßË°å‰∫Ü‰ª•‰∏ãÊìç‰ΩúÔºö
  a. `console.log('Ê≠£Âú®ÊâßË°åÊõøÊç¢Êìç‰Ωú')`ÔºåÁî®‰∫éÂú®Êó•Âøó‰∏≠ËÆ∞ÂΩïÊõøÊç¢Êìç‰ΩúÁöÑÊâßË°åÊÉÖÂÜµ„ÄÇ
  b. `this.$elm$core$Task$perform`Ôºå‰ΩøÁî®$$(elm\_core\Task\perform)()`ÂÆûÁé∞‰∫ÜÂºÇÊ≠•Êìç‰ΩúÔºå‰Ωø‰ª£Á†ÅÊâßË°åÊõ¥Âä†È´òÊïà„ÄÇ
  c. `this.$elm$core$Basics$never`ÔºåÁî®‰∫éÈò≤Ê≠¢‰∫ã‰ª∂ÂÜíÊ≥°„ÄÇ
  d. `_Scheduler_binding(function() {`ÔºåÁî®‰∫éÁªëÂÆö‰∏Ä‰∏™ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Â∞±ÊòØ‰∏äÈù¢ÊâßË°åÁöÑÊìç‰ΩúÁöÑÂõûË∞É„ÄÇ

ËøôÊÆµ‰ª£Á†ÅÁöÑ‰ΩúÁî®ÊòØÂú®È°µÈù¢‰∏äÊâßË°å‰∏Ä‰∏™ÂºÇÊ≠•Êìç‰ΩúÔºåÂ∞ÜÊåáÂÆöÁöÑURLÊõøÊç¢‰∏∫ÂΩìÂâçÈ°µÈù¢‰∏äÁöÑ‰∏Ä‰∏™ÊåáÂÆöÁöÑURL„ÄÇ


```
var _Browser_replaceUrl = F2(function(key, url)
{
	return A2($elm$core$Task$perform, $elm$core$Basics$never, _Scheduler_binding(function() {
		history.replaceState({}, '', url);
		key();
	}));
});



// GLOBAL EVENTS


var _Browser_fakeNode = { addEventListener: function() {}, removeEventListener: function() {} };
var _Browser_doc = typeof document !== 'undefined' ? document : _Browser_fakeNode;
```

ËøôÊÆµ‰ª£Á†ÅÁöÑ‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™ÊµèËßàÂô®Á™óÂè£ÔºåÂπ∂Âú®Á™óÂè£‰∏äÊ∑ªÂä†‰∏Ä‰∏™‰∫ã‰ª∂ÁõëÂê¨Âô®„ÄÇÂΩìÊúâ‰∫ã‰ª∂ÂèëÁîüÊó∂ÔºåÂÆÉÂ∞ÜË∞ÉÁî®‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞Â§ÑÁêÜ‰∫ã‰ª∂ÔºåÂπ∂Â∞Ü‰∫ã‰ª∂‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôËØ•ÂáΩÊï∞„ÄÇÂÜÖÈÉ®ÂáΩÊï∞Â∞Ü‰ΩøÁî®_Scheduler_spawnÂáΩÊï∞ÂèëÂ∞Ñ‰∏Ä‰∏™‰ªªÂä°ÔºåËØ•‰ªªÂä°Â∞ÜË∞ÉÁî®‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞Â§ÑÁêÜ‰∫ã‰ª∂„ÄÇÂÜÖÈÉ®ÂáΩÊï∞Â∞Ü‰∫ã‰ª∂‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôÂ§ÑÁêÜÁ®ãÂ∫èÔºåÂπ∂‰ΩøÁî®_VirtualDom_passiveSupportedÈÄâÈ°πËÆæÁΩÆ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫è‰∏∫ÈùôÈªòÊ®°ÂºèÔºåÂç≥‰∏ç‰ºöÈòªÊ≠¢‰∫ã‰ª∂ÂÜíÊ≥°„ÄÇÂΩì‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èËøîÂõûÊó∂ÔºåÂ∞ÜË∞ÉÁî®‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Â∞ÜÂà†Èô§Ê∑ªÂä†ÁöÑ‰∫ã‰ª∂ÁõëÂê¨Âô®„ÄÇ

‰ª•‰∏ãÊòØ‰ª£Á†ÅÁöÑÊõ¥ËØ¶ÁªÜËß£ÈáäÔºö

- var _Browser_window = typeof window !== 'undefined' ? window : _Browser_fakeNode;

- var _Browser_on = F3(function(node, eventName, sendToSelf)

- ËøôÈáåÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âêç‰∏∫_Browser_onÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÔºåÂÆÉÊé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºönode„ÄÅeventNameÂíåsendToSelf„ÄÇ

- var _Scheduler_spawn = F3(function(node, eventName, sendToSelf)

- ËøôÈáåÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âêç‰∏∫_Scheduler_spawnÁöÑÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºönode„ÄÅeventNameÂíåsendToSelf„ÄÇ

- ËøôÈáåÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âêç‰∏∫_Scheduler_decodeEventÁöÑÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºödecoderÂíåevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöresultÂíåevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöresultÂíåevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöresultÂíåevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöresult„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºösendToSelf„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöeventName„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºöevent„ÄÇ

- ËøôÈáåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™


```
var _Browser_window = typeof window !== 'undefined' ? window : _Browser_fakeNode;

var _Browser_on = F3(function(node, eventName, sendToSelf)
{
	return _Scheduler_spawn(_Scheduler_binding(function(callback)
	{
		function handler(event)	{ _Scheduler_rawSpawn(sendToSelf(event)); }
		node.addEventListener(eventName, handler, _VirtualDom_passiveSupported && { passive: true });
		return function() { node.removeEventListener(eventName, handler); };
	}));
});

var _Browser_decodeEvent = F2(function(decoder, event)
{
	var result = _Json_runHelp(decoder, event);
	return $elm$core$Result$isOk(result) ? $elm$core$Maybe$Just(result.a) : $elm$core$Maybe$Nothing;
});



```

ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏Ä‰∏™JScriptËá™ÂÆö‰πâÂáΩÊï∞ÔºåÂêç‰∏∫`_Browser_visibilityInfo`„ÄÇÂÆÉËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´‰ª•‰∏ãÂá†‰∏™Â±ûÊÄßÔºö

- `az`ÔºöAzure Virtualizer‰∏≠ÁöÑÂèØËßÅÊÄßÔºàvisible or hideÔºâ„ÄÇ
- `av`ÔºöAzure Virtualizer‰∏≠ÁöÑÈÄöÁü•Á±ªÂûãÔºåÂΩìÂèØËßÅÊÄßÂèëÁîüÊó∂ÔºåËØ•ÈÄöÁü•ÁöÑÁ±ªÂûã„ÄÇÂØπ‰∫é`hidden`ÔºåÈÄöÁü•Á±ªÂûã‰∏∫`visible`ÔºõÂØπ‰∫é`mozHidden`ÔºåÈÄöÁü•Á±ªÂûã‰∏∫`hidden`ÔºõÂØπ‰∫é`msHidden`ÔºåÈÄöÁü•Á±ªÂûã‰∏∫`hidden`ÔºõÂØπ‰∫é`webkitHidden`ÔºåÈÄöÁü•Á±ªÂûã‰∏∫`hidden`„ÄÇ
- `ms`ÔºöAzure Virtualizer‰∏≠ÁöÑÁßªÂä®ËÆæÂ§áÂÖºÂÆπÊÄßÔºàmobile or touchÔºâ„ÄÇ
- `ec`ÔºöAzure Virtualizer‰∏≠ÁöÑÊµèËßàÂô®ÂÖºÂÆπÊÄßÔºàie7 or ie8 or ie9 or ie10 or ie11Ôºâ„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Â§ö‰∏™Â±ûÊÄßÁöÑÂØπË±°ÔºåÁî®‰∫éÂú®È°µÈù¢‰∏≠ËÆæÁΩÆÊàñËé∑ÂèñÂØπË±°ÁöÑÂèØËßÅÊÄß‰ø°ÊÅØ„ÄÇÂÆÉÊ†πÊçÆ‰∏çÂêåÁöÑÊµèËßàÂô®ÂíåÁßªÂä®ËÆæÂ§áÁ±ªÂûãÔºåËøîÂõû‰∏çÂêåÁöÑÂ±ûÊÄßÂÄºÔºå‰ΩøÂæóJavaScript‰ª£Á†ÅËÉΩÂ§üÊõ¥Â•ΩÂú∞ÈÄÇÂ∫î‰∏çÂêåÁéØÂ¢É„ÄÇ


```
// PAGE VISIBILITY


function _Browser_visibilityInfo()
{
	return (typeof _VirtualDom_doc.hidden !== 'undefined')
		? { az: 'hidden', av: 'visibilitychange' }
		:
	(typeof _VirtualDom_doc.mozHidden !== 'undefined')
		? { az: 'mozHidden', av: 'mozvisibilitychange' }
		:
	(typeof _VirtualDom_doc.msHidden !== 'undefined')
		? { az: 'msHidden', av: 'msvisibilitychange' }
		:
	(typeof _VirtualDom_doc.webkitHidden !== 'undefined')
		? { az: 'webkitHidden', av: 'webkitvisibilitychange' }
		: { az: 'hidden', av: 'visibilitychange' };
}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Browser_rAF` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÂàõÂª∫‰∏Ä‰∏™Âä®ÁîªÊ°ÜÊû∂ÔºåËÆ©ÁΩëÁ´ôÁöÑÂä®ÁîªÊõ¥Âä†ÊµÅÁïÖ„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®È°µÈù¢‰∏äÂàõÂª∫‰∏Ä‰∏™Âä®ÁîªÊ°ÜÊû∂ÔºåÁÑ∂ÂêéÂú®Ê≠£Á°ÆÁöÑÊó∂Êú∫ÂÅúÊ≠¢Âä®Áîª„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøô‰∏™ÂáΩÊï∞ÂÜÖÈÉ®Ë∞ÉÁî®‰∫Ü‰∏§‰∏™ÂáΩÊï∞Ôºö`_Scheduler_binding` Âíå `_Scheduler_succeed`„ÄÇËøô‰∏§‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®Âä®ÁîªÂºÄÂßãÂâçÂíåÂä®ÁîªÁªìÊùüÂêéÂàÜÂà´Ë∞ÉÁî® `callback` ÂáΩÊï∞ÔºåÂàÜÂà´ËÆæÁΩÆÂä®ÁîªÁöÑÂª∂ËøüÊó∂Èó¥ÂíåÁªßÁª≠ÊâßË°åÁöÑÊù°‰ª∂„ÄÇ

ÁÑ∂ÂêéÔºåÂáΩÊï∞ÂÜÖÈÉ®ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÔºåËøô‰∏™Êñ∞ÂáΩÊï∞‰ºöÊØèÈöî `Math.random()` ÊØ´ÁßíÂú®È°µÈù¢‰∏äÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂä®ÁîªÊ°ÜÊû∂„ÄÇÂΩìÊñ∞ÁöÑÂä®ÁîªÊ°ÜÊû∂ÂàõÂª∫ÊàêÂäüÂêéÔºåÂÆÉ‰ºöÂú®Ê≠£Á°ÆÁöÑÊó∂Êú∫ÂÅúÊ≠¢Âä®ÁîªÂπ∂ÈîÄÊØÅÂÆÉ„ÄÇ

ÊÄªÁöÑÊù•ËØ¥ÔºåËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊèêÈ´òÁΩëÁ´ôÁöÑÂä®ÁîªÊÄßËÉΩÔºå‰ΩøÂä®ÁîªÊõ¥Âä†ÊµÅÁïÖÂíåËá™ÁÑ∂„ÄÇ


```
// ANIMATION FRAMES


function _Browser_rAF()
{
	return _Scheduler_binding(function(callback)
	{
		var id = _Browser_requestAnimationFrame(function() {
			callback(_Scheduler_succeed(Date.now()));
		});

		return function() {
			_Browser_cancelAnimationFrame(id);
		};
	});
}


```

ËøôÊòØ‰∏Ä‰∏™JavaScriptÂáΩÊï∞ÔºåÂêç‰∏∫_Browser_nowÔºå‰ΩÜËØ∑‰∏çË¶ÅÂú®ÊµèËßàÂô®‰∏≠ËøêË°åÂÆÉÔºåÂõ†‰∏∫ÂÆÉÂ±û‰∫éÂÜÖÈÉ®ÂáΩÊï∞Ôºå‰∏ç‰ºöÂØπÊµèËßàÂô®‰∫ßÁîü‰ªª‰ΩïÂèØËßÅÁöÑ‰∫§‰∫í‰ΩúÁî®„ÄÇ

ÂÆÉÂÜÖÈÉ®‰ΩøÁî®‰∫ÜSchedulerÂ∫ìÔºåÂÆÉÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑJavaScriptÂ∫ìÔºåÁî®‰∫éÁÆ°ÁêÜÂä®ÁîªÂíå‰∫ã‰ª∂ÈòüÂàó„ÄÇSchedulerÂ∫ìÂèØ‰ª•‰øùËØÅË∑®ÂüüÂºÇÊ≠•ËØ∑Ê±ÇÁöÑÊèê‰∫§ÔºåÈò≤Ê≠¢ÂÜÖÈÉ®ÂáΩÊï∞Âõ†Âë®ÊúüÂÜÖÊ≤°ÊúâÂìçÂ∫îËÄåÂç°Ê≠ªÔºåÊèê‰æõ‰∫Ü‰∏ÄÂÆöÁöÑÂáΩÊï∞ÂºèÁºñÁ®ãÈ£éÊ†º„ÄÇ

‰ΩÜËØ∑Ê≥®ÊÑèÔºåËøô‰∏™ÂáΩÊï∞ÂèØËÉΩ‰ºöÂØπÊüê‰∫õËÄÅÁöÑ„ÄÅ‰∏çÊîØÊåÅSchedulerÁöÑÊµèËßàÂô®‰∫ßÁîü‰∏çÂèØÈ¢ÑÊµãÁöÑË°å‰∏∫ÔºåÂõ†‰∏∫ÂÆÉ‰ΩøÁî®‰∫ÜSchedulerÁöÑ‰∏Ä‰∫õÁâπÊÄßÔºåËøô‰∫õÁâπÊÄßÂú®Êú™Êù•ÁöÑÁâàÊú¨‰∏≠ÂèØËÉΩË¢´Â∫üÂºÉ„ÄÇÊâÄ‰ª•ÔºåÂú® productionÁéØÂ¢É‰∏≠Ôºå‰Ω†Â∫îËØ•ÈÅøÂÖç‰ΩøÁî®Ëøô‰∏™ÂáΩÊï∞Ôºå‰ª•Á°Æ‰øù‰Ω†ÁöÑ‰ª£Á†ÅÂú®ÊâÄÊúâÊµèËßàÂô®‰∏≠ÈÉΩËÉΩÊ≠£Â∏∏ËøêË°å„ÄÇ


```
function _Browser_now()
{
	return _Scheduler_binding(function(callback)
	{
		callback(_Scheduler_succeed(Date.now()));
	});
}



// DOM STUFF


function _Browser_withNode(id, doStuff)
{
	return _Scheduler_binding(function(callback)
	{
		_Browser_requestAnimationFrame(function() {
			var node = document.getElementById(id);
			callback(node
				? _Scheduler_succeed(doStuff(node))
				: _Scheduler_fail($elm$browser$Browser$Dom$NotFound(id))
			);
		});
	});
}


```

ËøôÊòØ‰∏Ä‰∏™JavaScriptÂáΩÊï∞ÔºåÂêç‰∏∫`_Browser_withWindow`ÔºåÂÆÉÁî®‰∫éÂú®ÊµèËßàÂô®Á™óÂè£‰∏äËøêË°å‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞`doStuff`„ÄÇ

ËØ•ÂáΩÊï∞‰ΩøÁî®‰∫ÜCSPÔºàË∑®Ê∫êÊó∂ÂüüÔºâÊú∫Âà∂ÔºåÂú®ÂáΩÊï∞ÂÜÖÈÉ®ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âª∂ËøüÂä®ÁîªÂ∏ßÔºå‰ª•ÂÖÅËÆ∏Âú®ÂéüÂßãÂáΩÊï∞ `doStuff` Ë¢´Ë∞ÉÁî®‰πãÂâçÊâßË°åÊìç‰ΩúÁ≥ªÁªüËßÑÂÆöÁöÑÂÆâÂÖ®Êìç‰Ωú„ÄÇ

Âª∂ËøüÂä®ÁîªÂ∏ßÁöÑÊâßË°åÊù°‰ª∂ÊòØÔºåÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®`_Scheduler_binding`ÂàõÂª∫ÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇËøô‰∏™ÂõûË∞ÉÂáΩÊï∞Âú®Âª∂ËøüÂä®ÁîªÂ∏ßËß¶ÂèëÊó∂Ôºå‰ΩøÁî®`_Scheduler_succeed`Ë∞ÉÁî®`doStuff`ÔºåÂπ∂Â∞ÜÂÖ∂ËøîÂõûÁªìÊûúËµãÂÄºÁªô`callback`ÂèÇÊï∞„ÄÇ

ÂáΩÊï∞‰ΩìÂÜÖÈÉ®Ôºå‰ΩøÁî®`_Browser_call`ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞`FOCUS`ÔºåËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÊåáÂÆöÁöÑÁ™óÂè£‰∏äÊâßË°å`doStuff`ÂáΩÊï∞ÔºåÂπ∂ËøîÂõûÂÖ∂ÁªìÊûú„ÄÇ`FOCUS`ÂáΩÊï∞ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÂêçÁß∞ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™‰∏é `doStuff` ÂáΩÊï∞Áõ∏ÂêåÁöÑID„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®ËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ `_Browser_withNode`ÔºåËøô‰∏™ÂáΩÊï∞‰ΩøÁî® `_Browser_call` ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÔºåÂπ∂‰∏î‰ΩøÁî®‰∏Ä‰∏™ passed ÁöÑ `node` ÂèÇÊï∞ÔºåÂú®ÊåáÂÆöÁöÑÁ™óÂè£‰∏äÊâßË°å `doStuff` ÂáΩÊï∞ÔºåÂπ∂ËøîÂõûÂÖ∂ÁªìÊûú„ÄÇ


```
function _Browser_withWindow(doStuff)
{
	return _Scheduler_binding(function(callback)
	{
		_Browser_requestAnimationFrame(function() {
			callback(_Scheduler_succeed(doStuff()));
		});
	});
}


// FOCUS and BLUR


var _Browser_call = F2(function(functionName, id)
{
	return _Browser_withNode(id, function(node) {
		node[functionName]();
		return _Utils_Tuple0;
	});
});



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫`_Browser_getViewport`ÁöÑÂáΩÊï∞ÔºåÂÆÉËøîÂõû‰∫Ü‰∏Ä‰∏™ÂÖ≥‰∫éÊµèËßàÂô®Á™óÂè£ÁöÑÂÖÉÊï∞ÊçÆÁªìÊûÑ„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËØ•ÂáΩÊï∞ËøîÂõûÁöÑÂØπË±°ÂåÖÂê´‰ª•‰∏ãÂ±ûÊÄßÔºö

- `al`ÔºöÊµèËßàÂô®Á™óÂè£ÁöÑÁº©ÊîæÁ∫ßÂà´ÔºåÂèØ‰ª•‰ªé0Âà∞9Áº©Êîæ„ÄÇ
- `aq`ÔºöÊµèËßàÂô®Á™óÂè£Áõ∏ÂØπ‰∫éÂÖ∂ÊúÄËøëÁöÑÂ∑≤Áº©ÊîæÁöÑÁ∫ßÂà´‰∏äÁßªÂä®ÁöÑÂûÇÁõ¥Ë∑ùÁ¶ª„ÄÇ
- `ar`ÔºöÊµèËßàÂô®Á™óÂè£Áõ∏ÂØπ‰∫éÂÖ∂ÊúÄËøëÁöÑÂ∑≤Áº©ÊîæÁöÑÁ∫ßÂà´‰∏äÁßªÂä®ÁöÑÊ∞¥Âπ≥Ë∑ùÁ¶ª„ÄÇ
- `ap`ÔºöÊµèËßàÂô®ÊñáÊ°£Á™óÂè£ÁöÑÂÆΩÂ∫¶„ÄÇ
- `Y`ÔºöÊµèËßàÂô®ÊñáÊ°£Á™óÂè£ÁöÑÈ´òÂ∫¶„ÄÇ

Ëøô‰∫õÂ±ûÊÄßÁöÑÂçï‰ΩçÊòØÂÉèÁ¥†„ÄÇ


```
// WINDOW VIEWPORT


function _Browser_getViewport()
{
	return {
		al: _Browser_getScene(),
		ao: {
			aq: _Browser_window.pageXOffset,
			ar: _Browser_window.pageYOffset,
			ap: _Browser_doc.documentElement.clientWidth,
			Y: _Browser_doc.documentElement.clientHeight
		}
	};
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Browser_getScene` ÁöÑÂáΩÊï∞Ôºå‰ª•Âèä‰∏Ä‰∏™Âêç‰∏∫ `_Browser_setViewport` ÁöÑÂáΩÊï∞„ÄÇÂÆÉ‰ª¨ÁöÑÂäüËÉΩÂ¶Ç‰∏ãÔºö

```
_Browser_getScene(): ËøîÂõûÂΩìÂâçÈ°µÈù¢Âú∫ÊôØ(Âç≥È°µÈù¢ body ÂíåÂÖÉÁ¥†ÁöÑÂûÇÁõ¥ÂíåÁ∫µÂêëÂÆΩÂ∫¶‰πãÂíåÁöÑÊúÄÂ§ßÂÄº)„ÄÇ
_Browser_setViewport(): Â∞ÜÊåáÂÆöÁöÑÁ™óÂè£Â§ßÂ∞èËÆæÁΩÆ‰∏∫ÊµèËßàÂô®Á™óÂè£ÁöÑÂ∞∫ÂØ∏ÔºåÂπ∂ÈôêÂà∂Á™óÂè£ÁöÑÊªöÂä®„ÄÇ
```

ÂÖ∑‰ΩìÊù•ËØ¥Ôºå`_Browser_getScene()` ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØËé∑ÂèñÂΩìÂâçÈ°µÈù¢ÁöÑÂú∫ÊôØÔºåÂåÖÊã¨ÂûÇÁõ¥ÂíåÁ∫µÂêëÊñπÂêëÁöÑÂÆΩÂ∫¶„ÄÇÁÑ∂ÂêéÔºåÂÆÉËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Âõõ‰∏™Â±ûÊÄßÁöÑÂØπË±°ÔºåÂàÜÂà´ÊòØ `ap`„ÄÅ`Y`„ÄÅ`elem.scrollWidth` Âíå `elem.scrollHeight`ÔºåÂàÜÂà´Ë°®Á§∫È°µÈù¢Âú∫ÊôØ‰∏≠ÂûÇÁõ¥ÂíåÁ∫µÂêëÊñπÂêëÁöÑÂÆΩÂ∫¶„ÄÇ

`_Browser_setViewport()` ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∞ÜÊåáÂÆöÁöÑÁ™óÂè£Â§ßÂ∞èËÆæÁΩÆ‰∏∫ÊµèËßàÂô®Á™óÂè£ÁöÑÂ∞∫ÂØ∏ÔºåÂπ∂ÈôêÂà∂Á™óÂè£ÁöÑÊªöÂä®„ÄÇÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Ë°®Á§∫Á™óÂè£Â∞èÁöÑ `x` ÂÄºÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Ë°®Á§∫Á™óÂè£È´òÁöÑ `y` ÂÄº„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî® `_Browser_withWindow()` ÂáΩÊï∞Ëé∑ÂèñÂΩìÂâçÁ™óÂè£ÔºåÁÑ∂Âêé‰ΩøÁî® `_utils_tuple0()` ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Âè™ÂåÖÂê´ `x` Âíå `y` ‰∏§‰∏™ÂÖÉÁ¥†ÁöÑÂÖÉÁªÑ„ÄÇÊúÄÂêéÔºåÂáΩÊï∞‰ΩøÁî® `_browser_window.scroll()` ÊñπÊ≥ïÂ∞ÜÁ™óÂè£ÂêëÊåáÂÆöÊñπÂêëÊªöÂä®ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂÖÉÁªÑÔºåÂÖ∂‰∏≠ÂåÖÂê´ `x` Âíå `y` ‰∏§‰∏™ÂÖÉÁ¥†„ÄÇ


```
function _Browser_getScene()
{
	var body = _Browser_doc.body;
	var elem = _Browser_doc.documentElement;
	return {
		ap: Math.max(body.scrollWidth, body.offsetWidth, elem.scrollWidth, elem.offsetWidth, elem.clientWidth),
		Y: Math.max(body.scrollHeight, body.offsetHeight, elem.scrollHeight, elem.offsetHeight, elem.clientHeight)
	};
}

var _Browser_setViewport = F2(function(x, y)
{
	return _Browser_withWindow(function()
	{
		_Browser_window.scroll(x, y);
		return _Utils_Tuple0;
	});
});



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Browser_getViewportOf` ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éËé∑ÂèñÊåáÂÆöÂÖÉÁ¥†ÁöÑËßÜÂè£Â§ßÂ∞è„ÄÇ

ËØ•ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `id`ÔºåË°®Á§∫Ë¶ÅËé∑ÂèñËßÜÂè£ÁöÑÂÖÉÁ¥†ÁöÑ ID„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÈÄöËøáË∞ÉÁî®Âè¶‰∏Ä‰∏™ÂáΩÊï∞ `_Browser_withNode` Êù•Ëé∑ÂèñÂÖÉÁ¥†ÁöÑËäÇÁÇπÔºåÂπ∂ËøîÂõûËØ•ÂÖÉÁ¥†ÁöÑËßÜÂè£Â§ßÂ∞è„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™‰∏âÂÖÉÁªÑ `al`,`ao`,`ap`ÔºåÂàÜÂà´Ë°®Á§∫ÂÖÉÁ¥†ÁöÑÂÜÖÂÆπÂûÇÁõ¥ÊñπÂêë‰∏äÁöÑÂÅèÁßªÈáè„ÄÅÂÖÉÁ¥†ÁöÑÂÜÖÂÆπÊ∞¥Âπ≥ÊñπÂêë‰∏äÁöÑÂÅèÁßªÈáè‰ª•ÂèäÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ÂíåÈ´òÂ∫¶ÔºåÁÑ∂ÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™‰∏âÂÖÉÁªÑ `ap`,`aq`,`ar`ÔºåÂàÜÂà´Ë°®Á§∫ÂÖÉÁ¥†ÁöÑ‰∏ä„ÄÅÂ∑¶„ÄÅ‰∏ã‰∏â‰∏™ËæπÁïå‰∏éÊµèËßàÂô®ËßÜÂè£È°∂ÈÉ®ÁöÑÂÅèÁßªÈáè„ÄÇÊúÄÂêéÔºåÂáΩÊï∞ËøîÂõû‰∫Ü‰∏Ä‰∏™ÂåÖÂê´Âõõ‰∏™Â±ûÊÄßÁöÑÂØπË±°ÔºåÂÖ∂‰∏≠Âõõ‰∏™Â±ûÊÄßÂàÜÂà´Ë°®Á§∫ÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ÂíåÈ´òÂ∫¶‰ª•ÂèäÂÖÉÁ¥†ÁöÑ‰∏ä‰∏ãÂÅèÁßªÈáè„ÄÇ

ÈÄöËøáË∞ÉÁî® `_Browser_withNode` Êù•Ëé∑ÂèñÂÖÉÁ¥†ÁöÑËäÇÁÇπÔºåÁÑ∂ÂêéÂÜçÈÄöËøá‰∏âÂÖÉÁªÑÂ±ûÊÄßÁöÑËÆ°ÁÆóÔºåËé∑ÂèñÂÖÉÁ¥†ÁöÑËßÜÂè£Â§ßÂ∞èÂíåËæπÁïåÂÅèÁßªÈáèÔºåÊúÄÁªàËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Âõõ‰∏™Â±ûÊÄßÁöÑÂØπË±°ÁöÑÁªìÊûú„ÄÇ


```
// ELEMENT VIEWPORT


function _Browser_getViewportOf(id)
{
	return _Browser_withNode(id, function(node)
	{
		return {
			al: {
				ap: node.scrollWidth,
				Y: node.scrollHeight
			},
			ao: {
				aq: node.scrollLeft,
				ar: node.scrollTop,
				ap: node.clientWidth,
				Y: node.clientHeight
			}
		};
	});
}


```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫`_Browser_setViewportOf`ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éËÆæÁΩÆÊµèËßàÂô®ËßÜÂè£Â§ßÂ∞è„ÄÇËØ•ÂáΩÊï∞Êé•Êî∂‰∏â‰∏™ÂèÇÊï∞Ôºö`id`Ë°®Á§∫Ë¶ÅËÆæÁΩÆËßÜÂè£ÁöÑID,`x`Ë°®Á§∫Ê∞¥Âπ≥ÊñπÂêë‰∏äÁöÑÂÅèÁßªÈáèÔºå`y`Ë°®Á§∫ÂûÇÁõ¥ÊñπÂêë‰∏äÁöÑÂÅèÁßªÈáè„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®È¶ñÂÖàË∞ÉÁî®‰∏Ä‰∏™Âêç‰∏∫`_Browser_withNode`ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÂ§ÑÁêÜÊé•Êî∂Âà∞ÁöÑ`id`ÂèÇÊï∞ÊâÄÂØπÂ∫îÁöÑHTMLÂÖÉÁ¥†„ÄÇËØ•ÂáΩÊï∞ÂÜÖÈÉ®ÂèàÂàõÂª∫‰∫Ü‰∏Ä‰∏™Âêç‰∏∫`node`ÁöÑÂèòÈáèÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âà∞`_Browser_withNode`ÁöÑÂ±ÄÈÉ®ÂèòÈáè‰∏≠„ÄÇ

Êé•ÁùÄÔºåËØ•ÂáΩÊï∞Ë∞ÉÁî®‰∫Ü`_Utils_Tuple0`ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ÂÖÉÁªÑÔºåÂ∞Ü‰∏ä‰∏ÄÊ≠•ÂæóÂà∞ÁöÑ`node`ÁöÑ`scrollLeft`Â±ûÊÄßÂíå`scrollTop`Â±ûÊÄßÂÄºÂ≠òÂÇ®Âà∞ÂÖÉÁªÑ‰∏≠„ÄÇ

ÊúÄÂêéÔºåËØ•ÂáΩÊï∞ËøîÂõû‰∫Ü‰∏Ä‰∏™`function`ÂØπË±°ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤`()`Ë°®ËææÂºèÔºåÁî®‰∫éÊåáÂÆö`id`ÂèÇÊï∞ÁöÑÂÄºÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂåÖÂê´Ê∞¥Âπ≥ÂíåÂûÇÁõ¥ÂÅèÁßªÈáèÁöÑÂØπË±°ÔºåÁî®‰∫éËÆæÁΩÆÊµèËßàÂô®ËßÜÂè£ÁöÑÂÅèÁßªÈáè„ÄÇ


```
var _Browser_setViewportOf = F3(function(id, x, y)
{
	return _Browser_withNode(id, function(node)
	{
		node.scrollLeft = x;
		node.scrollTop = y;
		return _Utils_Tuple0;
	});
});



// ELEMENT


```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `_Browser_getElement`ÔºåÂÆÉÁî®‰∫éËé∑ÂèñÊåáÂÆö ID ÁöÑÂÖÉÁ¥†„ÄÇÂáΩÊï∞ÁöÑÊ†∏ÂøÉÈÉ®ÂàÜÊòØ‰∏Ä‰∏™Âêç‰∏∫ `_Browser_withNode` ÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ `node` ÂèÇÊï∞ÔºåÁÑ∂ÂêéÊâßË°å‰∏ÄÁ≥ªÂàóÊìç‰ΩúÊù•Ëé∑ÂèñÂÖÉÁ¥†ÁöÑÁü©ÂΩ¢ÂÆ¢Êà∑Âå∫ÂüüÔºà‰æãÂ¶ÇÂÖÉÁ¥†ÁöÑÂÆΩÂ∫¶ÂíåÈ´òÂ∫¶Ôºâ‰ª•ÂèäÂÖÉÁ¥†ÁöÑ‰∏ä‰∏ãÊñáÔºà‰æãÂ¶ÇÈ°µÈù¢Áõ∏ÂØπ‰∫éÊµèËßàÂô®Á™óÂè£ÁöÑÂÅèÁßªÈáèÔºâ„ÄÇ

Êé•‰∏ãÊù•ÔºåËØ•ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ÂÖÉÁ¥†‰ΩçÁΩÆ„ÄÅÂ§ßÂ∞è‰ª•ÂèäÂÖÉÁ¥†ÁöÑÂÆ¢Êà∑Âå∫ÂüüÁöÑÂÖÉÁªÑ„ÄÇËøô‰∫õ‰ø°ÊÅØÂ∞ÜÁî®‰∫éÂÖÉÁ¥†ÁöÑÁªòÂà∂ÂíåÈáçÊéí„ÄÇÁÑ∂ÂêéÔºåËØ•ÂáΩÊï∞Â∞ÜÂú®ÂÖÉÁ¥†ÁöÑ `clientX` Âíå `clientY` Â±ûÊÄßÁöÑÂÄº‰∏≠Ê∑ªÂä†ÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆÂíåÂ§ßÂ∞è„ÄÇ

ÊÄªÁöÑÊù•ËØ¥ÔºåËØ•ÂáΩÊï∞ÊòØÁî®‰∫éÂú®ÊîØÊåÅÂÆ¢Êà∑Á´ØÁªòÂà∂ÁöÑÊµèËßàÂô®‰∏≠Ëé∑ÂèñÂÖÉÁ¥†ÁöÑ JavaScript ÂÆûÁé∞„ÄÇ


```
function _Browser_getElement(id)
{
	return _Browser_withNode(id, function(node)
	{
		var rect = node.getBoundingClientRect();
		var x = _Browser_window.pageXOffset;
		var y = _Browser_window.pageYOffset;
		return {
			al: _Browser_getScene(),
			ao: {
				aq: x,
				ar: y,
				ap: _Browser_doc.documentElement.clientWidth,
				Y: _Browser_doc.documentElement.clientHeight
			},
			ax: {
				aq: x + rect.left,
				ar: y + rect.top,
				ap: rect.width,
				Y: rect.height
			}
		};
	});
}



```

Ëøô‰∏§ÂáΩÊï∞ÊòØÂú®coreExtras‰∏≠ÂÆö‰πâÁöÑ„ÄÇÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®ÊòØÂä†ËΩΩÈ°µÈù¢ÂíåÈáçÊñ∞Âä†ËΩΩÈ°µÈù¢„ÄÇ

_Browser_reload()ÂáΩÊï∞‰ºöÂú®ËØ∑Ê±ÇÁªìÊùüÂêéÈáçÊñ∞Âä†ËΩΩÈ°µÈù¢„ÄÇÂ¶ÇÊûú‰ΩøÁî®‰∫ÜskipCacheÈÄâÈ°πÔºåÂàô‰∏ç‰ºöÊ∏ÖÈô§ÁºìÂ≠òÔºåËÄåÊòØÂ∞ÜÁºìÂ≠ò‰øùÁïô‰∏ãÊù•„ÄÇ

_Browser_load()ÂáΩÊï∞‰ºöÂ∞ÜÊåáÂÆöÁöÑURLÂä†ËΩΩÂà∞È°µÈù¢‰∏ä„ÄÇÂ¶ÇÊûúÂèëÁîü‰∫ÜÈîôËØØÔºåÂÆÉÂ∞ÜË∑≥ËøáÈîôËØØÂπ∂ÈáçÊñ∞Âä†ËΩΩÈ°µÈù¢„ÄÇËøô‰∏™ÂáΩÊï∞Âè™ÈÄÇÁî®‰∫é FirefoxÊµèËßàÂô®„ÄÇ


```
// LOAD and RELOAD


function _Browser_reload(skipCache)
{
	return A2($elm$core$Task$perform, $elm$core$Basics$never, _Scheduler_binding(function(callback)
	{
		_VirtualDom_doc.location.reload(skipCache);
	}));
}

function _Browser_load(url)
{
	return A2($elm$core$Task$perform, $elm$core$Basics$never, _Scheduler_binding(function(callback)
	{
		try
		{
			_Browser_window.location = url;
		}
		catch(err)
		{
			// Only Firefox can throw a NS_ERROR_MALFORMED_URI exception here.
			// Other browsers reload the page, so let's be consistent about that.
			_VirtualDom_doc.location.reload(false);
		}
	}));
}



```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏â‰∏™ÂáΩÊï∞ÔºåÂàÜÂà´‰∏∫_Bitwise_and„ÄÅ_Bitwise_or Âíå _Bitwise_xorÔºåÂÆÉ‰ª¨ÈÉΩÊé•Âèó‰∏§‰∏™ÂèÇÊï∞aÂíåb„ÄÇ

_Bitwise_and ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊ±Ç a Âíå b ÁöÑ‰∫åËøõÂà∂‰Ωç‰∏é„ÄÇÂÆÉÁöÑÂÆûÁé∞ÊòØËøîÂõû a & bÔºåÂç≥ÂØπ a Âíå b ÂàÜÂà´Ê±ÇÊåâ‰Ωç‰∏éÊìç‰ΩúÔºåÁÑ∂ÂêéÂ∞Ü‰∏§‰∏™ÁªìÊûúÂêàÂπ∂ÔºåÂæóÂà∞‰∏Ä‰∏™Êñ∞ÁöÑ‰∫åËøõÂà∂Êï∞„ÄÇ

_Bitwise_or ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊ±Ç a Âíå b ÁöÑ‰∫åËøõÂà∂‰ΩçÊàñ„ÄÇÂÆÉÁöÑÂÆûÁé∞ÊòØËøîÂõû a | bÔºåÂç≥ÂØπ a Âíå b ÂàÜÂà´Ê±ÇÊåâ‰ΩçÊàñÊìç‰ΩúÔºåÁÑ∂ÂêéÂ∞Ü‰∏§‰∏™ÁªìÊûúÂêàÂπ∂ÔºåÂæóÂà∞‰∏Ä‰∏™Êñ∞ÁöÑ‰∫åËøõÂà∂Êï∞„ÄÇ

_Bitwise_xor ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊ±Ç a Âíå b ÁöÑ‰∫åËøõÂà∂‰ΩçÂºÇÊàñ„ÄÇÂÆÉÁöÑÂÆûÁé∞ÊòØËøîÂõû a ^ bÔºåÂç≥ÂØπ a Âíå b ÂàÜÂà´Ê±ÇÊåâ‰ΩçÂºÇÊàñÊìç‰ΩúÔºåÁÑ∂ÂêéÂ∞Ü‰∏§‰∏™ÁªìÊûúÂêàÂπ∂ÔºåÂæóÂà∞‰∏Ä‰∏™Êñ∞ÁöÑ‰∫åËøõÂà∂Êï∞„ÄÇ


```
var _Bitwise_and = F2(function(a, b)
{
	return a & b;
});

var _Bitwise_or = F2(function(a, b)
{
	return a | b;
});

var _Bitwise_xor = F2(function(a, b)
{
	return a ^ b;
});

```

Ëøô‰∏§ÊÆµ‰ª£Á†ÅÈÉΩÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Bitwise_complement` ÁöÑÂáΩÊï∞Ôºå‰ΩÜÂè™ÊúâÁ¨¨‰∫åÊÆµ‰ª£Á†Å‰ΩøÁî®‰∫ÜÂÆÉ„ÄÇÁ¨¨‰∏ÄÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂÆÉÁöÑÂäüËÉΩÊòØÊ±Ç‰∏Ä‰∏™Êï¥Êï∞ `a` ÁöÑË°•Á†Å„ÄÇÁ¨¨‰∫åÊÆµ‰ª£Á†ÅÂàôÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞Ôºå `_Bitwise_shiftLeftBy` Âíå `_Bitwise_shiftRightBy`ÔºåÂÆÉ‰ª¨ÁöÑÂäüËÉΩÊòØÂàÜÂà´‰ªéÂ∑¶‰ΩçÂíåÂè≥‰ΩçÂØπÊï¥Êï∞ `a` ËøõË°åÂºÇÊàñÊìç‰ΩúÔºåÂπ∂ËøîÂõûÁªìÊûú„ÄÇ

_Bitwise_complementÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™Êï¥Êï∞ÂèÇÊï∞ `a`ÔºåÂπ∂ËøîÂõû `a` ÁöÑË°•Á†Å„ÄÇË°•Á†ÅÊòØÂ∞Ü‰∏Ä‰∏™Êï¥Êï∞ÁöÑ‰∫åËøõÂà∂‰ΩçÂèñÂèç(Á¨¶Âè∑‰ΩçÈô§Â§ñ)ÂæóÂà∞ÁöÑÁªìÊûúÔºåÂõ†Ê≠§ `a` ÁöÑË°•Á†ÅÊòØ `~a`ÔºåÂÖ∂‰∏≠ `~` Ë°®Á§∫ÂèñÂèç„ÄÇ

_Bitwise_shiftLeftByÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™Êï¥Êï∞ÂèÇÊï∞ `offset` Âíå‰∏Ä‰∏™Êï¥Êï∞ÂèÇÊï∞ `a`ÔºåÂπ∂ËøîÂõû `a` ÂØπÂ∑¶‰ΩçËøõË°åÂºÇÊàñÊìç‰ΩúÁöÑÁªìÊûú„ÄÇÂÆÉÁöÑÂÆûÁé∞ÊòØÈÄöËøá `function` ÂáΩÊï∞Êù•ÂÆûÁé∞ÁöÑÔºåËøô‰∏™ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `offset`ÔºåË°®Á§∫Ë¶ÅÂºÇÊàñÊìç‰ΩúÁöÑ‰ΩçÁßªÈáèÔºåÂíå‰∏Ä‰∏™ÂèÇÊï∞ `a`ÔºåË°®Á§∫Ë¶ÅÂºÇÊàñÊìç‰ΩúÁöÑÊï¥Êï∞„ÄÇÂáΩÊï∞ËøîÂõûÂ∑¶ÁßªÂêéÁöÑÊï¥Êï∞ `a` ÂØπ `offset` ÂèñÂèçÁöÑÁªìÊûú„ÄÇ

_Bitwise_shiftRightByÂáΩÊï∞‰∏é_Bitwise_shiftLeftByÁ±ª‰ººÔºåÂè™ÊòØÂØπÂè≥‰ΩçËøõË°åÂºÇÊàñÊìç‰ΩúÔºåÂπ∂ËøîÂõûÁªìÊûú„ÄÇÂÆÉÁöÑÂÆûÁé∞‰πüÊòØÈÄöËøá `function` ÂáΩÊï∞Êù•ÂÆûÁé∞ÁöÑÔºåËøô‰∏™ÂáΩÊï∞‰∏é‰∏äÈù¢ÈÇ£‰∏™ÂáΩÊï∞Á±ª‰ººÔºåÂè™ÊòØÊé•Âèó‰∫ÜÂè≥‰Ωç‰Ωú‰∏∫ÂèÇÊï∞„ÄÇ


```
function _Bitwise_complement(a)
{
	return ~a;
};

var _Bitwise_shiftLeftBy = F2(function(offset, a)
{
	return a << offset;
});

var _Bitwise_shiftRightBy = F2(function(offset, a)
{
	return a >> offset;
});

```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞Ôºå‰∏ªË¶ÅÁõÆÁöÑÊòØÊâßË°å bitwise Â∑¶ÁßªËøêÁÆó„ÄÇÈÄöËøáÂàÜÊûê‰ª£Á†ÅÔºåÊàë‰ª¨ÂèØ‰ª•ÂæóÂá∫‰ª•‰∏ãÁªìËÆ∫Ôºö

1. `var _Bitwise_shiftRightZfBy`ÔºöËøôÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏Ä‰∏™ÊòØ `offset`ÔºåÂè¶‰∏Ä‰∏™ÊòØ `a`„ÄÇÂáΩÊï∞ËøîÂõû `a` ÂØπ `offset` ‰ΩçÁßªÂêéÁªìÊûú„ÄÇ

2. `var _Time_now`ÔºöËøôÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `millisToPosix`ÔºåË°®Á§∫ÊØ´ÁßíÂà∞ÂÅèÂÖãÊñØÁöÑÂÅèÁßªÈáè„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÊâßË°å‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂΩì `millisToPosix` Âú®È¢ÑÂÆöÊó∂Èó¥ÂêéÂèëÁîüÂèòÂåñÊó∂ÔºåÊâßË°åÂõûË∞ÉÂáΩÊï∞„ÄÇ

3. `function _Scheduler_binding`ÔºöËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÂáΩÊï∞ÔºåÁî®‰∫éËß¶Âèë `_Scheduler` ÂáΩÊï∞„ÄÇ`_Scheduler_binding` ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ÂõûË∞ÉÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞Ôºå‰ºöÂú®ÂÜÖÈÉ®Ë∞ÉÂ∫¶‰πãÂêéË∞ÉÁî®Ëøô‰∏™ÂõûË∞ÉÂáΩÊï∞„ÄÇËøô‰∏™ÂõûË∞ÉÂáΩÊï∞‰ºöÂú® `millisToPosix` ËææÂà∞È¢ÑÂÆöÊó∂Èó¥ÂêéÊâßË°å„ÄÇ

4. `function _Scheduler_succeed`ÔºöËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÂáΩÊï∞ÔºåÁî®‰∫éÂú®ÊåáÂÆöÊØ´ÁßíÊï∞ÂêéÊâßË°åÂõûË∞ÉÂáΩÊï∞„ÄÇ`_Scheduler_succeed` ÂáΩÊï∞Êé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºöË¶ÅÂà∞ËææÁöÑÊó∂Èó¥ÂíåÂõûË∞ÉÂáΩÊï∞„ÄÇÂÆÉ‰ºöÁ≠âÂæÖÂà∞ËææËøô‰∏™Êó∂Èó¥ÔºåÁÑ∂ÂêéÊâßË°åÂõûË∞ÉÂáΩÊï∞„ÄÇ

5. `function _Time_now` ÁöÑÂõûË∞ÉÂáΩÊï∞ÂÜÖÈÉ®ÔºåË∞ÉÁî®‰∫Ü‰∏Ä‰∏™Êú™ÂÆö‰πâÁöÑÂáΩÊï∞ `_KV_Node_queue_join_interval`ÔºöËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÂáΩÊï∞ÔºåÂÆÉÂú®ÊØ´ÁßíÊï∞ËææÂà∞È¢ÑÂÆöÊó∂Èó¥ÂêéÔºåÂ∞ÜÂΩìÂâçÁöÑÊó∂Èó¥ËÆæÁΩÆ‰∏∫ `millisToPosix` ÂèÇÊï∞ÊâÄË°®Á§∫ÁöÑÊó∂Èó¥ÔºåÂπ∂ËøîÂõû„ÄÇ


```
var _Bitwise_shiftRightZfBy = F2(function(offset, a)
{
	return a >>> offset;
});



function _Time_now(millisToPosix)
{
	return _Scheduler_binding(function(callback)
	{
		callback(_Scheduler_succeed(millisToPosix(Date.now())));
	});
}

```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `_Time_setInterval` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÊòØ `interval` ‰∏Ä‰∏™ÊòØ `task`„ÄÇÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÊåáÂÆöÁöÑÊó∂Èó¥Èó¥ÈöîÂÜÖÊâßË°å‰∏ÄÊ¨° `task` ÊåáÂÆöÁöÑ‰ªªÂä°„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®‰∫Ü JavaScript ÁöÑ `F2` ÂáΩÊï∞(Function 2)Êù•ËøîÂõû‰∏Ä‰∏™ÂÆöÊó∂Âô®ÔºåËøô‰∏™ÂÆöÊó∂Âô®‰ºöÂú®ÊåáÂÆöÁöÑ `interval` ÊØ´ÁßíÂÜÖÊØèÈöî `interval` ÊØ´ÁßíÊâßË°å‰∏ÄÊ¨° `task` ÊåáÂÆöÁöÑ‰ªªÂä°„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®Ëøò‰ΩøÁî®‰∫Ü‰∏§‰∏™ÂáΩÊï∞Ôºö`_Scheduler_binding` Âíå `_Time_here`ÔºåÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®ÊòØÂú® `_Time_setInterval` ÂáΩÊï∞ÂÜÖÈÉ®ÂàõÂª∫ÂÆöÊó∂Âô®Âπ∂ËÆæÁΩÆ `callback` ÂáΩÊï∞‰Ωú‰∏∫ÂÆöÊó∂Âô®ÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ

`_Scheduler_binding` ÂáΩÊï∞ÂÜÖÈÉ®ÊâßË°å‰∫Ü‰ª•‰∏ãÊìç‰ΩúÔºö

1. ÂàõÂª∫‰∏Ä‰∏™ `setInterval` ÂÆöÊó∂Âô®ÔºåÂÆÉÁöÑÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ `task`Âíå‰∏Ä‰∏™Êó∂Èó¥Èó¥Èöî `interval`„ÄÇËøô‰∏™ÂÆöÊó∂Âô®‰ºöÂú® `interval` ÊØ´ÁßíÂÜÖÊØèÈöî `interval` ÊØ´ÁßíÊâßË°å‰∏ÄÊ¨° `task` ÊåáÂÆöÁöÑ‰ªªÂä°„ÄÇ

2. ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞ÂÜÖÈÉ®ÊâßË°åÁöÑÊòØ `callback` ÂáΩÊï∞Ôºå‰Ωú‰∏∫ÂÆöÊó∂Âô®ÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ

`_Time_here` ÂáΩÊï∞ÂÜÖÈÉ®ÊâßË°å‰∫Ü‰ª•‰∏ãÊìç‰ΩúÔºö

1. ÂàõÂª∫‰∏Ä‰∏™ `setInterval` ÂÆöÊó∂Âô®ÔºåÂÆÉÁöÑÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ `callback`„ÄÇËøô‰∏™ÂÆöÊó∂Âô®‰ºöÂú® `callback` ÂáΩÊï∞ÂÜÖÈÉ®ËÆæÁΩÆÁöÑÂÆöÊó∂Âô®ÊâßË°å `A2` ÂáΩÊï∞(Ê≥®ÊÑè `A2` ÂáΩÊï∞ÂêéÈù¢Êúâ‰∏Ä‰∏™ `$elm$time$Time$customZone` ÂèÇÊï∞ÔºåËøô‰∏™ÂèÇÊï∞ÂêéÈù¢ÊòØ `-` Á¨¶Âè∑ÔºåËøôÊÑèÂë≥ÁùÄ `A2` ÂáΩÊï∞Â∞Ü‰ºöËÆ°ÁÆóÂΩìÂâçÊó∂Èó¥ÁöÑÊó∂Âå∫ÂÅèÁßªÈáè)`„ÄÇ

2. ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞ÂÜÖÈÉ®ÊâßË°åÁöÑÊòØ `callback` ÂáΩÊï∞Ôºå‰Ωú‰∏∫ÂÆöÊó∂Âô®ÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ


```
var _Time_setInterval = F2(function(interval, task)
{
	return _Scheduler_binding(function(callback)
	{
		var id = setInterval(function() { _Scheduler_rawSpawn(task); }, interval);
		return function() { clearInterval(id); };
	});
});

function _Time_here()
{
	return _Scheduler_binding(function(callback)
	{
		callback(_Scheduler_succeed(
			A2($elm$time$Time$customZone, -(new Date().getTimezoneOffset()), _List_Nil)
		));
	});
}


```

ËØ•ÂáΩÊï∞Âêç‰∏∫ `_Time_getZoneName()`ÔºåÂÆÉËøîÂõû‰∏Ä‰∏™Ë°®Á§∫ÂΩìÂâçÊó∂Âå∫ÂêçÁß∞ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®‰∫Ü `_Scheduler_binding()` ÂáΩÊï∞ÔºåÂÆÉÁî®‰∫éÁªëÂÆö‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂºÇÊ≠•Êìç‰ΩúÁöÑÁªìÊûú„ÄÇËøô‰∏™ÂºÇÊ≠•Êìç‰ΩúÊòØÈÄöËøáË∞ÉÁî® `$elm$time$Time$Name()` Âíå `$elm$time$Time$Offset()` ÂáΩÊï∞Êù•Ëé∑ÂèñÂΩìÂâçÊó∂Âå∫ÁöÑÂêçÁß∞ÂíåÂÅèÁßªÈáè„ÄÇ

Ëøô‰∏§‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö

1. `$elm$time$Time$Name()`Ôºö

ËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØËé∑ÂèñÂΩìÂâçÊó∂Âå∫ÁöÑÂêçÁß∞ÔºåÂÆÉÈÄöËøáË∞ÉÁî® `Intl.DateTimeFormat().resolvedOptions().timeZone` Ëé∑ÂèñÊó∂Âå∫Âå∫Âüü‰ø°ÊÅØ„ÄÇËøô‰∏™ÂáΩÊï∞ÈúÄË¶Å‰∏Ä‰∏™ÂèÇÊï∞ÔºåË°®Á§∫Ë¶ÅËé∑ÂèñÁöÑÊó∂Èó¥Âå∫ÂüüÔºåÂÆÉÂèØ‰ª•ÊòØ `'UTC'`„ÄÅ `' Europe/Moscow'`„ÄÅ `'Asia/Tokyo'` Á≠â„ÄÇ

2. `$elm$time$Time$Offset()`Ôºö

ËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÂΩìÂâçÊó∂Âå∫ÁöÑÂü∫Á°Ä‰∏äÔºåËé∑ÂèñÂÅèÁßªÈáèÔºåÂÆÉÈ¶ñÂÖàËé∑ÂèñÂΩìÂâçÊó•ÊúüÁöÑÊó∂Èó¥ `new Date().getTimezoneOffset()`ÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂‰ªé `Intl.DateTimeFormat().resolvedOptions().timeZone` ‰∏≠Ëé∑ÂèñÊó∂Âå∫ÂêçÁß∞ÔºåÂπ∂ËøîÂõû‰∏§ËÄÖ‰πãÈó¥ÁöÑÂ∑ÆÂÄº„ÄÇ

ÂáΩÊï∞ËøîÂõûÂêéÔºå‰ΩøÁî® `$Scheduler_succeed()` ÂáΩÊï∞Êù•ËøîÂõûÁªìÊûúÔºåË°®Á§∫ÂºÇÊ≠•Êìç‰ΩúÊàêÂäüÂÆåÊàê„ÄÇÂ¶ÇÊûúÂºÇÊ≠•Êìç‰ΩúÂ§±Ë¥•ÔºåËØ•ÂáΩÊï∞‰ºöÂ∞ùËØïÊâßË°å `callback()` ÂáΩÊï∞‰∏≠ÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂπ∂Â∞ÜÂ§±Ë¥•ÂéüÂõ†‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôÂÆÉ„ÄÇ


```
function _Time_getZoneName()
{
	return _Scheduler_binding(function(callback)
	{
		try
		{
			var name = $elm$time$Time$Name(Intl.DateTimeFormat().resolvedOptions().timeZone);
		}
		catch (e)
		{
			var name = $elm$time$Time$Offset(new Date().getTimezoneOffset());
		}
		callback(_Scheduler_succeed(name));
	});
}
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏â‰∏™ÂèòÈáèÔºö$elm$core$Basics$EQÔºå$elm$core$Basics$GTÂíå$elm$core$Basics$LT„ÄÇ

$elm$core$Basics$EQÂíå$elm$core$Basics$GTÊòØÊï¥Êï∞Á±ªÂûãÁöÑÂèòÈáèÔºåÂàÜÂà´‰ΩøÁî®‰∫ÜÂèòÈáè‰ΩúÁî®ÂüüÁöÑÂèÇÊï∞ÂÑíÈõÖ„ÄÇ

$elm$core$Basics$LTÊòØ‰∏Ä‰∏™ÊµÆÁÇπÊï∞Á±ªÂûãÁöÑÂèòÈáèÔºå‰ΩøÁî®‰∫ÜÂèòÈáè‰ΩúÁî®ÂüüÁöÑÂèÇÊï∞ÂÑíÈõÖ„ÄÇ

$elm$core$List$consÊòØ‰∏Ä‰∏™ÂàóË°®Á±ªÂûãÁöÑÂèòÈáèÔºå‰ΩøÁî®‰∫ÜÂèòÈáè‰ΩúÁî®ÂüüÁöÑÂèÇÊï∞ÂÑíÈõÖ„ÄÇ

$elm$core$Dict$foldrÊòØ‰∏Ä‰∏™ÂáΩÊï∞Á±ªÂûãÂèòÈáèÔºå‰ΩøÁî®‰∫ÜÂèòÈáè‰ΩúÁî®ÂüüÁöÑÂèÇÊï∞ÂÑíÈõÖ„ÄÇËØ•ÂáΩÊï∞‰ΩøÁî®‰∫ÜfoldrÂèÇÊï∞ÂÑíÈõÖÔºåÂÆûÁé∞‰∫ÜÂ§öÊ¨° fold Êìç‰Ωú„ÄÇÊØèÊ¨°foldrÊìç‰ΩúÈÉΩÊòØ‰∏Ä‰∏™ÂÑíÈõÖÂáΩÊï∞ÔºåÈÄöËøá‰º†ÂÖ•‰∏â‰∏™ÂèÇÊï∞ÔºöfuncÔºåÂç≥Ë¶ÅfoldÁöÑÂáΩÊï∞Á±ªÂûãÔºõaccÔºåÂç≥foldÂêéÁöÑÁªìÊûúÔºõtÔºåÂç≥ÂΩìÂâçË¶ÅfoldÁöÑÂèÇÊï∞ÂÑíÈõÖ„ÄÇÂú®ÊØèÊ¨°foldrÊìç‰Ωú‰∏≠ÔºåÈ¶ñÂÖàÂà§Êñ≠ÂèÇÊï∞tÊòØÂê¶‰∏∫-2ÔºåÂ¶ÇÊûúÊòØÔºåÂàôÁõ¥Êé•ËøîÂõûÂèÇÊï∞acc„ÄÇÂê¶ÂàôÔºåÂ∞ÜÂèÇÊï∞tÁöÑÂÑíÈõÖÂÄº‰Ωú‰∏∫keyÔºåÂ∞ÜÂèÇÊï∞func‰Ωú‰∏∫valueÔºåÂ∞ÜÂèÇÊï∞right‰Ωú‰∏∫ÂèÇÊï∞ÂÑíÈõÖÔºåÂÆûÁé∞‰∏ÄÊ¨°foldÊìç‰Ωú„ÄÇÁÑ∂ÂêéÂ∞ÜÂèÇÊï∞func‰Ωú‰∏∫Êñ∞ÁöÑfuncÔºåÂèÇÊï∞right‰Ωú‰∏∫Êñ∞ÁöÑÂèÇÊï∞ÂÑíÈõÖÔºåÂ∞ÜÂèÇÊï∞acc‰Ωú‰∏∫Êñ∞ÁöÑaccÔºåÁªßÁª≠ÊâßË°åfoldrÊìç‰Ωú„ÄÇËøôÊ†∑ÔºåÂÆûÁé∞‰∫ÜÂÑíÈõÖÁöÑfoldÊìç‰Ωú„ÄÇ


```
var $elm$core$Basics$EQ = 1;
var $elm$core$Basics$GT = 2;
var $elm$core$Basics$LT = 0;
var $elm$core$List$cons = _List_cons;
var $elm$core$Dict$foldr = F3(
	function (func, acc, t) {
		foldr:
		while (true) {
			if (t.$ === -2) {
				return acc;
			} else {
				var key = t.b;
				var value = t.c;
				var left = t.d;
				var right = t.e;
				var $temp$func = func,
					$temp$acc = A3(
					func,
					key,
					value,
					A3($elm$core$Dict$foldr, func, acc, right)),
					$temp$t = left;
				func = $temp$func;
				acc = $temp$acc;
				t = $temp$t;
				continue foldr;
			}
		}
	});
```

Ëøô‰∏§ÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ JavaScript ÂáΩÊï∞Ôºå`toList` Âíå `keys`„ÄÇÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®ÊòØÂàÜÂà´Â∞Ü‰∏Ä‰∏™Â≠óÂÖ∏ÔºàdictÔºâ‰∏≠ÁöÑÈîÆÂÄºÂØπÔºàkey-valueÔºâÊâìÂåÖÊàê‰∏Ä‰∏™ÂàóË°®ÔºàlistÔºâ‰∏≠ÔºåÂπ∂‰∏î‰∏çÂåÖÂê´Â≠óÂÖ∏‰∏≠ÁöÑ `None` ÈîÆ„ÄÇ

`toList` ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™Â≠óÂÖ∏ÔºàdictÔºâÔºå‰ΩøÁî® `$elm$core$Dict$foldr` Âíå `F3` ÂáΩÊï∞Êù•Ëø≠ÂΩíÈÅçÂéÜÂ≠óÂÖ∏‰∏≠ÁöÑÊØè‰∏™ÈîÆÔºàkeyÔºâÔºåÂ∞ÜÂÖ∂ÂÄºÔºàvalueÔºâ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `function` Ë°®ËææÂºè `F2($elm$core$List$cons, ...)`ÔºåÂÖ∂‰∏≠ `$elm$core$List$cons` ÊòØ‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÁî®‰∫éÂàõÂª∫‰∏Ä‰∏™Âè™ÂåÖÂê´ÈîÆÂÄºÂØπÂàóË°®ÁöÑÊï∞ÁªÑ„ÄÇÊúÄÂêéÔºåËøîÂõûÁîüÊàêÁöÑÂè™ÂåÖÂê´ÈîÆÂÄºÂØπÂàóË°®ÁöÑÊñ∞ÂàóË°®„ÄÇ

`keys` ÂáΩÊï∞ÂêåÊ†∑Êé•Êî∂‰∏Ä‰∏™Â≠óÂÖ∏ÔºàdictÔºâÔºå‰ΩøÁî® `$elm$core$Dict$foldr` Âíå `F3` ÂáΩÊï∞Êù•Ëø≠ÂΩíÈÅçÂéÜÂ≠óÂÖ∏‰∏≠ÁöÑÊØè‰∏™ÈîÆÔºàkeyÔºâÔºåÂ∞ÜÂÖ∂ÂÄºÔºàvalueÔºâ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `function` Ë°®ËææÂºè `F2($elm$core$List$cons, ...)`ÔºåÂÖ∂‰∏≠ `$elm$core$List$cons` ÊòØ‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞ÔºåÁî®‰∫éÂàõÂª∫‰∏Ä‰∏™Âè™ÂåÖÂê´ÈîÆÂÄºÂØπÂàóË°®ÁöÑÊï∞ÁªÑ„ÄÇÊúÄÂêéÔºåËøîÂõûÁîüÊàêÁöÑÂè™ÂåÖÂê´ÈîÆÂÄºÂØπÂàóË°®ÁöÑÊñ∞ÂàóË°®„ÄÇ


```
var $elm$core$Dict$toList = function (dict) {
	return A3(
		$elm$core$Dict$foldr,
		F3(
			function (key, value, list) {
				return A2(
					$elm$core$List$cons,
					_Utils_Tuple2(key, value),
					list);
			}),
		_List_Nil,
		dict);
};
var $elm$core$Dict$keys = function (dict) {
	return A3(
		$elm$core$Dict$foldr,
		F3(
			function (key, value, keyList) {
				return A2($elm$core$List$cons, key, keyList);
			}),
		_List_Nil,
		dict);
};
```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂêç‰∏∫ `$elm$core$Set$toList`„ÄÇÂÆÉÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `_v0`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â∞Ü‰º†ÂÖ•ÁöÑ JavaScript ÂØπË±°ËΩ¨Êç¢‰∏∫ÂàóË°®ÁöÑÂáΩÊï∞„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®ÔºåÈ¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `dict` ÁöÑÂèòÈáèÔºåÂÆÉÂåÖÂê´‰∫Ü‰º†ÂÖ•ÁöÑ `_v0`„ÄÇÁÑ∂Âêé‰ΩøÁî® `$elm$core$Dict$keys` ÂáΩÊï∞Ëé∑Âèñ‰∫Ü `dict` ÁöÑÈîÆ„ÄÇ

ÁÑ∂ÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Elm$JsArray$foldr` ÁöÑÂáΩÊï∞„ÄÇÂÆÉÂÜÖÈÉ®Êé•Êî∂‰∏â‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ JavaScript Êï∞ÁªÑÔºå‰∏Ä‰∏™ÂàùÂßãÂÄº `_v0`Ôºå‰ª•Âèä‰∏Ä‰∏™Â§ÑÁêÜÂáΩÊï∞ `func` Âíå‰∏Ä‰∏™ÂèØÈÄâÁöÑ `baseCase` ÂèÇÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞‰ΩøÁî® `_JsArray_foldr` ÂáΩÊï∞ÂØπ‰º†ÂÖ•ÁöÑÊï∞ÁªÑËøõË°åÊäòÂè†ÔºåÂπ∂ÂØπÂ≠êÊï∞ÁªÑË∞ÉÁî® `F2` ÂáΩÊï∞ÔºàFunction 2Ôºâ‰Ωú‰∏∫ËæÖÂä©ÂáΩÊï∞„ÄÇ

ÊúÄÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `F3` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏â‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™Â§ÑÁêÜÂáΩÊï∞ `func`Ôºå‰∏Ä‰∏™ JavaScript ÂØπË±° `_v0`Ôºå‰ª•Âèä‰∏Ä‰∏™ÂèØÈÄâÁöÑ `baseCase` ÂèÇÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞ÂÜÖÈÉ®ÔºåÈ¶ñÂÖàÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑ JavaScript Êï∞ÁªÑÔºåÁÑ∂ÂêéË∞ÉÁî® `F2` ÂáΩÊï∞‰Ωú‰∏∫ËæÖÂä©ÂáΩÊï∞Ôºå‰º†ÂÖ•ÂèÇÊï∞ `tree` Âíå `acc`„ÄÇÊúÄÂêéÔºåÊ†πÊçÆ‰º†ÂÖ•ÁöÑ `_v0` ÂØπËøîÂõûÁöÑ JavaScript Êï∞ÁªÑËøõË°åÊäòÂè†ÔºåÂπ∂ËøîÂõûÁªìÊûú„ÄÇ

Êï¥‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÔºåÂ∞±ÊòØÂ∞Ü‰º†ÂÖ•ÁöÑ JavaScript ÂØπË±°ËΩ¨Êç¢‰∏∫ÂàóË°®ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂàóË°®ÔºåÂÖ∂‰∏≠ÁöÑÂàóË°®ÂÖÉÁ¥†ÊòØÈÄöËøá `_JsArray_foldr` ÂáΩÊï∞ÂØπ‰º†ÂÖ•ÁöÑ JavaScript Êï∞ÁªÑËøõË°åÊäòÂè†ÂæóÂà∞ÁöÑ„ÄÇ


```
var $elm$core$Set$toList = function (_v0) {
	var dict = _v0;
	return $elm$core$Dict$keys(dict);
};
var $elm$core$Elm$JsArray$foldr = _JsArray_foldr;
var $elm$core$Array$foldr = F3(
	function (func, baseCase, _v0) {
		var tree = _v0.c;
		var tail = _v0.d;
		var helper = F2(
			function (node, acc) {
				if (!node.$) {
					var subTree = node.a;
					return A3($elm$core$Elm$JsArray$foldr, helper, acc, subTree);
				} else {
					var values = node.a;
					return A3($elm$core$Elm$JsArray$foldr, func, acc, values);
				}
			});
		return A3(
			$elm$core$Elm$JsArray$foldr,
			helper,
			A3($elm$core$Elm$JsArray$foldr, func, baseCase, tail),
			tree);
	});
```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØËß£Êûê JSON Êï∞ÊçÆ„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøô‰∏™ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™Êï∞ÁªÑÂèÇÊï∞ÔºåÁÑ∂Âêé‰ΩøÁî®ÈÄíÂΩíÂíåÊù°‰ª∂Âà§Êñ≠Êù•ÈÅçÂéÜËøô‰∏™Êï∞ÁªÑÔºåÂ∞ÜÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ËΩ¨Âåñ‰∏∫ÂØπË±°ÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨ÁöÑÈîÆÂíåÂÄºÂ≠òÂÇ®Âà∞‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÁªÑ‰∏≠„ÄÇÊúÄÁªàÔºåËøîÂõûÊñ∞ÁîüÊàêÁöÑÊï∞ÁªÑ„ÄÇ

Âú®ÂáΩÊï∞ÂÜÖÈÉ®ÔºåÈ¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Array$toList` ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®Âíå‰∏äÈù¢ÂàÜÊûêÁöÑÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞‰∏ÄÊ†∑ÔºåÂ∞ÜÊï∞ÁªÑÂÖÉÁ¥†ËΩ¨Âåñ‰∏∫ÂØπË±°ÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨ÁöÑÈîÆÂíåÂÄºÂ≠òÂÇ®Âà∞‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÁªÑ‰∏≠„ÄÇ

Êé•ÁùÄÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Result$Err` ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂú®Ëß£Êûê JSON Êï∞ÊçÆÊó∂Âá∫Áé∞ÈîôËØØÊó∂ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´‰∏§‰∏™ÈîÆÔºöÊàêÂäüÂíåÈîôËØØ‰ø°ÊÅØ„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÂáΩÊï∞ÂÜÖÈÉ®ÊçïËé∑ÂºÇÂ∏∏Âπ∂ËøîÂõû‰∏Ä‰∏™ÈîôËØØ‰ø°ÊÅØ„ÄÇ

ÁÑ∂ÂêéÂÆö‰πâ‰∫Ü‰∏§‰∏™Âêç‰∏∫ `$elm$json$Json$Decode$Failure` Âíå `$elm$json$Json$Decode$Field` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®ÊòØÂú®Ëß£Êûê JSON Êï∞ÊçÆÊó∂Âá∫Áé∞ÈîôËØØÊó∂ËøîÂõû‰∏çÂêåÁöÑÂØπË±°„ÄÇÂÖ∑‰ΩìÊù•ËØ¥Ôºå`$elm$json$Json$Decode$Failure` ÁöÑ‰ΩúÁî®ÊòØÂú®Ëß£Êûê JSON Êï∞ÊçÆÊó∂Âá∫Áé∞‰ªªÊÑèÈîôËØØÊó∂ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™ÈîÆÁöÑÂØπË±°ÔºöÊàêÂäüÂíåÈîôËØØ‰ø°ÊÅØÔºõËÄå `$elm$json$Json$Decode$Field` ÁöÑ‰ΩúÁî®ÊòØÂú®Ëß£Êûê JSON Êï∞ÊçÆÊó∂Âè™ËøîÂõûÁ¨¨‰∏Ä‰∏™ÈîÆÁöÑ‰ø°ÊÅØÔºåÂç≥ÂøΩÁï•ÈîôËØØ‰ø°ÊÅØ„ÄÇ

ÊúÄÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$json$Json$Decode$Index` ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂú®Ëß£Êûê JSON Êï∞ÊçÆÊó∂Âá∫Áé∞ÈîôËØØÊó∂ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™ÈîÆÁöÑÂØπË±°ÔºöÊàêÂäüÂíåÈîôËØØ‰ø°ÊÅØ„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®Ëß£Êûê JSON Êï∞ÊçÆÊó∂Âè™ËøîÂõûÁ¨¨‰∏Ä‰∏™ÈîÆÁöÑ‰ø°ÊÅØÔºåÂç≥ÂøΩÁï•ÈîôËØØ‰ø°ÊÅØ„ÄÇ


```
var $elm$core$Array$toList = function (array) {
	return A3($elm$core$Array$foldr, $elm$core$List$cons, _List_Nil, array);
};
var $elm$core$Result$Err = function (a) {
	return {$: 1, a: a};
};
var $elm$json$Json$Decode$Failure = F2(
	function (a, b) {
		return {$: 3, a: a, b: b};
	});
var $elm$json$Json$Decode$Field = F2(
	function (a, b) {
		return {$: 0, a: a, b: b};
	});
var $elm$json$Json$Decode$Index = F2(
	function (a, b) {
		return {$: 1, a: a, b: b};
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∫õ JavaScript ÂáΩÊï∞ÔºåÂÆÉ‰ª¨Âú®‰ΩúÁî®ÂüüÂÜÖ‰Ωú‰∏∫ÁßÅÊúâÊàêÂëòÂáΩÊï∞Â≠òÂú®ÔºåÂπ∂‰∏î‰∏ç‰ºöË¢´Ê†áËÆ∞‰∏∫ÂÖ®Â±ÄÂáΩÊï∞„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåËøô‰∫õÂáΩÊï∞ÂåÖÊã¨Ôºö

1. `$elm$core$Result$Ok`ÔºöËØ•ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´‰∏Ä‰∏™ `$elm$core$Result$Ok` Â±ûÊÄßÂíå‰∏Ä‰∏™ `a` ÂèÇÊï∞„ÄÇ`$elm$core$Result$Ok` Â±ûÊÄßÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÁªìÊûúÁ±ªÂûãÔºåÂÆÉÁöÑ `$elm$core$Result$Ok` Â±ûÊÄßË°®Á§∫ÊàêÂäüÔºåÊàñËÄÖ `$elm$core$Result$NotFound` Â±ûÊÄßË°®Á§∫Â§±Ë¥•„ÄÇ`a` ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂÆÉË¢´‰º†ÈÄíÁªô `$elm$core$Result$Ok` ÂáΩÊï∞ÔºåÁî®‰∫éËÆæÁΩÆÁªìÊûúÁ±ªÂûã„ÄÇ

2. `$elm$json$Json$Decode`ÔºöËØ•ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´‰∏Ä‰∏™ `$elm$json$Json$Decode` Â±ûÊÄßÂíå‰∏Ä‰∏™ `a` ÂèÇÊï∞„ÄÇ`$elm$json$Json$Decode` Â±ûÊÄßÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÁªìÊûúÁ±ªÂûãÔºåÂÆÉÁöÑ `$elm$json$Json$Decode` Â±ûÊÄßË°®Á§∫ÊàêÂäüÔºåÊàñËÄÖ `$elm$json$Json$NotFound` Â±ûÊÄßË°®Á§∫Â§±Ë¥•„ÄÇ`a` ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂÆÉË¢´‰º†ÈÄíÁªô `$elm$json$Json$Decode` ÂáΩÊï∞ÔºåÁî®‰∫éËß£Êûê JSON Êï∞ÊçÆ„ÄÇ

3. `$elm$core$Basic$False`ÔºöËØ•ÂáΩÊï∞ÊòØ‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫‰∏Ä‰∏™Âü∫Á°ÄÁöÑÂ∏ÉÂ∞îÂÄº„ÄÇ

4. `$elm$core$Basic$add`ÔºöËØ•ÂáΩÊï∞ÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞ÔºåÂÆÉÁöÑ `$elm$core$Basic$add` Â±ûÊÄßË°®Á§∫ËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞Ôºå‰ΩÜÂÆÉ‰∏ç‰ºöË¢´Ê†áËÆ∞‰∏∫ÂÖ®Â±ÄÂáΩÊï∞„ÄÇÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `a`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄº„ÄÇ

5. `$elm$core$Maybe$Just`ÔºöËØ•ÂáΩÊï∞ÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞ÔºåÂÆÉÁöÑ `$elm$core$Maybe$Just` Â±ûÊÄßË°®Á§∫ËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞Ôºå‰ΩÜÂÆÉ‰∏ç‰ºöË¢´Ê†áËÆ∞‰∏∫ÂÖ®Â±ÄÂáΩÊï∞„ÄÇÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `a`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´‰∏Ä‰∏™ `$elm$core$Maybe$Just` Â±ûÊÄßÂíå‰∏Ä‰∏™ `a` ÂèÇÊï∞„ÄÇ`$elm$core$Maybe$Just` Â±ûÊÄßË°®Á§∫ËøôÊòØ‰∏Ä‰∏™ÂèØËÉΩÂ≠òÂú®ÁöÑÂØπË±°ÔºåÂÆÉÂåÖÂê´‰∏Ä‰∏™ÂÄºÔºåÊàñËÄÖÊòØ `undefined`„ÄÇ

6. `$elm$core$Maybe$Nothing`ÔºöËØ•ÂáΩÊï∞ÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞ÔºåÂÆÉÁöÑ `$elm$core$Maybe$Nothing` Â±ûÊÄßË°®Á§∫ËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞Ôºå‰ΩÜÂÆÉ‰∏ç‰ºöË¢´Ê†áËÆ∞‰∏∫ÂÖ®Â±ÄÂáΩÊï∞„ÄÇÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `a`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåÂåÖÂê´‰∏Ä‰∏™ `$elm$core$Maybe$Nothing` Â±ûÊÄßÂíå‰∏Ä‰∏™ `a` ÂèÇÊï∞„ÄÇ`$elm$core$Maybe$Nothing` Â±ûÊÄßË°®Á§∫ËøôÊòØ‰∏Ä‰∏™ÂèØËÉΩ‰∏çÂ≠òÂú®ÁöÑÂØπË±°ÔºåÂÆÉÂåÖÂê´‰∏Ä‰∏™ÂÄºÔºåÊàñËÄÖÊòØ `undefined`„ÄÇ

7. `$elm$core$String$all`ÔºöËØ•ÂáΩÊï∞ÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞ÔºåÂÆÉÁöÑ `$elm$core$String$all` Â±ûÊÄßË°®Á§∫ËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞Ôºå‰ΩÜÂÆÉ‰∏ç‰ºöË¢´Ê†áËÆ∞‰∏∫ÂÖ®Â±ÄÂáΩÊï∞„ÄÇÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `a`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂÆÉÊòØ `$elm$core$String$all` ÂáΩÊï∞ÁöÑ‰∏Ä‰∏™ÂÆû‰æã„ÄÇ

8. `$elm$core$Basic$and`ÔºöËØ•ÂáΩÊï∞ÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞ÔºåÂÆÉÁöÑ `$elm$core$Basic$and` Â±ûÊÄßË°®Á§∫ËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞Ôºå‰ΩÜÂÆÉ‰∏ç‰ºöË¢´Ê†áËÆ∞‰∏∫ÂÖ®Â±ÄÂáΩÊï∞„ÄÇÂÆÉÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ `a` Âíå `b`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄº„ÄÇ

9. `$elm$core$Basic$append`ÔºöËØ•ÂáΩÊï∞ÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞ÔºåÂÆÉÁöÑ `$elm$core$Basic$append` Â±ûÊÄßË°®Á§∫ËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂáΩÊï∞Ôºå‰ΩÜÂÆÉ‰∏ç‰ºöË¢´Ê†áËÆ∞‰∏∫ÂÖ®Â±ÄÂáΩÊï∞„ÄÇÂÆÉÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ `a` Âíå `b`Ôºå


```
var $elm$core$Result$Ok = function (a) {
	return {$: 0, a: a};
};
var $elm$json$Json$Decode$OneOf = function (a) {
	return {$: 2, a: a};
};
var $elm$core$Basics$False = 1;
var $elm$core$Basics$add = _Basics_add;
var $elm$core$Maybe$Just = function (a) {
	return {$: 0, a: a};
};
var $elm$core$Maybe$Nothing = {$: 1};
var $elm$core$String$all = _String_all;
var $elm$core$Basics$and = _Basics_and;
var $elm$core$Basics$append = _Utils_append;
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∫õJavaScriptÂáΩÊï∞ÔºåÂÖ∑Êúâ‰ª•‰∏ãÂäüËÉΩÔºö

1. `_Json_encode`ÂáΩÊï∞ÔºöÂØπ‰º†ÂÖ•ÁöÑJSONÂ≠óÁ¨¶‰∏≤ËøõË°åÁºñÁ†ÅÔºå‰ΩøÂÖ∂ÂèØ‰ª•Ë¢´JavaScriptÂØπË±°ÂíåÂáΩÊï∞‰ΩøÁî®„ÄÇ
2. `_String_fromNumber`ÂáΩÊï∞ÔºöÂ∞Ü‰º†ÂÖ•ÁöÑÊï∞Â≠óÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇ
3. `F2`ÂáΩÊï∞ÔºöËøôÊòØ‰∏Ä‰∏™Ë£ÖÈ•∞ÂáΩÊï∞ÔºåÁî®‰∫éÂàõÂª∫ÂèØ‰ª•Ê†ºÂºèÂåñÂíåÊ†ºÂºèÂåñËæìÂÖ•Â≠óÁ¨¶‰∏≤ÁöÑÂáΩÊï∞„ÄÇ
4. `varify`ÂáΩÊï∞ÔºöÂØπ‰º†ÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤ËøõË°åË∞ÉÁî®ÔºåÊ†πÊçÆ‰∏çÂêåÁöÑÊ†ºÂºèÈÄâÈ°πËøîÂõû‰∏çÂêåÁöÑÁªìÊûúÔºåÊ†ºÂºèÈÄâÈ°πÂåÖÊã¨Ôºö
	* `__Ôºå‰∏ÄËà¨__`ÔºöÂØπ‰º†ÂÖ•Â≠óÁ¨¶‰∏≤ËøõË°åÁõ¥Êé•Ê†ºÂºèÂåñ„ÄÇ
	* `__Ôºå{value: 'format'}__`ÔºöÂØπ‰º†ÂÖ•Â≠óÁ¨¶‰∏≤ËøõË°åÊ†ºÂºèÂåñÔºåÂπ∂Â∞ÜÁªìÊûúÂ≠òÂÇ®Âà∞‰∏Ä‰∏™ÊåáÂÆöÁöÑÂèòÈáè‰∏≠„ÄÇ
	* `__Ôºå{value: 'decoder'}__`ÔºöÂØπ‰º†ÂÖ•Â≠óÁ¨¶‰∏≤ËøõË°åÂèçÁºñÁ†ÅÔºåÂπ∂Â∞ÜÁªìÊûúÂ≠òÂÇ®Âà∞‰∏Ä‰∏™ÊåáÂÆöÁöÑÂèòÈáè‰∏≠„ÄÇ
5. `indent`ÂáΩÊï∞ÔºöÊ†πÊçÆ‰º†ÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤ÁöÑÂ≠óËäÇÊï∞ÂíåÊ†ºÂºèÈÄâÈ°πÔºåÂØπÂ≠óÁ¨¶‰∏≤ËøõË°å indentÔºå‰ª•‰æøÊ≠£Á°ÆÊòæÁ§∫„ÄÇ


```
var $elm$json$Json$Encode$encode = _Json_encode;
var $elm$core$String$fromInt = _String_fromNumber;
var $elm$core$String$join = F2(
	function (sep, chunks) {
		return A2(
			_String_join,
			sep,
			_List_toArray(chunks));
	});
var $elm$core$String$split = F2(
	function (sep, string) {
		return _List_fromArray(
			A2(_String_split, sep, string));
	});
var $elm$json$Json$Decode$indent = function (str) {
	return A2(
		$elm$core$String$join,
		'\n    ',
		A2($elm$core$String$split, '\n', str));
};
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `F3` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂáΩÊï∞ `func`„ÄÅ‰∏Ä‰∏™ÂàùÂßãÂÄº `acc`ÔºåÂíå‰∏Ä‰∏™ÂèÇÊï∞ÂàóË°® `list`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ `while` Âæ™ÁéØÂíå‰∏Ä‰∏™Êù°‰ª∂ËØ≠Âè•ÔºåÊ†πÊçÆÂàóË°® `list` ‰∏≠ÁöÑÂÖÉÁ¥†ÊòØÂê¶ÂåÖÂê´ÂÖÉÁ¥† `list.b` Êù•ÂÜ≥ÂÆöÊòØÂê¶ËøîÂõû `acc` ÊàñËÄÖÊõ¥Êñ∞ `func` Âíå `acc` ÂèòÈáè„ÄÇÂ¶ÇÊûú `list.b` Â≠òÂú®ÔºåÂàôÈÄíÂΩíË∞ÉÁî® `foldl` ÂáΩÊï∞ÔºåÂê¶ÂàôÊâßË°åÂæ™ÁéØ‰∏≠ÁöÑ‰ª£Á†ÅÂπ∂ËøîÂõû `acc`„ÄÇ

`foldl` ÂáΩÊï∞ÂÜÖÈÉ®‰πüÊòØ‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ `while` Âæ™ÁéØÔºåÂà§Êñ≠ÂàóË°® `list` ÊòØÂê¶ÂåÖÂê´ÂÖÉÁ¥† `list.a`ÔºåÂ¶ÇÊûúÊòØÔºåÂàôÊâßË°åÂæ™ÁéØ‰∏≠ÁöÑ‰ª£Á†ÅÔºåÁÑ∂ÂêéÁªßÁª≠Ë∞ÉÁî® `foldl` ÂáΩÊï∞„ÄÇÂæ™ÁéØ‰∏≠ÁöÑ‰ª£Á†ÅÊòØÂ∞ÜÈÄíÂΩíË∞ÉÁî®‰º†ÈÄíÁªô `func` ÁöÑÂáΩÊï∞ÔºåÂ∞Ü `x` ËµãÂÄº‰∏∫ `list.a`ÔºåÂ∞Ü `xs` ËµãÂÄº‰∏∫ `list.b`ÔºåÂ∞Ü `func` ËµãÂÄº‰∏∫ `func`ÔºåÂ∞Ü `acc` ËµãÂÄº‰∏∫ `acc`ÔºåÂ∞Ü `list` ËµãÂÄº‰∏∫ `xs`„ÄÇÁÑ∂ÂêéÁªßÁª≠Ë∞ÉÁî® `foldl` ÂáΩÊï∞ÔºåÂπ∂Â∞Ü‰∏ä‰∏ÄÊ¨°ÁöÑ `func`„ÄÅ`acc` Âíå `xs` ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `foldl` ÂáΩÊï∞„ÄÇËøôÊ†∑Ôºå`foldl` ÂáΩÊï∞Â∞±ÂèØ‰ª•ÈÄêÊ≠•ÊâßË°åËß£ÊûÑÊìç‰ΩúÔºåÂ∞ÜÂàóË°® `list` ‰∏≠ÁöÑÂÖÉÁ¥†ÂºπÂá∫Âπ∂ËµãÂÄºÁªô `func` Âíå `acc`ÔºåÂÆûÁé∞ÂàóË°®ÁöÑÈÅçÂéÜÂíåËµãÂÄº„ÄÇ


```
var $elm$core$List$foldl = F3(
	function (func, acc, list) {
		foldl:
		while (true) {
			if (!list.b) {
				return acc;
			} else {
				var x = list.a;
				var xs = list.b;
				var $temp$func = func,
					$temp$acc = A2(func, x, acc),
					$temp$list = xs;
				func = $temp$func;
				acc = $temp$acc;
				list = $temp$list;
				continue foldl;
			}
		}
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$List$length` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂèØËø≠‰ª£ÂØπË±° `xs`„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ§ÑÁêÜÁªôÂÆöÁöÑ `xs` ÂØπË±°ÔºåÂ∞ÜÂÖ∂ÊãÜÂàÜÊàê‰∏Ä‰∏™Êñ∞ÁöÑÂàóË°®ÔºåÂπ∂ËøîÂõûËØ•ÂàóË°®ÁöÑ length„ÄÇ

ÂáΩÊï∞‰Ωì‰∏≠‰ΩøÁî®‰∫Ü‰∏â‰∏™ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞Ôºö

- `F2(function(_v0, i) { return i + 1; });` ÊòØ‰∏Ä‰∏™ÁÆ≠Â§¥ÂáΩÊï∞ÔºåÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `i`ÔºåËøîÂõû‰∏ã‰∏Ä‰∏™Âæ™ÁéØÁöÑ‰∏ãÊ†á `i+1`„ÄÇ
- `F3(function(lo, hi, list) { return rangeHelp(lo, hi, list); });` ÊòØ‰∏Ä‰∏™ÁÆ≠Â§¥ÂáΩÊï∞ÔºåÊé•Âèó‰∏â‰∏™ÂèÇÊï∞ `lo`„ÄÅ`hi` Âíå `list`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®‰∫Ü `while` Âæ™ÁéØÔºåÁõ¥Âà∞ `lo` Â§ß‰∫é `hi` Êó∂ÊâçËøîÂõû `list`„ÄÇÂÜÖÈÉ®‰ΩøÁî®‰∫Ü `rangeHelp` ÂáΩÊï∞Ôºå‰ºöÂú®Âæ™ÁéØËøáÁ®ã‰∏≠ËøîÂõû‰∏Ä‰∏™Â∏ÆÂä©ÊÄßÁöÑÊèêÁ§∫‰ø°ÊÅØÔºå‰ª•‰æøÁî®Êà∑‰∫ÜËß£ÂáΩÊï∞Ê≠£Âú®ÊâßË°åÁöÑÊìç‰Ωú„ÄÇ
- `_List_map2($elm$core$List$rangeHelp, 'echo', 'en');` ÊòØ‰∏Ä‰∏™Â∏¶ÊúâÂèÇÊï∞ÁöÑÂáΩÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÁÆ≠Â§¥ÂáΩÊï∞ÔºåÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ `lo` Âíå `hi`ÔºåËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÊåáÂÆöËæìÂá∫Ê†ºÂºè„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®‰∫Ü `_List_map2` ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ÂèØËø≠‰ª£ÂØπË±° `xs`ÔºåÂπ∂Â∞ÜÂÖ∂‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†Êâì‰π±È°∫Â∫èÂêéËøîÂõû„ÄÇÂú®ËøôÈáåÔºåÂÆÉÊé•Êî∂ `$elm$core$List$rangeHelp` ÂáΩÊï∞ËøîÂõûÁöÑÊèêÁ§∫‰ø°ÊÅØÔºåÂπ∂Â∞ÜÂÖ∂ÊâìÂç∞Âá∫Êù•„ÄÇ

Êï¥‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ§ÑÁêÜÁªôÂÆöÁöÑ `xs` ÂØπË±°ÔºåÂ∞ÜÂÖ∂ÊãÜÂàÜÊàê‰∏Ä‰∏™Êñ∞ÁöÑÂàóË°®ÔºåÂπ∂ËøîÂõûËØ•ÂàóË°®ÁöÑ length„ÄÇ


```
var $elm$core$List$length = function (xs) {
	return A3(
		$elm$core$List$foldl,
		F2(
			function (_v0, i) {
				return i + 1;
			}),
		0,
		xs);
};
var $elm$core$List$map2 = _List_map2;
var $elm$core$Basics$le = _Utils_le;
var $elm$core$Basics$sub = _Basics_sub;
var $elm$core$List$rangeHelp = F3(
	function (lo, hi, list) {
		rangeHelp:
		while (true) {
			if (_Utils_cmp(lo, hi) < 1) {
				var $temp$lo = lo,
					$temp$hi = hi - 1,
					$temp$list = A2($elm$core$List$cons, hi, list);
				lo = $temp$lo;
				hi = $temp$hi;
				list = $temp$list;
				continue rangeHelp;
			} else {
				return list;
			}
		}
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞ÔºåÂπ∂ËøîÂõû‰∫ÜÂÆÉ‰ª¨ÁöÑÂà´Âêç„ÄÇËøô‰∏§‰∏™ÂáΩÊï∞ÈÉΩÊòØÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ËåÉÂõ¥Ôºàlow Âíå highÔºâÂíå‰∏Ä‰∏™ÂàóË°®ÔºàfÔºâ„ÄÇ

Á¨¨‰∏Ä‰∏™ÂáΩÊï∞ $elm$core$List$range ÁöÑ‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™ËåÉÂõ¥ÔºåËØ•ËåÉÂõ¥‰ªé low Âà∞ high  inclusive„ÄÇÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Âêç‰∏∫ "range" ÁöÑÂàóË°®ÔºåÂÖ∂‰∏≠ÂåÖÂê´‰ªélowÂà∞highÁöÑÊâÄÊúâÂÖÉÁ¥†„ÄÇ

Á¨¨‰∫å‰∏™ÂáΩÊï∞ $elm$core$List$indexedMap ÁöÑ‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™Âè™ÂåÖÂê´Âú® f ‰∏≠ÁöÑÂÖÉÁ¥†ÁöÑÂàóË°®„ÄÇÂáΩÊï∞Êé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÂáΩÊï∞Âíå‰∏Ä‰∏™ÂàóË°®ÔºàxsÔºâ„ÄÇÂáΩÊï∞È¶ñÂÖà‰ΩøÁî® $elm$core$List$map2 ÂáΩÊï∞Â∞Ü f ‰∏é xs ËøûÊé•„ÄÇÁÑ∂ÂêéÔºåÂÆÉ‰ΩøÁî® $elm$core$List$range ÂáΩÊï∞ËÆ°ÁÆó low Âà∞ high ÁöÑËåÉÂõ¥„ÄÇÊúÄÂêéÔºåÂÆÉ‰ΩøÁî®ÂàóË°®Á¥¢ÂºïËøêÁÆóÁ¨¶ () ÂíåÂèñÂèç (~) ËøêÁÆóÁ¨¶ÔºåÂ∞ÜÁªìÊûúËΩ¨Êç¢‰∏∫Âè™ÂåÖÂê´Âú® f ‰∏≠ÁöÑÂÖÉÁ¥†ÁöÑÂàóË°®„ÄÇ

ÊÄª‰ΩìËÄåË®ÄÔºåËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ËåÉÂõ¥ÔºåÁ¨¨‰∫å‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Âè™ÂåÖÂê´Âú®Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºàfÔºâ‰∏≠ÁöÑÂÖÉÁ¥†ÁöÑÂàóË°®„ÄÇ


```
var $elm$core$List$range = F2(
	function (lo, hi) {
		return A3($elm$core$List$rangeHelp, lo, hi, _List_Nil);
	});
var $elm$core$List$indexedMap = F2(
	function (f, xs) {
		return A3(
			$elm$core$List$map2,
			f,
			A2(
				$elm$core$List$range,
				0,
				$elm$core$List$length(xs) - 1),
			xs);
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫ÜÂá†‰∏™ÂáΩÊï∞ÔºåÁî®‰∫éÂ∞ÜÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫Êï∞Â≠óÁºñÁ†Å„ÄÇ

Á¨¨‰∏Ä‰∏™ÂáΩÊï∞ `_Char_toCode` Êé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶ÂèÇÊï∞ÔºåÂπ∂ËøîÂõûÂÖ∂ ASCII ÁºñÁ†Å„ÄÇÁ¨¨‰∫å‰∏™ÂáΩÊï∞ `isLower` Êé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶ÂèÇÊï∞ÔºåÂπ∂ËøîÂõûÂÆÉÊòØÂê¶‰∏∫Â∞èÂÜôÂ≠óÊØç„ÄÇÁ¨¨‰∏â‰∏™ÂáΩÊï∞ `isUpper` Êé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶ÂèÇÊï∞ÔºåÂπ∂ËøîÂõûÂÆÉÊòØÂê¶‰∏∫Â§ßÂÜôÂ≠óÊØç„ÄÇÁ¨¨Âõõ‰∏™ÂáΩÊï∞ `_Basics_or` ÊòØ `elm` Â∫ì‰∏≠‰∏Ä‰∏™ÈÄöÁî®ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éÂà§Êñ≠‰∏§‰∏™ÊàñÂ§ö‰∏™Êù°‰ª∂ÊòØÂê¶ÈÉΩ‰∏∫Áúü„ÄÇÊúÄÂêé‰∏Ä‰∏™ÂáΩÊï∞ `isAlpha` Êé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶ÂèÇÊï∞ÔºåÂπ∂ËøîÂõûÂÆÉÊòØÂê¶‰∏∫Â§ßÂÜôÂ≠óÊØçÊàñËÄÖÂåÖÂê´Â≠óÊØç„ÄÇÊúÄÂêé‰∏Ä‰∏™ÂáΩÊï∞ `isDigit` Êé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶ÂèÇÊï∞ÔºåÂπ∂ËøîÂõûÂÆÉÊòØÂê¶‰∏∫Êï∞Â≠óÂπ∂‰∏î ASCII ÁºñÁ†ÅÂ∞è‰∫éÁ≠â‰∫é 57„ÄÇ


```
var $elm$core$Char$toCode = _Char_toCode;
var $elm$core$Char$isLower = function (_char) {
	var code = $elm$core$Char$toCode(_char);
	return (97 <= code) && (code <= 122);
};
var $elm$core$Char$isUpper = function (_char) {
	var code = $elm$core$Char$toCode(_char);
	return (code <= 90) && (65 <= code);
};
var $elm$core$Basics$or = _Basics_or;
var $elm$core$Char$isAlpha = function (_char) {
	return $elm$core$Char$isLower(_char) || $elm$core$Char$isUpper(_char);
};
var $elm$core$Char$isDigit = function (_char) {
	var code = $elm$core$Char$toCode(_char);
	return (code <= 57) && (48 <= code);
};
```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ‰ª£Á†ÅÁâáÊÆµÔºåÂÆö‰πâ‰∫ÜÂá†‰∏™ÂáΩÊï∞ÂíåÂèòÈáè„ÄÇ

1. `var $elm$core$Char$isAlphaNum`ÔºöËøôÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊé•Êî∂‰∏Ä‰∏™Â≠óÁ¨¶‰Ωú‰∏∫ÂèÇÊï∞ÔºåËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫Ëøô‰∏™Â≠óÁ¨¶ÊòØÂê¶‰∏∫Â≠óÊØçÊàñÊï∞Â≠ó„ÄÇÂáΩÊï∞‰ΩøÁî®‰∫Ü `$elm$core$Char$isLower` Âíå `$elm$core$Char$isUpper` ÂáΩÊï∞Êù•Âà§Êñ≠Â≠óÁ¨¶ÊòØÈôçÂ∫èËøòÊòØÂçáÂ∫èÔºåÁÑ∂Âêé‰ΩøÁî®‰∫Ü `$elm$core$Char$isDigit` ÂáΩÊï∞Êù•Âà§Êñ≠Â≠óÁ¨¶ÊòØÂê¶‰∏∫Êï∞Â≠ó„ÄÇ

2. `var $elm$core$List$reverse`ÔºöËøôÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊé•Êî∂‰∏Ä‰∏™ÂàóË°®‰Ωú‰∏∫ÂèÇÊï∞ÔºåËøîÂõû‰∏Ä‰∏™ÈÄÜÂ∫èÁöÑÂàóË°®„ÄÇÂáΩÊï∞‰ΩøÁî®‰∫Ü `$elm$core$List$foldl`„ÄÅ`$elm$core$List$cons` Âíå `_List_Nil` ‰∏âÁßçÂáΩÊï∞ÔºåÂÖ∂‰∏≠ `$elm$core$List$foldl` ÂáΩÊï∞Â∞ÜÂàóË°®‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†ÊâìÂåÖÊàê‰∏Ä‰∏™Êñ∞ÂàóË°®Ôºå`$elm$core$List$cons` ÂáΩÊï∞‰ªéÊñ∞ÂàóË°®ÁöÑÊ†πÂÖÉÁ¥†ÂºÄÂßãÊ∂àË¥πÔºå`_List_Nil` ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Á©∫ÂàóË°®„ÄÇ

3. `var $elm$core$String$uncons`ÔºöËøôÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊé•Êî∂‰∏Ä‰∏™Êú™ÊàêÂäüÁöÑÂ≠óÁ¨¶‰∏≤‰Ωú‰∏∫ÂèÇÊï∞ÔºåËøîÂõûËøô‰∏™Â≠óÁ¨¶‰∏≤ÁöÑ `uncons` ÊñπÊ≥ï„ÄÇËøô‰∏™ÂáΩÊï∞‰ΩøÁî®‰∫Ü `$elm$core$String$fromInt` ÂáΩÊï∞Â∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢ÊàêÊï∞Â≠óÔºåÁÑ∂Âêé‰ΩøÁî®‰∫Ü `$elm$json$Json$Decode$indent` Âíå `$elm$json$Json$Decode$errorToString` ÂáΩÊï∞Êù•Â§ÑÁêÜÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÈîôËØØÂíåËøîÂõûÈùûÁ©∫Â≠óÁ¨¶‰∏≤„ÄÇ

4. `var $elm$json$Json$Decode$errorOneOf`ÔºöËøôÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ JSON Â≠óÁ¨¶‰∏≤ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÈîôËØØÂØπË±°ÔºåËøîÂõûÈîôËØØÂØπË±°ÁöÑÂîØ‰∏ÄÂèØËÉΩÂéüÂõ†„ÄÇÂáΩÊï∞‰ΩøÁî®‰∫Ü `$elm$json$Json$Decode$errorToString` Âíå `F2` ÂáΩÊï∞ÔºåÂÖ∂‰∏≠ `$elm$json$Json$Decode$errorToString` ÂáΩÊï∞Â∞Ü JSON Â≠óÁ¨¶‰∏≤ËΩ¨Êç¢ÊàêÂ≠óÁ¨¶‰∏≤Ôºå`F2` ÂáΩÊï∞ËøîÂõûÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÈîôËØØÂéüÂõ†ÊàñÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåËøôÈáåÂ¶ÇÊûúÊòØÂ≠óÁ¨¶‰∏≤ÈîôËØØÔºåÂàôËøîÂõû `'\n\n(' + error + ')'`„ÄÇ


```
var $elm$core$Char$isAlphaNum = function (_char) {
	return $elm$core$Char$isLower(_char) || ($elm$core$Char$isUpper(_char) || $elm$core$Char$isDigit(_char));
};
var $elm$core$List$reverse = function (list) {
	return A3($elm$core$List$foldl, $elm$core$List$cons, _List_Nil, list);
};
var $elm$core$String$uncons = _String_uncons;
var $elm$json$Json$Decode$errorOneOf = F2(
	function (i, error) {
		return '\n\n(' + ($elm$core$String$fromInt(i + 1) + (') ' + $elm$json$Json$Decode$indent(
			$elm$json$Json$Decode$errorToString(error))));
	});
var $elm$json$Json$Decode$errorToString = function (error) {
	return A2($elm$json$Json$Decode$errorToStringHelp, error, _List_Nil);
};
```

This appears to be a JavaScript function that generates a log message based on an error object. The function takes a single argument, `error`, which is either an error object or a decoded JSON error message.

The function first checks if the `context` object has a `b` property, which indicates that a JSON error message has been provided. If it does, the function returns a formatted string that includes the error message and the number of errors.

If the `context` object does not have a `b` property, the function returns a formatted string that includes the error message.

If the `error` argument is an error object, the function returns the `msg` property of the error object, which is the error message returned by the `A2` function. The function also returns the `indent` property of the `json` property of the error object, which is used to indent the error message.

If the `error` argument is a decoded JSON error message, the function returns the `indent` property of the `json` property of the error object, which is used to indent the error message.

The function also defines a default case, which simply returns the error message as an array with a single element.


```
var $elm$json$Json$Decode$errorToStringHelp = F2(
	function (error, context) {
		errorToStringHelp:
		while (true) {
			switch (error.$) {
				case 0:
					var f = error.a;
					var err = error.b;
					var isSimple = function () {
						var _v1 = $elm$core$String$uncons(f);
						if (_v1.$ === 1) {
							return false;
						} else {
							var _v2 = _v1.a;
							var _char = _v2.a;
							var rest = _v2.b;
							return $elm$core$Char$isAlpha(_char) && A2($elm$core$String$all, $elm$core$Char$isAlphaNum, rest);
						}
					}();
					var fieldName = isSimple ? ('.' + f) : ('[\'' + (f + '\']'));
					var $temp$error = err,
						$temp$context = A2($elm$core$List$cons, fieldName, context);
					error = $temp$error;
					context = $temp$context;
					continue errorToStringHelp;
				case 1:
					var i = error.a;
					var err = error.b;
					var indexName = '[' + ($elm$core$String$fromInt(i) + ']');
					var $temp$error = err,
						$temp$context = A2($elm$core$List$cons, indexName, context);
					error = $temp$error;
					context = $temp$context;
					continue errorToStringHelp;
				case 2:
					var errors = error.a;
					if (!errors.b) {
						return 'Ran into a Json.Decode.oneOf with no possibilities' + function () {
							if (!context.b) {
								return '!';
							} else {
								return ' at json' + A2(
									$elm$core$String$join,
									'',
									$elm$core$List$reverse(context));
							}
						}();
					} else {
						if (!errors.b.b) {
							var err = errors.a;
							var $temp$error = err,
								$temp$context = context;
							error = $temp$error;
							context = $temp$context;
							continue errorToStringHelp;
						} else {
							var starter = function () {
								if (!context.b) {
									return 'Json.Decode.oneOf';
								} else {
									return 'The Json.Decode.oneOf at json' + A2(
										$elm$core$String$join,
										'',
										$elm$core$List$reverse(context));
								}
							}();
							var introduction = starter + (' failed in the following ' + ($elm$core$String$fromInt(
								$elm$core$List$length(errors)) + ' ways:'));
							return A2(
								$elm$core$String$join,
								'\n\n',
								A2(
									$elm$core$List$cons,
									introduction,
									A2($elm$core$List$indexedMap, $elm$json$Json$Decode$errorOneOf, errors)));
						}
					}
				default:
					var msg = error.a;
					var json = error.b;
					var introduction = function () {
						if (!context.b) {
							return 'Problem with the given value:\n\n';
						} else {
							return 'Problem with the value at json' + (A2(
								$elm$core$String$join,
								'',
								$elm$core$List$reverse(context)) + ':\n\n    ');
						}
					}();
					return introduction + ($elm$json$Json$Decode$indent(
						A2($elm$json$Json$Encode$encode, 4, json)) + ('\n\n' + msg));
			}
		}
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Array$branchFactor ÁöÑÂèòÈáè‰∏∫ 32ÔºåÁÑ∂ÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Array$Array_elm_builtin ÁöÑÂáΩÊï∞„ÄÇ

Êé•‰∏ãÊù•ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Elm$JsArray$empty ÁöÑÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ JsArray ÂØπË±°ÔºåÂÖ∂‰∏≠ÂåÖÂê´‰∏Ä‰∏™Á©∫ÂÖÉÁ¥†„ÄÇ

ÁÑ∂ÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Basics$ceiling ÁöÑÂáΩÊï∞Âíå‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Basics$fdiv ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ª¨ÁöÑÂäüËÉΩÂàÜÂà´ÊòØÂêë‰∏äÂèñÊï¥ÂíåÂêë‰∏ãÂèñÊï¥„ÄÇ

Êé•ÁùÄÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Basics$logBase ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑÂäüËÉΩÊòØËÆ°ÁÆó‰ª•Êüê‰∏™Â∫ïÊï∞‰∏∫Âü∫ÁöÑÂØπÊï∞„ÄÇ

ÊúÄÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Basics$toFloat ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑÂäüËÉΩÊòØÂ∞Ü‰∏Ä‰∏™Êï¥Êï∞ËΩ¨Êç¢‰∏∫ÊµÆÁÇπÊï∞„ÄÇ

Êï¥‰∏™ÂáΩÊï∞ËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Array$shiftStep ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑÂäüËÉΩÊòØÂú® $elm$core$Basics$ceiling ÁöÑÂáΩÊï∞‰∏≠ËøõË°åÂ∑¶ÂÅèÁßªÊìç‰ΩúÔºåÂπ∂ËøîÂõûÁªìÊûú„ÄÇ


```
var $elm$core$Array$branchFactor = 32;
var $elm$core$Array$Array_elm_builtin = F4(
	function (a, b, c, d) {
		return {$: 0, a: a, b: b, c: c, d: d};
	});
var $elm$core$Elm$JsArray$empty = _JsArray_empty;
var $elm$core$Basics$ceiling = _Basics_ceiling;
var $elm$core$Basics$fdiv = _Basics_fdiv;
var $elm$core$Basics$logBase = F2(
	function (base, number) {
		return _Basics_log(number) / _Basics_log(base);
	});
var $elm$core$Basics$toFloat = _Basics_toFloat;
var $elm$core$Array$shiftStep = $elm$core$Basics$ceiling(
	A2($elm$core$Basics$logBase, 2, $elm$core$Array$branchFactor));
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Array$empty ÁöÑ JavaScript Á±ªÔºåËØ•Á±ª‰ΩøÁî® $elm$core$Array$Array_elm_builtin„ÄÅ$elm$core$Array$shiftStep„ÄÅ$elm$core$Elm$JsArray$empty Âíå $elm$core$Elm$JsArray$empty ‰Ωú‰∏∫ÂÖ∂ÊûÑÈÄ†ÂáΩÊï∞„ÄÇ

$elm$core$Array$Leaf ÊòØ‰∏Ä‰∏™ÈùôÊÄÅÊñπÊ≥ïÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ aÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÔºö$Âíå a„ÄÇ

$elm$core$Basics$apL Âíå $elm$core$Basics$apR ÊòØ‰∏§‰∏™ÈùôÊÄÅÊñπÊ≥ïÔºåÂÆÉ‰ª¨ÂàÜÂà´Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞ f Âíå xÔºåÂπ∂ËøîÂõû f Âíå x ‰∫íË¥®ÁöÑÂáΩÊï∞„ÄÇ

$elm$core$Basics$eq ÊòØÂè¶‰∏Ä‰∏™ÈùôÊÄÅÊñπÊ≥ïÔºåÂÆÉ‰ΩøÁî® _Utils_equal ÂáΩÊï∞ÊØîËæÉ‰∏§‰∏™ÂÄºÊòØÂê¶Áõ∏Á≠â„ÄÇ

$elm$core$Basics$floor ÊòØÂè¶‰∏Ä‰∏™ÈùôÊÄÅÊñπÊ≥ïÔºåÂÆÉ‰ΩøÁî® _Basics_floor ÂáΩÊï∞Ëé∑Âèñ‰∏Ä‰∏™ÊåáÂÆöÂÄºÁöÑ‰∏ãÊ†á„ÄÇ


```
var $elm$core$Array$empty = A4($elm$core$Array$Array_elm_builtin, 0, $elm$core$Array$shiftStep, $elm$core$Elm$JsArray$empty, $elm$core$Elm$JsArray$empty);
var $elm$core$Elm$JsArray$initialize = _JsArray_initialize;
var $elm$core$Array$Leaf = function (a) {
	return {$: 1, a: a};
};
var $elm$core$Basics$apL = F2(
	function (f, x) {
		return f(x);
	});
var $elm$core$Basics$apR = F2(
	function (x, f) {
		return f(x);
	});
var $elm$core$Basics$eq = _Utils_equal;
var $elm$core$Basics$floor = _Basics_floor;
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ JavaScript Á±ª $elm$core$Elm$JsArray$lengthÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØËé∑Âèñ Elm Ê†ë‰∏≠ÂΩìÂâçËäÇÁÇπÁöÑÊï∞Èáè„ÄÇ

Êé•ÁùÄÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Basics$gt ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÊØîËæÉ‰∏§‰∏™Êï∞ÁöÑÂ§ßÂ∞èÔºåÂ¶ÇÊûúÂ§ß‰∫é 0ÔºåÂàôËøîÂõûÁ¨¨‰∏Ä‰∏™Êï∞ÔºåÂê¶ÂàôËøîÂõûÁ¨¨‰∫å‰∏™Êï∞„ÄÇ

ÁÑ∂ÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Basics$max ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰πüÊòØÊØîËæÉ‰∏§‰∏™Êï∞ÁöÑÂ§ßÂ∞èÔºå‰ΩÜÊòØ‰ºö‰ΩøÁî® Elm Ê†ë‰∏≠ÁöÑÊüêÁßçÁâπÂÆöÊñπÊ≥ïÊù•Ëé∑ÂèñÊúÄÂ§ßÂÄºÔºåÂÖ∑‰ΩìÊñπÊ≥ï‰ºöÂú®‰∏ãÈù¢Ëß£Èáä„ÄÇ

Êé•‰∏ãÊù•ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Basics$mul ÁöÑÂáΩÊï∞ÔºåÂÆÉÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊï∞‰πòÊìç‰ΩúÔºåÂ∞Ü‰º†ÂÖ•ÁöÑÂèÇÊï∞Áõ∏‰πòÂπ∂ËøîÂõû„ÄÇ

ÁÑ∂ÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Array$SubTree ÁöÑÂáΩÊï∞ÔºåÂÆÉËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Â≠êËäÇÁÇπÂºïÁî®Âíå‰∏Ä‰∏™Ê†πËäÇÁÇπÁöÑÂØπË±°ÔºåËøô‰∏™Ê†πËäÇÁÇπÂú®‰º†ÈÄíÁªôÂÆÉÁöÑÂèÇÊï∞‰∏≠‰ΩøÁî® $elm$core$Elm$JsArray$initializeFromList ÂáΩÊï∞ÂàùÂßãÂåñ„ÄÇ

ÊúÄÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Array$compressNodes ÁöÑÂáΩÊï∞ÔºåÂÆÉÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÂéãÁº©ËäÇÁÇπÊ†ëÁöÑÊìç‰ΩúÔºåÂÖ∑‰ΩìÂÆûÁé∞ËøáÁ®ã‰ºöÂú®‰∏ãÈù¢Ëß£Èáä„ÄÇ


```
var $elm$core$Elm$JsArray$length = _JsArray_length;
var $elm$core$Basics$gt = _Utils_gt;
var $elm$core$Basics$max = F2(
	function (x, y) {
		return (_Utils_cmp(x, y) > 0) ? x : y;
	});
var $elm$core$Basics$mul = _Basics_mul;
var $elm$core$Array$SubTree = function (a) {
	return {$: 0, a: a};
};
var $elm$core$Elm$JsArray$initializeFromList = _JsArray_initializeFromList;
var $elm$core$Array$compressNodes = F2(
	function (nodes, acc) {
		compressNodes:
		while (true) {
			var _v0 = A2($elm$core$Elm$JsArray$initializeFromList, $elm$core$Array$branchFactor, nodes);
			var node = _v0.a;
			var remainingNodes = _v0.b;
			var newAcc = A2(
				$elm$core$List$cons,
				$elm$core$Array$SubTree(node),
				acc);
			if (!remainingNodes.b) {
				return $elm$core$List$reverse(newAcc);
			} else {
				var $temp$nodes = remainingNodes,
					$temp$acc = newAcc;
				nodes = $temp$nodes;
				acc = $temp$acc;
				continue compressNodes;
			}
		}
	});
```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂÆÉÊòØ Elm ÁºñÁ®ãËØ≠Ë®ÄÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇElm ÊòØ‰∏ÄÁßçÂáΩÊï∞ÂºèÁºñÁ®ãËåÉÂºèÔºåÂÆÉ‰ΩøÁî® $ÂáΩÊï∞ÂÆö‰πâÂáΩÊï∞ÔºåËøôÁßçËåÉÂºèÂÖÅËÆ∏ÂáΩÊï∞ÂèØ‰ª•ËÆøÈóÆÂ§ñÈÉ®ÂáΩÊï∞ÁöÑÂèòÈáèÔºå‰ΩÜ‰∏çÂÖÅËÆ∏Â§ñÈÉ®ÂáΩÊï∞ËÆøÈóÆÂÜÖÈÉ®ÂáΩÊï∞ÁöÑÂèòÈáè„ÄÇ

ËØ•ÂáΩÊï∞Âêç‰∏∫ `$elm$core$Tuple$first`ÔºåÂÆÉËøîÂõû‰∏Ä‰∏™Âè™ÂåÖÂê´‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÂÖÉÁªÑÔºåËØ•ÂÖÉÁ¥†ÊòØ‰∏Ä‰∏™Êï∞ÂÄºÁ±ªÂûã„ÄÇÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `_v0`ÔºåÂπ∂ËøîÂõûÂÖ∂ÂÜÖÈÉ®ÂáΩÊï∞„ÄÇ

ËØ•ÂáΩÊï∞ÁöÑÂÆûÁé∞‰ΩøÁî®‰∫Ü Elm ÁöÑËØ≠Ê≥ïÊ†ëÈÅçÂéÜÁÆóÊ≥ï„ÄÇËØ•ÁÆóÊ≥ïÈ¶ñÂÖàËÆ°ÁÆóÂá∫ÂΩìÂâçËäÇÁÇπÂèäÂÖ∂Â≠êËäÇÁÇπÁöÑÈïøÂ∫¶ÔºåÁÑ∂ÂêéÈÄíÂΩíÂú∞ÈÅçÂéÜËøô‰∫õËäÇÁÇπ„ÄÇÂú®ÈÅçÂéÜËøáÁ®ã‰∏≠ÔºåÂáΩÊï∞‰ºöËÆ°ÁÆóÊñ∞ÁöÑËäÇÁÇπÈïøÂ∫¶ÔºåÂ¶ÇÊûúÂΩìÂâçËäÇÁÇπÂè™Êúâ‰∏Ä‰∏™Â≠êËäÇÁÇπÔºåÂàôËøîÂõûËØ•Â≠êËäÇÁÇπÁöÑÂÄºÔºõÂê¶ÂàôÔºåÂáΩÊï∞‰ºöÂ∞ÜÂΩìÂâçËäÇÁÇπÂèäÂÖ∂Â≠êËäÇÁÇπÂéãÁº©Êàê‰∏Ä‰∏™Êñ∞ËäÇÁÇπÔºåÁÑ∂ÂêéËøîÂõûÊñ∞ËäÇÁÇπÁöÑÂÄº„ÄÇËøô‰∏™ËøáÁ®ã‰∏ÄÁõ¥ÊåÅÁª≠Âà∞ÈÅçÂéÜÁªìÊùüÔºåÂç≥ÊâÄÊúâËäÇÁÇπÈÉΩË¢´ÈÅçÂéÜËøá‰∏∫Ê≠¢„ÄÇ

ÊúÄÂêéÔºåËØ•ÂáΩÊï∞ËøîÂõûÁöÑÊòØÁªèËøáÂéãÁº©ÁöÑÊñ∞ËäÇÁÇπÔºåÂÖ∂Âè™ÂåÖÂê´‰∏Ä‰∏™ÂÖÉÁ¥†Ôºå‰∏îËØ•ÂÖÉÁ¥†ÊòØ‰∏Ä‰∏™Êï∞ÂÄºÁ±ªÂûã„ÄÇ


```
var $elm$core$Tuple$first = function (_v0) {
	var x = _v0.a;
	return x;
};
var $elm$core$Array$treeFromBuilder = F2(
	function (nodeList, nodeListSize) {
		treeFromBuilder:
		while (true) {
			var newNodeSize = $elm$core$Basics$ceiling(nodeListSize / $elm$core$Array$branchFactor);
			if (newNodeSize === 1) {
				return A2($elm$core$Elm$JsArray$initializeFromList, $elm$core$Array$branchFactor, nodeList).a;
			} else {
				var $temp$nodeList = A2($elm$core$Array$compressNodes, nodeList, _List_Nil),
					$temp$nodeListSize = newNodeSize;
				nodeList = $temp$nodeList;
				nodeListSize = $temp$nodeListSize;
				continue treeFromBuilder;
			}
		}
	});
```

ËØ•‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Array$builderToArray` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö

1. `reverseNodeList`Ôºö‰∏Ä‰∏™Ë°®Á§∫Êï∞ÁªÑÂÖÉÁ¥†ÁöÑÊï∞ÁªÑÔºåÁî®‰∫éÊûÑÂª∫Êï∞ÁªÑ„ÄÇ
2. `builder`Ôºö‰∏Ä‰∏™ÂåÖÂê´ÈîÆÂÄºÂØπÁöÑÂØπË±°ÔºåÂÖ∂‰∏≠ÈîÆÊòØÊï∞ÁªÑÂÖÉÁ¥†ÁöÑÁ¥¢ÂºïÔºåÂÄºÊòØÊï∞ÁªÑÂÖÉÁ¥†ÁöÑÂÜÖÂÆπ„ÄÇ

ÂáΩÊï∞ÂÜÖÈÉ®È¶ñÂÖàÊ£ÄÊü• `builder.b` ÊòØÂê¶‰∏∫ `false`ÔºåÂ¶ÇÊûúÊòØÔºåÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Á©∫Êï∞ÁªÑÔºåÂê¶ÂàôÁªßÁª≠ÊâßË°å‰ª•‰∏ãÊ≠•È™§Ôºö

1. Â¶ÇÊûú `builder.b` ‰∏∫ `false`ÔºåÂáΩÊï∞Â∞ÜË∞ÉÁî® `A4` ÂáΩÊï∞ÔºåÂÆÉËøîÂõû‰∏Ä‰∏™Ë°®Á§∫ÈîôËØØ‰ø°ÊÅØÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ
2. Â¶ÇÊûú `builder.b` ‰∏∫ `true`ÔºåÂáΩÊï∞Â∞ÜÊâßË°å‰ª•‰∏ãÊ≠•È™§Ôºö

a. Â¶ÇÊûú `reverseNodeList` ÊòØ‰∏Ä‰∏™Á©∫Êï∞ÁªÑÔºåÂáΩÊï∞Â∞ÜËøîÂõû‰∏Ä‰∏™Ë°®Á§∫ÈîôËØØ‰ø°ÊÅØÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ

b. Â¶ÇÊûú `reverseNodeList` ‰∏çÊòØÁ©∫Êï∞ÁªÑÔºåÂáΩÊï∞Â∞ÜËÆ°ÁÆóÊï∞ÁªÑÈïøÂ∫¶ÔºåÂπ∂Â∞ÜÂÖ∂‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `A2` ÂáΩÊï∞„ÄÇ

c. ÂáΩÊï∞Â∞Ü `reverseNodeList` Êï∞‰∏≠ÁöÑÂÖÉÁ¥†È¢†ÂÄíÈ°∫Â∫èÔºåÂπ∂Â∞ÜÁªìÊûú‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `A2` ÂáΩÊï∞„ÄÇ

d. ÂáΩÊï∞Â∞ÜÊ≠£Á°ÆÁöÑËäÇÁÇπÂàóË°®ÂíåÊï∞ÁªÑÈïøÂ∫¶Â≠òÂÇ®Âà∞ `tree` Âíå `depth` ÂèòÈáè‰∏≠ÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `A2` ÂáΩÊï∞„ÄÇ

e. ÊúÄÂêéÔºåÂáΩÊï∞Â∞Ü `tree` Âíå `builder.e` ‰Ωú‰∏∫ÂèÇÊï∞ËøîÂõûÔºåË°®Á§∫ÊûÑÂª∫ÊàêÂäü„ÄÇ


```
var $elm$core$Array$builderToArray = F2(
	function (reverseNodeList, builder) {
		if (!builder.b) {
			return A4(
				$elm$core$Array$Array_elm_builtin,
				$elm$core$Elm$JsArray$length(builder.e),
				$elm$core$Array$shiftStep,
				$elm$core$Elm$JsArray$empty,
				builder.e);
		} else {
			var treeLen = builder.b * $elm$core$Array$branchFactor;
			var depth = $elm$core$Basics$floor(
				A2($elm$core$Basics$logBase, $elm$core$Array$branchFactor, treeLen - 1));
			var correctNodeList = reverseNodeList ? $elm$core$List$reverse(builder.f) : builder.f;
			var tree = A2($elm$core$Array$treeFromBuilder, correctNodeList, builder.b);
			return A4(
				$elm$core$Array$Array_elm_builtin,
				$elm$core$Elm$JsArray$length(builder.e) + treeLen,
				A2($elm$core$Basics$max, 5, depth * $elm$core$Array$shiftStep),
				tree,
				builder.e);
		}
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ "$elm$core$Basics$idiv" ÁöÑÂèòÈáèÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØË∞ÉÁî®‰∏Ä‰∏™Âêç‰∏∫ "initializeHelp" ÁöÑÂáΩÊï∞ÔºåÂπ∂‰∏îËøô‰∏™ÂáΩÊï∞‰ΩøÁî®‰∫Ü "var $elm$core$Array$initializeHelp" ÁöÑÂèÇÊï∞„ÄÇ

$elm$core$Array$initializeHelp Ëøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂ∏ÆÂä©Áî®Êà∑ÂàùÂßãÂåñ‰∏Ä‰∏™Êï∞ÁªÑÁöÑÂÖÉÁ¥†„ÄÇÂÆÉÊé•ÂèóÂõõ‰∏™ÂèÇÊï∞Ôºö

* fnÔºö‰∏Ä‰∏™ÂáΩÊï∞ÔºåÁî®‰∫éÂ§ÑÁêÜÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†„ÄÇ
* fromIndexÔºö‰∏Ä‰∏™Êï¥Êï∞ÔºåÁî®‰∫éÊåáÂÆö‰ªéÊï∞ÁªÑÁöÑÂì™‰∏™ÂÖÉÁ¥†ÂºÄÂßãÁ¥¢Âºï„ÄÇ
* lenÔºö‰∏Ä‰∏™Êï¥Êï∞ÔºåË°®Á§∫Êï∞ÁªÑÁöÑÈïøÂ∫¶„ÄÇ
* nodeListÔºö‰∏Ä‰∏™ÂåÖÂê´Ë¶ÅÊ∑ªÂä†Âà∞Êï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†ÁöÑÊï∞ÁªÑ„ÄÇ
* tailÔºö‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåË°®Á§∫Êï∞ÁªÑÁöÑÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ

ÂáΩÊï∞ÁöÑÈÄªËæëÈ¶ñÂÖàÊ£ÄÊü•‰ªéÁ¥¢ÂºïÊòØÂê¶Â∞è‰∫é0ÔºåÂ¶ÇÊûúÊòØÔºåÂ∞±ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ÊâÄÊúâÂÖÉÁ¥†Âπ∂ÊåâÁÖß branchFactor ÂàáÂàÜÁöÑÈïøÂ∫¶‰∏∫ 0 ÁöÑÊï∞ÁªÑÔºåÂê¶ÂàôÔºåÂ∞±ÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

* ÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´ÂÖÉÁ¥†Âπ∂ÊåâÁÖß branchFactor ÂàáÂàÜÁöÑÊï∞ÁªÑ„ÄÇ
* Â¶ÇÊûúÂΩìÂâçÂÖÉÁ¥†ÊòØ‰∏Ä‰∏™Âè∂Â≠êËäÇÁÇπÔºåÂ∞±Â∞ÜÂÖ∂Ê∑ªÂä†Âà∞Êï∞ÁªÑ‰∏≠„ÄÇ
* ÈÄíÂΩíË∞ÉÁî®ÂáΩÊï∞Êú¨Ë∫´ÔºåÁªßÁª≠ÂàùÂßãÂåñ help ÂèòÈáè„ÄÇ

Êï¥‰∏™ÂáΩÊï∞ÁöÑÂÆûÁé∞‰ΩøÁî®‰∫Ü _Elm_Core_Array_Leaf Âíå _Utils_lt ÂáΩÊï∞ÔºåÂêåÊó∂‰ΩøÁî®‰∫ÜËá™ÂÆö‰πâÁöÑÂàùÂßãÂåñÂèÇÊï∞ helpÔºåËøô‰∏™ÂèÇÊï∞‰ºº‰πéÊ≤°ÊúâË¢´ÂÆö‰πâËøáÔºå‰ΩÜÂÆÉÁöÑ‰ΩúÁî®ÊòØÂú®ÊâßË°åÂàùÂßãÂåñHelp ÂáΩÊï∞Êó∂Êèê‰æõÈ¢ùÂ§ñÁöÑÂ∏ÆÂä©„ÄÇ


```
var $elm$core$Basics$idiv = _Basics_idiv;
var $elm$core$Basics$lt = _Utils_lt;
var $elm$core$Array$initializeHelp = F5(
	function (fn, fromIndex, len, nodeList, tail) {
		initializeHelp:
		while (true) {
			if (fromIndex < 0) {
				return A2(
					$elm$core$Array$builderToArray,
					false,
					{f: nodeList, b: (len / $elm$core$Array$branchFactor) | 0, e: tail});
			} else {
				var leaf = $elm$core$Array$Leaf(
					A3($elm$core$Elm$JsArray$initialize, $elm$core$Array$branchFactor, fromIndex, fn));
				var $temp$fn = fn,
					$temp$fromIndex = fromIndex - $elm$core$Array$branchFactor,
					$temp$len = len,
					$temp$nodeList = A2($elm$core$List$cons, leaf, nodeList),
					$temp$tail = tail;
				fn = $temp$fn;
				fromIndex = $temp$fromIndex;
				len = $temp$len;
				nodeList = $temp$nodeList;
				tail = $temp$tail;
				continue initializeHelp;
			}
		}
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Basics$remainderBy` ÁöÑÂèòÈáèÔºåÂÖ∂ÂÄº‰∏∫ `_Basics_remainderBy` „ÄÇÊé•‰∏ãÊù•ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Array$initialize` ÁöÑÂáΩÊï∞ÔºåÂÖ∂Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÈïøÂ∫¶ `len` Âíå‰∏Ä‰∏™ÂáΩÊï∞ `fn`„ÄÇÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™Êñ∞ÂàóË°®ÔºåÂπ∂Âú®Êñ∞ÂàóË°®‰∏≠Ê∑ªÂä†ÊàñÂà†Èô§ÂÖÉÁ¥†„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂáΩÊï∞‰ºöÊ†πÊçÆ `len` ÁöÑÂ§ßÂ∞èÔºåÈááÁî®‰∏çÂêåÁöÑÁ≠ñÁï•Êù•ÂàõÂª∫ÊàñÂà†Èô§Êñ∞ÂàóË°®„ÄÇÂ¶ÇÊûú `len` Â∞è‰∫éÊàñÁ≠â‰∫é 0ÔºåÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Á©∫ÂàóË°®„ÄÇÂê¶ÂàôÔºåÂáΩÊï∞ÂàõÂª∫‰∏Ä‰∏™ÂÖ∑Êúâ `len` ÂÖÉÁ¥†ÁöÑÊñ∞ÂàóË°®ÔºåÂπ∂Â∞ÜÂâ©‰ΩôÁöÑÂÖÉÁ¥†Ê∑ªÂä†Âà∞Êñ∞ÂàóË°®ÁöÑÊú´Â∞æ„ÄÇÂÖ∑‰ΩìÂÆûÁé∞ÊòØÈÄöËøá `A3` Âíå `A5` ÂáΩÊï∞Êù•ÂÆûÁé∞ÁöÑÔºåÂÖ∂‰∏≠ `A3` ÂáΩÊï∞Áî®‰∫éËÆ°ÁÆóÊñ∞ÂàóË°®‰∏≠ÂÖÉÁ¥†ÁöÑÊï∞ÈáèÔºåËÄå `A5` ÂáΩÊï∞Áî®‰∫éËÆ°ÁÆóÊñ∞ÂàóË°®‰∏≠ÂÖÉÁ¥†ÁöÑÁ¥¢Âºï„ÄÇ

ÊúÄÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Basics$True` ÁöÑÂèòÈáèÔºåÂÖ∂ÂÄº‰∏∫ 0ÔºåË°®Á§∫‰∏Ä‰∏™Â∏ÉÂ∞îÂÄº„ÄÇÊé•ÁùÄÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Result$isOk` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™Âêç‰∏∫ `result` ÁöÑÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â∏ÉÂ∞îÂÄº„ÄÇÂ¶ÇÊûú `result` ÂØπË±°ÂåÖÂê´‰∏Ä‰∏™ `$` Â±ûÊÄßÔºåÂàôËøîÂõû `true`ÔºåÂê¶ÂàôËøîÂõû `false`„ÄÇ


```
var $elm$core$Basics$remainderBy = _Basics_remainderBy;
var $elm$core$Array$initialize = F2(
	function (len, fn) {
		if (len <= 0) {
			return $elm$core$Array$empty;
		} else {
			var tailLen = len % $elm$core$Array$branchFactor;
			var tail = A3($elm$core$Elm$JsArray$initialize, tailLen, len - tailLen, fn);
			var initialFromIndex = (len - tailLen) - $elm$core$Array$branchFactor;
			return A5($elm$core$Array$initializeHelp, fn, initialFromIndex, len, _List_Nil, tail);
		}
	});
var $elm$core$Basics$True = 0;
var $elm$core$Result$isOk = function (result) {
	if (!result.$) {
		return true;
	} else {
		return false;
	}
};
```

ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏Ä‰∏™ JavaScript ‰ª£Á†ÅÁâáÊÆµÔºå‰∏ªË¶ÅÁõÆÁöÑÊòØÂÆûÁé∞ÂØπ JSON Êï∞ÊçÆÁöÑÊò†Â∞ÑÂíåËΩ¨Êç¢„ÄÇ

È¶ñÂÖàÔºåÂÆö‰πâ‰∫Ü‰∏â‰∏™ÂèòÈáèÔºö$elm$json$Json$Decode$map„ÄÅ$elm$json$Json$Decode$map2 Âíå $elm$json$Json$Decode$succeed„ÄÇÂÆÉ‰ª¨ÈÉΩÊé•Âèó‰∏Ä‰∏™Á©∫Êã¨Âè∑ÔºàÈÄöÂ∏∏ÊòØ "") ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ JSON ÂØπË±°„ÄÇ

ÁÑ∂ÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$virtual_dom$VirtualDom$toHandlerInt ÁöÑÂáΩÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™Â§ÑÁêÜÂáΩÊï∞ÔºàÈÄöÂ∏∏ÊòØ "") ‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êï∞ÂÄºÔºåË°®Á§∫Âú® Virtual DOM ‰∏≠ÁöÑ‰ΩçÁΩÆ„ÄÇ

Êé•‰∏ãÊù•ÔºåÈÄöËøá switch ËØ≠Âè•ÔºåÂØπ‰∏äÈù¢ÂÆö‰πâÁöÑ $elm$json$Json$Decode$map„ÄÅ$elm$json$Json$Decode$map2 Âíå $elm$json$Json$Decode$succeed ËøõË°åÈÄê‰∏ÄÊò†Â∞Ñ„ÄÇÂÖ∂‰∏≠ÔºåÂ¶ÇÊûúÂΩìÂâçÁöÑ JSON ÂØπË±°Êó†Ê≥ïË¢´Êò†Â∞ÑÂà∞ any ‰πã‰∏Ä of the three map functionsÔºåÂ∞±‰ºöËøîÂõû‰∏Ä‰∏™ÈªòËÆ§ÁöÑ 3„ÄÇ

ÊúÄÂêéÔºåÈÄöËøáË∞ÉÁî® $elm$virtual_dom$VirtualDom$toHandlerInt Ëøô‰∏™ÂáΩÊï∞ÔºåÂ∞Ü JSON Êï∞ÊçÆÊò†Â∞ÑÂà∞È°µÈù¢‰∏äÁöÑËôöÊãü DOM ÂÖÉÁ¥†‰∏äÔºåÂπ∂ËøîÂõûÂØπÂ∫îÁöÑËôöÊãü DOM ÂÖÉÁ¥†ÁöÑ ID„ÄÇ


```
var $elm$json$Json$Decode$map = _Json_map1;
var $elm$json$Json$Decode$map2 = _Json_map2;
var $elm$json$Json$Decode$succeed = _Json_succeed;
var $elm$virtual_dom$VirtualDom$toHandlerInt = function (handler) {
	switch (handler.$) {
		case 0:
			return 0;
		case 1:
			return 1;
		case 2:
			return 2;
		default:
			return 3;
	}
};
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫ÜÂõõ‰∏™ÂáΩÊï∞ÔºåÂàÜÂà´ÊòØÔºö

1. `$elm$browser$Browser$External`ÔºöËøôÊòØ‰∏Ä‰∏™Â§ñÈÉ®ÂáΩÊï∞Ôºå‰ΩúÁî®‰∫é `$elm$browser$Browser` ÂØπË±°„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `a`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÔºö`$elm$browser$Browser$External` Âíå `a`„ÄÇ
2. `$elm$browser$Browser$Internal`ÔºöËøôÊòØ‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞Ôºå‰ΩúÁî®‰∫é `$elm$browser$Browser` ÂØπË±°„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `a`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÔºö`$elm$browser$Browser$Internal` Âíå `a`„ÄÇ
3. `$elm$core$Basics$identity`ÔºöËøôÊòØ‰∏Ä‰∏™ÂÜÖÈÉ®ÂáΩÊï∞Ôºå‰ΩúÁî®‰∫é `$elm$core$Basics` ÂëΩÂêçÁ©∫Èó¥„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `x`ÔºåÂπ∂ËøîÂõû `x`Ôºå‰∏ç‰ºöÂØπÂèÇÊï∞ËøõË°å‰øÆÊîπ„ÄÇ
4. `$elm$url$Url$Http`„ÄÅ`$elm$url$Url$Https` Âíå `$elm$url$Url`ÔºöËøô‰∏â‰∏™ÂáΩÊï∞ÈÉΩ‰ΩúÁî®‰∫é `$elm$url` ÂëΩÂêçÁ©∫Èó¥„ÄÇÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®ÊòØÔºö
	* `$elm$url$Url$Http`ÔºöÂ∞Ü‰º†ÂÖ•ÁöÑ `url` ÂèÇÊï∞‰∏≠ÁöÑ `http` ÊñπÊ≥ïÊõøÊç¢‰∏∫ `https` ÊñπÊ≥ïÔºåÂπ∂Â∞Ü ` fragment` ÂèÇÊï∞ÁΩÆ‰∏∫Á©∫„ÄÇ
	* `$elm$url$Url$Https`ÔºöÂ∞Ü‰º†ÂÖ•ÁöÑ `url` ÂèÇÊï∞‰∏≠ÁöÑ `https` ÊñπÊ≥ïÊõøÊç¢‰∏∫ `http` ÊñπÊ≥ïÔºåÂπ∂Â∞Ü ` fragment` ÂèÇÊï∞ÁΩÆ‰∏∫Á©∫„ÄÇ
	* `$elm$url$Url`ÔºöÂØπ‰º†ÂÖ•ÁöÑ `url` ÂèÇÊï∞ËøõË°åÂ§ÑÁêÜÔºåÊ†πÊçÆÂçèËÆÆ„ÄÅ‰∏ªÊú∫„ÄÅÁ´ØÂè£„ÄÅË∑ØÂæÑÂíåÊü•ËØ¢Á≠âÂèÇÊï∞ÔºåËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑ URL ÂØπË±°„ÄÇ


```
var $elm$browser$Browser$External = function (a) {
	return {$: 1, a: a};
};
var $elm$browser$Browser$Internal = function (a) {
	return {$: 0, a: a};
};
var $elm$core$Basics$identity = function (x) {
	return x;
};
var $elm$browser$Browser$Dom$NotFound = $elm$core$Basics$identity;
var $elm$url$Url$Http = 0;
var $elm$url$Url$Https = 1;
var $elm$url$Url$Url = F6(
	function (protocol, host, port_, path, query, fragment) {
		return {X: fragment, Z: host, ac: path, ae: port_, ah: protocol, ai: query};
	});
```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ‰ª£Á†ÅÁâáÊÆµÔºåÂÆö‰πâ‰∫ÜÂá†‰∏™ÊñπÊ≥ïÔºåÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®Â¶Ç‰∏ãÔºö

1. `_String_contains`ÔºöÁî®‰∫éÊ£ÄÊü•ÁªôÂÆöÁöÑÂ≠óÁ¨¶‰∏≤ÊòØÂê¶ÂåÖÂê´ÁªôÂÆöÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤„ÄÇ
2. `_String_length`ÔºöÁî®‰∫éËé∑ÂèñÁªôÂÆöÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶„ÄÇ
3. `_String_slice`ÔºöÁî®‰∫éÊà™ÂèñÁªôÂÆöÂ≠óÁ¨¶‰∏≤ÁöÑÂ∑¶‰æßÈÉ®ÂàÜÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âà∞‰∏Ä‰∏™Êñ∞Â≠óÁ¨¶‰∏≤ÂèòÈáè‰∏≠„ÄÇ
4. `F2`ÔºöËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂÆö‰πâ‰∫Ü `_String_slice` ÊñπÊ≥ïÁöÑËæÖÂä©ÂáΩÊï∞ÔºåÁî®‰∫éÂ§ÑÁêÜ slice ÊñπÊ≥ïÁöÑËæìÂÖ•ÂèÇÊï∞„ÄÇÂÆÉÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ÔºöË¶ÅÊà™ÂèñÁöÑÂ≠óÁ¨¶‰∏≤ÂíåÂΩìÂâçÂ≠óÁ¨¶‰∏≤ÁöÑÁ¥¢Âºï„ÄÇÂ¶ÇÊûúÂΩìÂâçÂ≠óÁ¨¶‰∏≤ÂåÖÂê´ÁªôÂÆöÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ÔºåÂÆÉÂ∞ÜËøîÂõûÊà™ÂèñÁöÑÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶ÔºåÂê¶ÂàôËøîÂõû 0„ÄÇ
5. `_String_indexes`ÔºöÁî®‰∫éËé∑ÂèñÁªôÂÆöÂ≠óÁ¨¶‰∏≤‰∏≠ÁªôÂÆöÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑÁ¥¢Âºï„ÄÇ
6. `_String_isEmpty`ÔºöÁî®‰∫éÊ£ÄÊü•ÁªôÂÆöÂ≠óÁ¨¶‰∏≤ÊòØÂê¶‰∏∫Á©∫Â≠óÁ¨¶‰∏≤„ÄÇ


```
var $elm$core$String$contains = _String_contains;
var $elm$core$String$length = _String_length;
var $elm$core$String$slice = _String_slice;
var $elm$core$String$dropLeft = F2(
	function (n, string) {
		return (n < 1) ? string : A3(
			$elm$core$String$slice,
			n,
			$elm$core$String$length(string),
			string);
	});
var $elm$core$String$indexes = _String_indexes;
var $elm$core$String$isEmpty = function (string) {
	return string === '';
};
```

This appears to be a JavaScript function that takes in a string containing an URL path and a set of parameters, and returns the URL that results from removing the path and appending the parameters to the original URL. The function has the following signature:
```php
function f5(protocol, path, params, frag, str) {
 if (isEmpty(str) || contains(str, '@')) {
   return null;
 }

 var v0 = indexOf(':', str);
 if (!v0) {
   return url(protocol, str);
 }

 var port = last(v0.a, 1);
 return url(protocol, str.slice(0, v0.a), port, path, params, frag);
}
```
The `url` function is used to construct the final URL by appending the given parameters to the original URL.


```
var $elm$core$String$left = F2(
	function (n, string) {
		return (n < 1) ? '' : A3($elm$core$String$slice, 0, n, string);
	});
var $elm$core$String$toInt = _String_toInt;
var $elm$url$Url$chompBeforePath = F5(
	function (protocol, path, params, frag, str) {
		if ($elm$core$String$isEmpty(str) || A2($elm$core$String$contains, '@', str)) {
			return $elm$core$Maybe$Nothing;
		} else {
			var _v0 = A2($elm$core$String$indexes, ':', str);
			if (!_v0.b) {
				return $elm$core$Maybe$Just(
					A6($elm$url$Url$Url, protocol, str, $elm$core$Maybe$Nothing, path, params, frag));
			} else {
				if (!_v0.b.b) {
					var i = _v0.a;
					var _v1 = $elm$core$String$toInt(
						A2($elm$core$String$dropLeft, i + 1, str));
					if (_v1.$ === 1) {
						return $elm$core$Maybe$Nothing;
					} else {
						var port_ = _v1;
						return $elm$core$Maybe$Just(
							A6(
								$elm$url$Url$Url,
								protocol,
								A2($elm$core$String$left, i, str),
								port_,
								path,
								params,
								frag));
					}
				} else {
					return $elm$core$Maybe$Nothing;
				}
			}
		}
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$url$Url$chompBeforeQuery ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂ§ÑÁêÜ URL ‰∏≠ÁöÑÊü•ËØ¢Â≠óÁ¨¶‰∏≤ÔºàÔºüÔºâ„ÄÇ

È¶ñÂÖàÔºåÂáΩÊï∞ÁöÑÂèÇÊï∞ÂåÖÊã¨Ôºö

* `protocol`ÔºöÊü•ËØ¢Â≠óÁ¨¶‰∏≤ÁöÑÂçèËÆÆÔºåÂ¶Ç "http" Êàñ "https"„ÄÇ
* `params`ÔºöÊü•ËØ¢Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÂèÇÊï∞Ôºå‰ΩøÁî®ÈóÆÂè∑Ôºà ÔºâÂàÜÈöî„ÄÇ
* `frag`ÔºöÊü•ËØ¢Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÁâáÊÆµÔºå‰ΩøÁî®Áü≠ÂàíÁ∫øÔºà ÔºâÂàÜÈöî„ÄÇ
* `str`ÔºöÊü•ËØ¢Â≠óÁ¨¶‰∏≤„ÄÇ

ÂáΩÊï∞ÁöÑÂü∫Êú¨ÈÄªËæëÂ¶Ç‰∏ãÔºö

1. Â¶ÇÊûúÊü•ËØ¢Â≠óÁ¨¶‰∏≤‰∏∫Á©∫ÔºåÂàôËøîÂõû `undefined`„ÄÇ
2. Âê¶ÂàôÔºå‰ΩøÁî®ÂÜÖÁΩÆÂáΩÊï∞ `A2`ÔºàÂèØËÉΩÊòØ `A1`ÔºâËé∑ÂèñÂçèËÆÆË∑ØÂæÑÔºåÂπ∂Â∞ùËØï‰ΩøÁî® `A2`ÔºàÂèØËÉΩÊòØ `A3`ÔºâËé∑ÂèñÂèÇÊï∞Ë∑ØÂæÑ„ÄÇ
3. Â¶ÇÊûú `A2` Âíå `A3` ÈÉΩËøîÂõû `null`ÔºåÂàôËøîÂõûÂÆ¢Êà∑Á´ØÊèê‰æõÁöÑ URL„ÄÇ
4. Â¶ÇÊûú `A2` ËøîÂõû‰∏Ä‰∏™Èùû `null` ÂÄºÔºåÂàôÁªßÁª≠Â§ÑÁêÜËØ•ÈÉ®ÂàÜ URL„ÄÇ
5. ‰ΩøÁî® `A5`ÔºàÂèØËÉΩÊòØ `A4`ÔºâËé∑Âèñ URL ‰∏≠ÁöÑË∑ØÂæÑÔºåÂπ∂ÈÄíÂΩíÂ§ÑÁêÜÂ≠êË∑ØÂæÑ„ÄÇ
6. Â¶ÇÊûúÂ≠êË∑ØÂæÑ‰∏≠ËøîÂõû `null`ÔºåÂàôÂÅúÊ≠¢ÈÄíÂΩíÔºåÂπ∂ËøîÂõûÂ∑≤ÁªèÂ§ÑÁêÜËøáÁöÑ URL„ÄÇ
7. Â¶ÇÊûúÂ≠êË∑ØÂæÑ‰∏≠ËøîÂõûÈùû `null` ÂÄºÔºåÂàôÁªßÁª≠ÈÄíÂΩíÂ§ÑÁêÜÂ≠êË∑ØÂæÑ„ÄÇ
8. Â¶ÇÊûúÈÄíÂΩíÂà∞‰∫ÜÊúÄÂ∫ïÂ±ÇÔºå‰ªçÁÑ∂ËøîÂõûÂÆ¢Êà∑Á´ØÊèê‰æõÁöÑ URL„ÄÇ

ÊúÄÁªàÁöÑÁªìÊûúÊòØÔºåËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂèØ‰ª•Â§ÑÁêÜÊü•ËØ¢Â≠óÁ¨¶‰∏≤ÁöÑÂáΩÊï∞ÔºåÁî®‰∫éÂú®ÂÆ¢Êà∑Á´Ø URL ‰∏≠Êü•ÊâæÂ≠êÊü•ËØ¢Â≠óÁ¨¶‰∏≤„ÄÇ


```
var $elm$url$Url$chompBeforeQuery = F4(
	function (protocol, params, frag, str) {
		if ($elm$core$String$isEmpty(str)) {
			return $elm$core$Maybe$Nothing;
		} else {
			var _v0 = A2($elm$core$String$indexes, '/', str);
			if (!_v0.b) {
				return A5($elm$url$Url$chompBeforePath, protocol, '/', params, frag, str);
			} else {
				var i = _v0.a;
				return A5(
					$elm$url$Url$chompBeforePath,
					protocol,
					A2($elm$core$String$dropLeft, i, str),
					params,
					frag,
					A2($elm$core$String$left, i, str));
			}
		}
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$url$Url$chompBeforeFragment ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂ§ÑÁêÜ URL ‰∏≠ÁöÑÂèÇÊï∞„ÄÇ"$elm$url$Url$chompBeforeFragment" ‰∏≠ÁöÑ "url" ÈÉ®ÂàÜË°®Á§∫ URIÔºåËÄå "?" Âíå "!" ÈÉ®ÂàÜË°®Á§∫ËØ• URI ‰∏≠ÁöÑÂèÇÊï∞ÈÉ®ÂàÜ„ÄÇ

ÂáΩÊï∞ÁöÑÂèÇÊï∞‰∏∫Âõõ‰∏™ÂèÇÊï∞Ôºö

- "protocol"ÔºöË°®Á§∫ÂçèËÆÆÔºàÂ¶Ç HTTP, HTTPS, etc.Ôºâ„ÄÇ
- "frag"ÔºöË°®Á§∫ÂàÜÁâáÂêéÁöÑÂèÇÊï∞ÈÉ®ÂàÜÔºàÂèÇÊï∞ÂíåÂèÇÊï∞ÂÄº‰πãÈó¥‰ΩøÁî®Á≠âÂè∑ "=" ËøûÊé•Ôºâ„ÄÇ
- "str"ÔºöË°®Á§∫ÂéüÂßãÁöÑÂèÇÊï∞ÈÉ®ÂàÜÔºàÂåÖÂê´ÂèÇÊï∞ÂêçÂíåÂèÇÊï∞ÂÄºÔºâ„ÄÇ
- "str"ÔºöË°®Á§∫Ë¶ÅÊà™ÂèñÁöÑÂèÇÊï∞Âêç„ÄÇ

ÂáΩÊï∞È¶ñÂÖàÂà§Êñ≠ÁªôÂÆöÁöÑÂèÇÊï∞ "str" ÊòØÂê¶‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúÊòØÔºåÂàôËøîÂõû‰∏Ä‰∏™‰ª£Ë°®Á©∫ÁªìÊûúÁöÑÂáΩÊï∞ÂÄº„ÄÇÂê¶ÂàôÔºåÂáΩÊï∞ÂÜÖÈÉ®Ë∞ÉÁî®Âè¶‰∏Ä‰∏™ÂáΩÊï∞ "A2"ÔºåËØ•ÂáΩÊï∞Ê†πÊçÆ "?" Âíå "!" ÂèÇÊï∞ËÆ°ÁÆóÂá∫ URL ‰∏≠ÁöÑÂèÇÊï∞ÈÉ®ÂàÜ„ÄÇÂ¶ÇÊûú "?" ÂèÇÊï∞ËÆ°ÁÆóÂá∫ÁöÑÂèÇÊï∞‰∏∫Á©∫ÔºåÂàôËøîÂõû‰∏Ä‰∏™‰ª£Ë°®Á©∫ÁªìÊûúÁöÑÂáΩÊï∞ÂÄº„ÄÇÂê¶ÂàôÔºåÂáΩÊï∞ÁªßÁª≠ËÆ°ÁÆóÔºåÂπ∂Â∞ÜËÆ°ÁÆóÂá∫ÁöÑÂèÇÊï∞Ê∑ªÂä†Âà∞ÁªìÊûú‰∏≠„ÄÇ

ÊúÄÁªàÔºåÂáΩÊï∞ËøîÂõûÁîüÊàêÁöÑ URL ÂèÇÊï∞ÈÉ®ÂàÜ„ÄÇ


```
var $elm$url$Url$chompBeforeFragment = F3(
	function (protocol, frag, str) {
		if ($elm$core$String$isEmpty(str)) {
			return $elm$core$Maybe$Nothing;
		} else {
			var _v0 = A2($elm$core$String$indexes, '?', str);
			if (!_v0.b) {
				return A4($elm$url$Url$chompBeforeQuery, protocol, $elm$core$Maybe$Nothing, frag, str);
			} else {
				var i = _v0.a;
				return A4(
					$elm$url$Url$chompBeforeQuery,
					protocol,
					$elm$core$Maybe$Just(
						A2($elm$core$String$dropLeft, i + 1, str)),
					frag,
					A2($elm$core$String$left, i, str));
			}
		}
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$url$Url$chompAfterProtocol ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂ§ÑÁêÜ URL ‰∏≠‰ΩøÁî®ÁöÑÂçèËÆÆÔºåÊØîÂ¶Ç "http://www.example.com:80"„ÄÇ

ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏Ä‰∏™ÊòØÂçèËÆÆ(ÊØîÂ¶Ç "http://www.example.com")Ôºå‰∏Ä‰∏™ÊòØ URL ‰∏≠ÁöÑÂèÇÊï∞(ÊØîÂ¶Ç "80,http://www.example.com:80").ÂáΩÊï∞ÂÜÖÈÉ®È¶ñÂÖàÊ£ÄÊü•‰º†ÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤ÊòØÂê¶‰∏∫Á©∫ÔºåÂ¶ÇÊûúÊòØÔºåÂàôËøîÂõû‰∏Ä‰∏™Á©∫ÂÄº„ÄÇÂê¶ÂàôÔºåÂáΩÊï∞ÂÜÖÈÉ®Ë∞ÉÁî®Âè¶‰∏Ä‰∏™ÂáΩÊï∞ A2($elm$core$String$indexes, '#', str)ÔºåËØ•ÂáΩÊï∞Â∞ÜÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÊâÄÊúâ "#" ÊõøÊç¢‰∏∫Á©∫Ê†ºÔºåËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ

Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤‰∏≠ÂåÖÂê´ #ÔºåÂàôÁªßÁª≠Ë∞ÉÁî® A3($elm$url$Url$chompBeforeFragment, protocol, $elm$core$Maybe$Nothing, str))ÔºåËØ•ÂáΩÊï∞Â∞ÜÂçèËÆÆ‰ªéÂ≠óÁ¨¶‰∏≤‰∏≠Âà†Èô§ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂÖ∂‰∏≠Âè™ÂåÖÂê´ÂΩìÂâçÂèÇÊï∞‰∏≠ÁöÑÂâçÁºÄÈÉ®ÂàÜ„ÄÇÁÑ∂ÂêéÔºåÂáΩÊï∞ÂÜçÊ¨°Ë∞ÉÁî® A3($elm$url$Url$chompBeforeFragment, protocol, $elm$core$Maybe$Just(
A2($elm$core$String$dropLeft, i + 1, str)),
A2($elm$core$String$left, i, str)),
ÂΩìÂâçÂèÇÊï∞‰∏≠ÁöÑÂêéÁºÄÈÉ®ÂàÜ)ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ

ÊúÄÁªàÔºåÂáΩÊï∞ËøîÂõûÂ§ÑÁêÜÂêéÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊàñËÄÖË∞ÉÁî®ËøáÁöÑÂáΩÊï∞ËøîÂõûÁöÑÁ¨¨‰∏Ä‰∏™ÂÄº(ÂèñÂÜ≥‰∫é $elm$core$Url$Url$chompAfterProtocol ÂáΩÊï∞ÁöÑËøîÂõûÁ±ªÂûã)„ÄÇ


```
var $elm$url$Url$chompAfterProtocol = F2(
	function (protocol, str) {
		if ($elm$core$String$isEmpty(str)) {
			return $elm$core$Maybe$Nothing;
		} else {
			var _v0 = A2($elm$core$String$indexes, '#', str);
			if (!_v0.b) {
				return A3($elm$url$Url$chompBeforeFragment, protocol, $elm$core$Maybe$Nothing, str);
			} else {
				var i = _v0.a;
				return A3(
					$elm$url$Url$chompBeforeFragment,
					protocol,
					$elm$core$Maybe$Just(
						A2($elm$core$String$dropLeft, i + 1, str)),
					A2($elm$core$String$left, i, str));
			}
		}
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$url$Url$fromString` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÊé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂèÇÊï∞ `str`„ÄÇ

È¶ñÂÖàÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$String$startsWith` ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂà§Êñ≠ÁªôÂÆöÁöÑÂ≠óÁ¨¶‰∏≤ÊòØÂê¶‰ª• "http://" Êàñ "https://" ÂºÄÂ§¥ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ

Êé•ÁùÄÔºåÂú® `$elm$url$Url$fromString` ÂáΩÊï∞‰∏≠ÔºåÈÄöËøáË∞ÉÁî® `$elm$url$Url$chompAfterProtocol` Âíå `$elm$core$String$dropLeft` ÂáΩÊï∞ÔºåÂ∞Ü "http://" Âíå "https://" ‰ª•ÂèäÂ≠óÁ¨¶‰∏≤Â∑¶ËæπÁöÑ 7 ‰∏™Â≠óÁ¨¶ËøõË°åÊà™Êñ≠ÔºåÂπ∂Â∞ÜÁªìÊûúËøîÂõû„ÄÇÂ¶ÇÊûúÂ≠óÁ¨¶‰∏≤‰∏ç‰ª• "http://" Êàñ "https://" ÂºÄÂ§¥ÔºåÂàôËøîÂõû `$elm$core$Nothing`„ÄÇ

ÊúÄÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Basics$never` ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÂú®‰∏Ä‰∏™Êó†ÈôêÂæ™ÁéØ‰∏≠Ôºå‰∏çÊñ≠Âú∞Âà§Êñ≠Êù°‰ª∂ `_v0`ÔºåÂ¶ÇÊûúÊª°Ë∂≥Êù°‰ª∂ÔºåÂàôÊâßË°åÂæ™ÁéØ‰ΩìÂÜÖÁöÑ‰ª£Á†ÅÔºåÂê¶ÂàôË∑≥ËøáÂΩìÂâçÂæ™ÁéØ„ÄÇÊù°‰ª∂‰ª£Á†Å‰∏≠ÔºåÂèòÈáè `nvr` Ë¢´‰∏çÊñ≠Âú∞ËµãÂÄº‰∏∫ `_v0`ÔºåÁÑ∂ÂêéÈÄöËøáË∞ÉÁî®Ëá™Ë∫´Êù•Âà§Êñ≠Êù°‰ª∂ÔºåÂ¶ÇÊûúÊª°Ë∂≥Êù°‰ª∂ÔºåÂàôÊâßË°åÈÄÄÂá∫Âæ™ÁéØÁöÑ‰ª£Á†Å„ÄÇ


```
var $elm$core$String$startsWith = _String_startsWith;
var $elm$url$Url$fromString = function (str) {
	return A2($elm$core$String$startsWith, 'http://', str) ? A2(
		$elm$url$Url$chompAfterProtocol,
		0,
		A2($elm$core$String$dropLeft, 7, str)) : (A2($elm$core$String$startsWith, 'https://', str) ? A2(
		$elm$url$Url$chompAfterProtocol,
		1,
		A2($elm$core$String$dropLeft, 8, str)) : $elm$core$Maybe$Nothing);
};
var $elm$core$Basics$never = function (_v0) {
	never:
	while (true) {
		var nvr = _v0;
		var $temp$_v0 = nvr;
		_v0 = $temp$_v0;
		continue never;
	}
};
```

This appears to be a JavaScript function that takes in a function `fn` and an integer `a` as arguments, and returns a new function that enhances the input function with the behavior of the provided function. The function uses a helper function `A2` and `A3` to assist with the recursive calls and arguments respectively.

The function first checks if the provided function has a defined behavior for the input arguments `b` and then returns it if it does. If not, it performs a recursive call to the provided function with the input arguments and returns the result of that call.

If the provided function already has a behavior for the input arguments, the function checks if the `b` argument is defined. If it is not, the function performs another recursive call to the provided function with the input arguments and the result of that call.

If the `b` argument is defined, the function checks if the function has a defined behavior for the input argument `c`. If it is not, the function performs another recursive call to the provided function with the input arguments and the result of that call.

If the `c` argument is defined, the function checks if the function has a defined behavior for the input argument `d`. If it is not, the function performs another recursive call to the provided function with the input arguments and the result of that call.

If the `d` argument is defined, the function returns the provided function with the enhanced behavior.

Note that the function also includes a check for a threshold value `ctr`, which is initialized to 500. If `ctr` is greater than 500, the function returns an function that calls the `A3` helper function with the input arguments and the result of a recursive call to the `A4` function.


```
var $elm$core$Task$Perform = $elm$core$Basics$identity;
var $elm$core$Task$succeed = _Scheduler_succeed;
var $elm$core$Task$init = $elm$core$Task$succeed(0);
var $elm$core$List$foldrHelper = F4(
	function (fn, acc, ctr, ls) {
		if (!ls.b) {
			return acc;
		} else {
			var a = ls.a;
			var r1 = ls.b;
			if (!r1.b) {
				return A2(fn, a, acc);
			} else {
				var b = r1.a;
				var r2 = r1.b;
				if (!r2.b) {
					return A2(
						fn,
						a,
						A2(fn, b, acc));
				} else {
					var c = r2.a;
					var r3 = r2.b;
					if (!r3.b) {
						return A2(
							fn,
							a,
							A2(
								fn,
								b,
								A2(fn, c, acc)));
					} else {
						var d = r3.a;
						var r4 = r3.b;
						var res = (ctr > 500) ? A3(
							$elm$core$List$foldl,
							fn,
							acc,
							$elm$core$List$reverse(r4)) : A4($elm$core$List$foldrHelper, fn, acc, ctr + 1, r4);
						return A2(
							fn,
							a,
							A2(
								fn,
								b,
								A2(
									fn,
									c,
									A2(fn, d, res))));
					}
				}
			}
		}
	});
```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ‰ª£Á†ÅÁâáÊÆµÔºåÂÆÉÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞ $elm$core$List$foldr Âíå $elm$core$List$mapÔºå‰ª•Âèä‰∏Ä‰∏™ÂèòÈáè $fn$„ÄÇËøôÈáå‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂπ∂Âú®ÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî®‰∫ÜÂèòÈáè $acc$ Âíå $ls$„ÄÇËøô‰∏§‰∏™ÂèòÈáè‰ª•ÂèäÂáΩÊï∞ÂÜÖÈÉ®ÁöÑÂÖ∂‰ªñÂèòÈáèÂíåÂèÇÊï∞ÈÉΩÊúâÁâπÂÆöÁöÑÂê´‰πâÔºå‰ΩÜÂπ∂‰∏ç‰ºöËæìÂá∫Ëøô‰∏™ÂáΩÊï∞„ÄÇ

$elm$core$List$foldr ÁöÑ‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™ÂÆûÁé∞‰∫Ü `List.prototype.foldr` ÊñπÊ≥ïÁöÑÂáΩÊï∞ÔºåËØ•ÊñπÊ≥ïÂèØ‰ª•ÂØπ‰º†ÂÖ•ÁöÑÂàóË°®‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†Ë∞ÉÁî®‰º†ÈÄíÁªôÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞„ÄÇ

$elm$core$List$map ÁöÑ‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™ÂÆûÁé∞‰∫Ü `List.prototype.map` ÊñπÊ≥ïÁöÑÂáΩÊï∞ÔºåËØ•ÊñπÊ≥ïÂèØ‰ª•ÂØπÂàóË°®‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†Ë∞ÉÁî®‰º†ÈÄíÁªôÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞„ÄÇ


```
var $elm$core$List$foldr = F3(
	function (fn, acc, ls) {
		return A4($elm$core$List$foldrHelper, fn, acc, 0, ls);
	});
var $elm$core$List$map = F2(
	function (f, xs) {
		return A3(
			$elm$core$List$foldr,
			F2(
				function (x, acc) {
					return A2(
						$elm$core$List$cons,
						f(x),
						acc);
				}),
			_List_Nil,
			xs);
	});
```

Ëøô‰∏§Ë°å‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Task$andThen` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö`func` Âíå `taskA`„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÁªôÂÆöÁöÑ `func` ÂáΩÊï∞‰∏≠ÊâßË°å‰∏ÄÊ¨° `taskA` ‰ªªÂä°ÔºåÂ¶ÇÊûú `taskA` ÊàêÂäüÂÆåÊàêÔºåÂàôËøîÂõû `true`ÔºåÂê¶ÂàôËøîÂõû `false`„ÄÇ

Êé•‰∏ãÊù•ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Task$map` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ `func` ÂáΩÊï∞Âíå‰∏Ä‰∏™‰ªªÂä° `taskA`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ `true` Êàñ `false` ÁöÑÂÄº„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÁªôÂÆöÁöÑ `func` ÂáΩÊï∞‰∏≠ÊâßË°å‰∏ÄÊ¨° `taskA` ‰ªªÂä°ÔºåÂ¶ÇÊûú `taskA` ÊàêÂäüÂÆåÊàêÔºåÂàôËøîÂõû `true`ÔºåÂê¶ÂàôËøîÂõû `false`„ÄÇ

ÊúÄÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Task$map2` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™‰ªªÂä° `taskA` ÂíåÂè¶‰∏Ä‰∏™‰ªªÂä° `taskB`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ `true` Êàñ `false` ÁöÑÂÄº„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÁªôÂÆöÁöÑ `func` ÂáΩÊï∞‰∏≠ÊâßË°å‰∏ÄÊ¨° `taskA` ‰ªªÂä°ÔºåÂπ∂Âú®ÁªôÂÆö‰ªªÂä° `taskB` ÊàêÂäüÂÆåÊàêÊó∂ËøîÂõû `true`ÔºåÂê¶ÂàôËøîÂõû `false`„ÄÇ


```
var $elm$core$Task$andThen = _Scheduler_andThen;
var $elm$core$Task$map = F2(
	function (func, taskA) {
		return A2(
			$elm$core$Task$andThen,
			function (a) {
				return $elm$core$Task$succeed(
					func(a));
			},
			taskA);
	});
var $elm$core$Task$map2 = F3(
	function (func, taskA, taskB) {
		return A2(
			$elm$core$Task$andThen,
			function (a) {
				return A2(
					$elm$core$Task$andThen,
					function (b) {
						return $elm$core$Task$succeed(
							A2(func, a, b));
					},
					taskB);
			},
			taskA);
	});
```

ËøôÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂÆÉ‰ΩøÁî®‰∫Ü ES6 ‰∏≠ÁöÑÂºÇÊ≠•ÂáΩÊï∞Â£∞Êòé(async/await)ËØ≠Ê≥ïÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Task$sequence` ÁöÑÂáΩÊï∞„ÄÇ

Ëøô‰∏™ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `tasks`ÔºåÂÆÉÊòØ‰∏Ä‰∏™ JavaScript ÂàóË°®(Êï∞ÁªÑ)Ôºå‰ª£Ë°®‰∫Ü‰ªªÂä°ÂàóË°®„ÄÇÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™‰ªªÂä°ÂàóË°®ÔºåÂÆÉÁî±‰∏Ä‰∏™ÂºÇÊ≠•ÂáΩÊï∞ÊûÑÊàêÔºåËøô‰∏™ÂºÇÊ≠•ÂáΩÊï∞‰ΩøÁî®‰∫Ü `var _Scheduler_spawn` ÂáΩÊï∞ÔºåÂÆÉ‰ºöÊâßË°å‰∏Ä‰∏™ÂºÇÊ≠•Êìç‰ΩúÂπ∂ËøîÂõûÁªìÊûú„ÄÇ

`var _elm$core$List$foldr` Âíå `var _elm$core$Task$map2` ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊâßË°å‰∏Ä‰∏™ÂàóË°®ÁöÑ fold Êìç‰ΩúÔºåÂ∞Ü `tasks` Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÊâßË°å `foldr` Êìç‰ΩúÔºåÂπ∂Â∞ÜÁªìÊûúÂ≠òÂÇ®Âú®Êñ∞Âª∫ÂàóË°®‰∏≠„ÄÇ

`var $elm$core$Task$succeed` ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÊé•Êî∂‰∏Ä‰∏™‰ªªÂä°ÂàóË°®ÔºåÂπ∂ÊâßË°å‰∏Ä‰∏™ÂºÇÊ≠•ÂáΩÊï∞„ÄÇËøô‰∏™ÂºÇÊ≠•ÂáΩÊï∞‰ΩøÁî®‰∫Ü `var _Scheduler_spawn` ÂáΩÊï∞ÔºåÂÆÉ‰ºöÊâßË°å‰∏Ä‰∏™ÂºÇÊ≠•Êìç‰ΩúÂπ∂ËøîÂõûÁªìÊûú„ÄÇËøô‰∏™ÂºÇÊ≠•ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™Ë∑ØÁî±ÂØπË±° `router` Âíå‰∏Ä‰∏™ÂºÇÊ≠•Êìç‰ΩúÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂÆÉ‰ª¨Âú®ÂõûË∞ÉÂáΩÊï∞‰∏≠Ë¢´ÊâßË°å„ÄÇ

ÊúÄÂêéÔºåÊ†πÊçÆËæìÂÖ•ÂèÇÊï∞ `tasks` ÁöÑ‰∏çÂêåÔºåÂáΩÊï∞‰ºöËøîÂõû‰∏çÂêåÁöÑÂºÇÊ≠•ÂáΩÊï∞„ÄÇ


```
var $elm$core$Task$sequence = function (tasks) {
	return A3(
		$elm$core$List$foldr,
		$elm$core$Task$map2($elm$core$List$cons),
		$elm$core$Task$succeed(_List_Nil),
		tasks);
};
var $elm$core$Platform$sendToApp = _Platform_sendToApp;
var $elm$core$Task$spawnCmd = F2(
	function (router, _v0) {
		var task = _v0;
		return _Scheduler_spawn(
			A2(
				$elm$core$Task$andThen,
				$elm$core$Platform$sendToApp(router),
				task));
	});
```

ËØ•‰ª£Á†Å‰ΩøÁî®‰∫Ü Knackle.js Â∫ìÊù•Â§ÑÁêÜ‰ªªÂä°„ÄÅÊ∂àÊÅØÂíåÁî®Êà∑ÁïåÈù¢„ÄÇÂÆÉÂÆö‰πâ‰∫Ü‰∏§‰∏™ÂáΩÊï∞ÔºåÂàÜÂà´Áî®‰∫éÂ§ÑÁêÜË∑ØÁî±Âô®„ÄÅÂëΩ‰ª§ÂíåÊ∂àÊÅØÁöÑÊïàÂ∫îÔºå‰ª•ÂèäË∑ØÁî±Âô®Ëá™Ë∫´ÁöÑÊ∂àÊÅØ„ÄÇ

`var $elm$core$Task$onEffects`ÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÂâØ‰ΩúÁî®ÂáΩÊï∞ÔºåÊé•Êî∂‰∏Ä‰∏™Ë∑ØÁî±Âô®„ÄÅ‰∏ÄÁªÑÂëΩ‰ª§Âíå‰∏Ä‰∏™Áä∂ÊÄÅ‰Ωú‰∏∫ÂèÇÊï∞„ÄÇÂÆÉÂÜÖÈÉ®Ë∞ÉÁî®‰∫Ü `$elm$core$Task$map`„ÄÅ`$elm$core$Task$sequence` Âíå `$elm$core$Task$succeed` ‰∏â‰∏™ÂáΩÊï∞ÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨ËøîÂõûÁöÑÁªìÊûú‰Ωú‰∏∫ÊúÄÁªàÁªìÊûúËøîÂõû„ÄÇ

`var $elm$core$Task$onSelfMsg`ÂáΩÊï∞ÊòØ‰∏Ä‰∏™Ëá™ÁúÅÂáΩÊï∞ÔºåÊé•Êî∂‰∏Ä‰∏™ÁªìÊûú„ÄÅ‰∏Ä‰∏™Áä∂ÊÄÅÂíå‰∏Ä‰∏™Ê∂àÊÅØ‰Ωú‰∏∫ÂèÇÊï∞„ÄÇÂÆÉÂÜÖÈÉ®Ë∞ÉÁî®‰∫Ü `$elm$core$Task$succeed` ÂáΩÊï∞ÔºåÂπ∂Â∞ÜÂÆÉÁöÑËøîÂõûÂÄº‰Ωú‰∏∫ÊúÄÁªàÁªìÊûúËøîÂõû„ÄÇ


```
var $elm$core$Task$onEffects = F3(
	function (router, commands, state) {
		return A2(
			$elm$core$Task$map,
			function (_v0) {
				return 0;
			},
			$elm$core$Task$sequence(
				A2(
					$elm$core$List$map,
					$elm$core$Task$spawnCmd(router),
					commands)));
	});
var $elm$core$Task$onSelfMsg = F3(
	function (_v0, _v1, _v2) {
		return $elm$core$Task$succeed(0);
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Task$cmdMap` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÊé•Âèó‰∏Ä‰∏™ `tagger` Âíå‰∏Ä‰∏™Á©∫ÂèÇÊï∞ `_v0`ÔºåÁÑ∂ÂêéÊâßË°å‰∏Ä‰∏™Âêç‰∏∫ `task` ÁöÑ‰ªªÂä°ÔºåÂπ∂Â∞ÜÁªìÊûúÂ≠òÂÇ®Âú® `task` ÂèòÈáè‰∏≠„ÄÇ

Êé•ÁùÄÔºåÂÆÉÂºïÂÖ•‰∫Ü‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑ‰ªªÂä°ÁÆ°ÁêÜÂô® `_Platform_effectManagers`ÔºåÂπ∂Âú®ÂÖ∂‰∏≠Ê≥®ÂÜå‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `Task` ÁöÑÂà∂ÈÄ†ÂïÜ„ÄÇ

ÁÑ∂ÂêéÔºåÂÆÉÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Task$command` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÊé•Âèó‰∏Ä‰∏™ `toMessage` Âíå‰∏Ä‰∏™ `task` ÂèÇÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Task$manager` ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞‰ΩøÁî® `map` ÊñπÊ≥ïÂ∞Ü `_elm$core$Task$map` Âíå `task` ‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºåÁÑ∂ÂêéË∞ÉÁî® `A2` ÂáΩÊï∞Ëé∑ÂèñÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÔºåÊúÄÂêéËøîÂõû‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÂëΩ‰ª§ÂáΩÊï∞„ÄÇ

Êé•‰∏ãÊù•ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$browser$Browser$element` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÊé•Âèó‰∏Ä‰∏™ `a` ÂèÇÊï∞Âπ∂ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåËØ•ÂØπË±°Âú® `_Browser_element` Á±ª‰∏≠‰Ωú‰∏∫ `Browser` Â±ûÊÄßÁöÑ `element` ÊñπÊ≥ï‰∏≠‰ΩøÁî®„ÄÇ

ÊúÄÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$author$project$Main$NewCard` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÊé•Âèó‰∏Ä‰∏™ `a` ÂèÇÊï∞Âπ∂ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåËØ•ÂØπË±°‰Ωú‰∏∫ `_Author$Author_Project$Main_Card_Controller` Á±ª‰∏≠ÁöÑ `NewCard` ÊñπÊ≥ïÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞„ÄÇ


```
var $elm$core$Task$cmdMap = F2(
	function (tagger, _v0) {
		var task = _v0;
		return A2($elm$core$Task$map, tagger, task);
	});
_Platform_effectManagers['Task'] = _Platform_createManager($elm$core$Task$init, $elm$core$Task$onEffects, $elm$core$Task$onSelfMsg, $elm$core$Task$cmdMap);
var $elm$core$Task$command = _Platform_leaf('Task');
var $elm$core$Task$perform = F2(
	function (toMessage, task) {
		return $elm$core$Task$command(
			A2($elm$core$Task$map, toMessage, task));
	});
var $elm$browser$Browser$element = _Browser_element;
var $author$project$Main$NewCard = function (a) {
	return {$: 2, a: a};
};
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$random$Random$Generate ÁöÑ JavaScript ÂáΩÊï∞ÔºåÂÆÉËøîÂõû‰∏Ä‰∏™ÁªèËøá seed ÂÄºÔºà$elm$random$Random$SeedÔºâÊéßÂà∂ÁöÑÈöèÊú∫ÁöÑÁßçÂ≠êÔºà$elm$random$Random$RandomÔºâÂíå‰∏Ä‰∏™ÁâπÊÆäÁöÑÂáΩÊï∞ $next$ÔºåÁî®‰∫éÁîüÊàê‰∏ã‰∏Ä‰∏™ÈöèÊú∫Êï∞„ÄÇ

È¶ñÂÖàÔºåÂú®Á¨¨‰∏ÄË°å‰∏≠ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$random$Random$Seed ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑËæìÂÖ•ÂèÇÊï∞ÂåÖÊã¨‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÂèÇÊï∞ a Âíå‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÂèÇÊï∞ bÔºåÂÆÉ‰ª¨ÈÉΩÊòØÁî®Êù•Â≠òÂÇ®ÁßçÂ≠êÁöÑ„ÄÇËøô‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™Êï¥Êï∞ÁöÑÂØπË±°ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™Ë°®Á§∫ aÔºåÂè¶‰∏Ä‰∏™Ë°®Á§∫ b„ÄÇ

Êé•ÁùÄÔºåÂú®Á¨¨‰∫åË°å‰∏≠ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$core$Bitwise$shiftRightZfBy ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ a Âíå bÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êï∞ÂÄºÁ±ªÂûãÁöÑÁªìÊûú„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂè≥ÁßªÂπ∂Ê±ÇÂèçÔºåÂç≥Êää a Âíå b ‰∏≠ÁöÑ‰∫åËøõÂà∂‰ΩçÂÖ®ÈÉ®ÂèñÂèçÔºåÁÑ∂ÂêéÂ∑¶ÁßªÂπ∂Ê±ÇÂíåÔºåÊúÄÂêéÂÜçÂ∞ÜÂíåÁöÑÁªìÊûúËµãÂÄºÁªô aÔºåb„ÄÇ

ÊúÄÂêéÔºåÂú®Á¨¨‰∏âË°å‰∏≠ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$random$Random$initialSeed ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ xÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Êï∞ÂÄºÁ±ªÂûãÁöÑÁªìÊûú„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØ‰ΩøÁî® $elm$random$Random$next ÂáΩÊï∞ÁîüÊàê‰∏Ä‰∏™ÂàùÂßãÁöÑÈöèÊú∫Êï∞ÔºåÁÑ∂ÂêéÊääÂàùÂßãÁöÑÈöèÊú∫Êï∞‰∏é‰º†ÂÖ•ÁöÑÂèÇÊï∞ x ÂÅöÂºÇÊàñËøêÁÆóÔºåÊúÄÂêéÂÜç‰ΩøÁî® $elm$random$Random$next ÂáΩÊï∞ÁîüÊàê‰∏Ä‰∏™ÈöèÊú∫Êï∞„ÄÇËøô‰∏™ÈöèÊú∫Êï∞Â∫èÂàóÂ∞Ü‰Ωú‰∏∫ÂêéÁª≠ÁîüÊàêÈöèÊú∫Êï∞ÁöÑÁßçÂ≠ê‰ΩøÁî®„ÄÇ


```
var $elm$random$Random$Generate = $elm$core$Basics$identity;
var $elm$random$Random$Seed = F2(
	function (a, b) {
		return {$: 0, a: a, b: b};
	});
var $elm$core$Bitwise$shiftRightZfBy = _Bitwise_shiftRightZfBy;
var $elm$random$Random$next = function (_v0) {
	var state0 = _v0.a;
	var incr = _v0.b;
	return A2($elm$random$Random$Seed, ((state0 * 1664525) + incr) >>> 0, incr);
};
var $elm$random$Random$initialSeed = function (x) {
	var _v0 = $elm$random$Random$next(
		A2($elm$random$Random$Seed, 0, 1013904223));
	var state1 = _v0.a;
	var incr = _v0.b;
	var state2 = (state1 + x) >>> 0;
	return $elm$random$Random$next(
		A2($elm$random$Random$Seed, state2, incr));
};
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$time$Time$Name` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `a` Âπ∂ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´‰∏§‰∏™Â±ûÊÄß `$:` Âíå `a:`„ÄÇ

Êé•‰∏ãÊù•ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$time$Time$Offset` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰πüÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `a` Âπ∂ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´‰∏§‰∏™Â±ûÊÄß `$:` Âíå `a:`„ÄÇ

Êé•ÁùÄÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$time$Time$Zone` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞ `a` Âíå `b`ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÁöÑÂØπË±°ÔºåÂÖ∂‰∏≠Â±ûÊÄß `$:` ÂåÖÂê´‰∏§‰∏™ÂÄºÔºåÂàÜÂà´‰∏∫ `0` Âíå `1`„ÄÇ

ÁÑ∂ÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$time$Time$customZone` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `a` Âπ∂ËøîÂõû‰∏Ä‰∏™‰∏é `$elm$time$Time$Zone` Áõ∏ÂêåÁöÑÂØπË±°„ÄÇ

Êé•ÁùÄÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$time$Time$Posix` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `a` Âπ∂ËøîÂõû‰∏Ä‰∏™Êï¥Êï∞ÔºåË°®Á§∫‰∏éÂΩìÂâçÁ≥ªÁªüÊó∂Èó¥ `$elm$time$Time$now` Áõ∏ÂÖ≥ÁöÑ `posix` ÁºñÁ†Å„ÄÇ

ÊúÄÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$time$Time$millisToPosix` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `millis` Âπ∂ËøîÂõû‰ªé `$elm$time$Time$now` Âà∞ `posix` ÁºñÁ†ÅÁöÑÊØ´ÁßíÊï∞„ÄÇ

Âè¶Â§ñÔºåËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$time$Time$posixToMillis` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `posix` Âπ∂ËøîÂõûÊØ´ÁßíÊï∞„ÄÇ

Âè¶Â§ñÔºåËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$time$Time$now` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ `_Time_now` Âπ∂ËøîÂõûÂΩìÂâçÁ≥ªÁªüÊó∂Èó¥ÁöÑ `posix` ÁºñÁ†Å„ÄÇ

ÊúÄÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂáΩÊï∞ `$elm$time$Time$customZone` Âπ∂‰º†ÂÖ•ÂèÇÊï∞ `$elm$time$Time$Zone`Ôºå‰ΩÜÊòØÊ≤°ÊúâÂÆö‰πâËØ•ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÔºåÂõ†‰∏∫ÂÆÉÊ≤°ÊúâË¢´‰ΩøÁî®„ÄÇ


```
var $elm$time$Time$Name = function (a) {
	return {$: 0, a: a};
};
var $elm$time$Time$Offset = function (a) {
	return {$: 1, a: a};
};
var $elm$time$Time$Zone = F2(
	function (a, b) {
		return {$: 0, a: a, b: b};
	});
var $elm$time$Time$customZone = $elm$time$Time$Zone;
var $elm$time$Time$Posix = $elm$core$Basics$identity;
var $elm$time$Time$millisToPosix = $elm$core$Basics$identity;
var $elm$time$Time$now = _Time_now($elm$time$Time$millisToPosix);
var $elm$time$Time$posixToMillis = function (_v0) {
	var millis = _v0;
	return millis;
};
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$random$Random` ÁöÑÁ±ªÔºåÂÆÉÁî®‰∫éÁîüÊàêÈöèÊú∫Êï∞„ÄÇÂÆÉÈÄöËøáË∞ÉÁî®Áà∂Á±ªÁöÑ `init` ÊñπÊ≥ïÊù•ËÆæÁΩÆÈöèÊú∫Êï∞ÁîüÊàêÂô®ÁöÑÂàùÂßãÂÄºÔºåÂπ∂Âú®ÈúÄË¶ÅÊó∂ÁîüÊàêÈöèÊú∫Êï∞„ÄÇ

ËØ•‰ª£Á†ÅËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$random$Random` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `_v0`ÔºåÂπ∂‰ΩøÁî®ËØ•ÂèÇÊï∞ÁöÑÂÄº‰Ωú‰∏∫ÁîüÊàêÂô®ÁöÑÂàùÂßãÂÄº„ÄÇÂÆÉËøîÂõû‰∏Ä‰∏™ÁîüÊàêÂô®ÔºåÂèØ‰ª•‰ΩøÁî® `with` ÊñπÊ≥ïÊù•Ëé∑ÂèñÂÖ∂ÁîüÊàêÂô®ÁöÑ‰∏ã‰∏Ä‰∏™ÈöèÊú∫Êï∞„ÄÇ

Ê≠§Â§ñÔºåËØ•‰ª£Á†ÅËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$random$Random` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `seed`ÔºåÂπ∂‰ΩøÁî®ËØ•ÂèÇÊï∞‰Ωú‰∏∫ÁîüÊàêÂô®ÁöÑÂàùÂßãÂÄº„ÄÇÂÆÉËøîÂõû‰∏Ä‰∏™ÊàêÂäüÊâßË°åÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞‰ΩøÁî® `$elm$random$Random` ÂáΩÊï∞ÁîüÊàêÈöèÊú∫Êï∞ÔºåÂπ∂‰ΩøÁî®ÁªôÂÆöÁöÑÂàùÂßãÂÄºÂØπÁîüÊàêÁöÑÈöèÊú∫Êï∞ËøõË°åÂä†ÊùÉ„ÄÇ

ÊúÄÂêéÔºåËØ•‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$random$Random` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞ `router`Ôºå‰ª•Âèä‰∏Ä‰∏™ÂèÇÊï∞ `commands`ÔºåÂÆÉ‰ª¨‰Ωú‰∏∫ `IF` ËØ≠Âè•ÁöÑÂ∑¶Âè≥Êã¨Âè∑„ÄÇËØ•ÂáΩÊï∞‰ΩøÁî® `$elm$core$Task` Âíå `$elm$core$Task` ÂáΩÊï∞Êù•Ëé∑ÂèñÊàñËÆæÁΩÆË∑ØÁî±Âô®ÂíåÂëΩ‰ª§„ÄÇÂÆÉ‰ΩøÁî® `$elm$random$Random` ÂáΩÊï∞ÁîüÊàêÈöèÊú∫Êï∞ÔºåÂπ∂Âú®ÈúÄË¶ÅÊó∂‰ΩøÁî®ÁªôÂÆöÁöÑÂàùÂßãÂÄºÂØπÁîüÊàêÁöÑÈöèÊú∫Êï∞ËøõË°åÂä†ÊùÉ„ÄÇÁÑ∂ÂêéÔºåÂÆÉ‰ΩøÁî® `$elm$core$Task` Âíå `$elm$time$Time` ÂáΩÊï∞ÂèëÈÄÅÁîüÊàêÁöÑÈöèÊú∫Êï∞Âà∞Â∫îÁî®Á®ãÂ∫è„ÄÇ


```
var $elm$random$Random$init = A2(
	$elm$core$Task$andThen,
	function (time) {
		return $elm$core$Task$succeed(
			$elm$random$Random$initialSeed(
				$elm$time$Time$posixToMillis(time)));
	},
	$elm$time$Time$now);
var $elm$random$Random$step = F2(
	function (_v0, seed) {
		var generator = _v0;
		return generator(seed);
	});
var $elm$random$Random$onEffects = F3(
	function (router, commands, seed) {
		if (!commands.b) {
			return $elm$core$Task$succeed(seed);
		} else {
			var generator = commands.a;
			var rest = commands.b;
			var _v1 = A2($elm$random$Random$step, generator, seed);
			var value = _v1.a;
			var newSeed = _v1.b;
			return A2(
				$elm$core$Task$andThen,
				function (_v2) {
					return A3($elm$random$Random$onEffects, router, rest, newSeed);
				},
				A2($elm$core$Platform$sendToApp, router, value));
		}
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™JavaScriptÂáΩÊï∞ÂèòÈáè $elm$random$Random$onSelfMsgÔºå‰ª•Âèä‰∏Ä‰∏™ÂêåÂêçÁöÑJavaScriptÁ±ª $elm$random$Random$„ÄÇ

$elm$random$Random$onSelfMsg ÁöÑ‰ΩúÁî®ÊòØÂú®Ë∞ÉÁî®ÂÆÉÁöÑÂáΩÊï∞ÂÜÖÈÉ®‰∫ßÁîü‰∏Ä‰∏™ÈöèÊú∫ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âú® $elm$random$Random$map ÂèòÈáè‰∏≠„ÄÇ

$elm$random$Random$map ÁöÑ‰ΩúÁî®ÊòØÂú®Â§ñÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $map$ ÁöÑÁ±ªÔºåËØ•Á±ª‰ΩøÁî®‰∫Ü $elm$random$Random$onSelfMsg ÂáΩÊï∞ÁîüÊàêÁöÑÈöèÊú∫Â≠óÁ¨¶‰∏≤„ÄÇÈÄöËøáË∞ÉÁî® $map$ Á±ªÁöÑÂáΩÊï∞ÔºåÂèØ‰ª•ÁîüÊàêÂ§ö‰∏™ÈöèÊú∫Â≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜÂÆÉ‰ª¨ÁöÑÁßçÂ≠êÂ≠òÂÇ®Âú®‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠„ÄÇ

ËøôÊÆµ‰ª£Á†ÅÁöÑÁõÆÁöÑÊòØÁîüÊàê‰∏ÄÁ≥ªÂàóÁöÑÈöèÊú∫Â≠óÁ¨¶‰∏≤Ôºå‰ª•ÂÆûÁé∞Êüê‰∫õÈúÄË¶ÅÈöèÊú∫Â≠óÁ¨¶‰∏≤ÁöÑÂäüËÉΩÔºå‰æãÂ¶ÇÁîüÊàêÂØÜÁ†Å„ÄÅÊ†°È™åÁ†ÅÁ≠â„ÄÇ


```
var $elm$random$Random$onSelfMsg = F3(
	function (_v0, _v1, seed) {
		return $elm$core$Task$succeed(seed);
	});
var $elm$random$Random$Generator = $elm$core$Basics$identity;
var $elm$random$Random$map = F2(
	function (func, _v0) {
		var genA = _v0;
		return function (seed0) {
			var _v1 = genA(seed0);
			var a = _v1.a;
			var seed1 = _v1.b;
			return _Utils_Tuple2(
				func(a),
				seed1);
		};
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$random$Random` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÂáΩÊï∞ `func` Âíå‰∏Ä‰∏™ÂèòÈáè `_v0`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî® `_v0` ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÁîüÊàêÂô® `generator`ÔºåÁÑ∂Âêé‰ΩøÁî® `A2` ÂáΩÊï∞Â∞Ü `func` Âíå `generator` ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•ÔºåËøîÂõû‰∏Ä‰∏™Êñ∞ÂáΩÊï∞ `A2($elm$random$Random$map, func, generator)`„ÄÇ

Êé•‰∏ãÊù•ÔºåËØ•ÂáΩÊï∞Ë¢´ÁªëÂÆöÂà∞ `_Platform_effectManagers` ÂØπË±°ÁöÑ‰∏Ä‰∏™Âêç‰∏∫ `Random` ÁöÑÈîÆ‰∏äÔºå‰ΩøÂæóÂèØ‰ª•ÈÄöËøáËØ•ÈîÆÊù•Ë∞ÉÁî® `$elm$random$Random` ÂáΩÊï∞„ÄÇ

Âè¶Â§ñÔºåËØ•ÊÆµ‰ª£Á†ÅËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$random$Random` ÁöÑÂëΩ‰ª§ÂáΩÊï∞ `generate`„ÄÇËØ•ÂáΩÊï∞Êé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™Ê†áËÆ∞ `tagger`Âíå‰∏Ä‰∏™ÁîüÊàêÂô® `generator`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî® `F2` ÂáΩÊï∞Êù•ÊâßË°å `_Platform_leaf` ÂáΩÊï∞ÔºåÂ∞Ü `tagger` Âíå `generator` ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•ÔºåËøîÂõû‰∏Ä‰∏™Êñ∞ÂáΩÊï∞ `$elm$random$Random(A2($elm$random$Random$map, tagger, generator))`„ÄÇ

ÊúÄÂêéÔºåËØ•ÊÆµ‰ª£Á†ÅËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Bitwise$and` ÁöÑÂáΩÊï∞ `_Bitwise_and`Ôºå‰ª•Âèä‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Basics$negate` ÁöÑÂáΩÊï∞„ÄÇ‰ΩÜÊòØÔºåËøô‰∫õÂáΩÊï∞Âú®‰ª£Á†Å‰∏≠Ê≤°ÊúâË¢´‰ΩøÁî®„ÄÇ


```
var $elm$random$Random$cmdMap = F2(
	function (func, _v0) {
		var generator = _v0;
		return A2($elm$random$Random$map, func, generator);
	});
_Platform_effectManagers['Random'] = _Platform_createManager($elm$random$Random$init, $elm$random$Random$onEffects, $elm$random$Random$onSelfMsg, $elm$random$Random$cmdMap);
var $elm$random$Random$command = _Platform_leaf('Random');
var $elm$random$Random$generate = F2(
	function (tagger, generator) {
		return $elm$random$Random$command(
			A2($elm$random$Random$map, tagger, generator));
	});
var $elm$core$Bitwise$and = _Bitwise_and;
var $elm$core$Basics$negate = function (n) {
	return -n;
};
```

The function you provided is the implementation of a random number generator using the `Math.random()` function in JavaScript. However, it appears that the code you provided is incomplete and does not work as intended.

The issue with the code is that the `Math.random()` function is not a cryptographic random number generator and is not suitable for cryptographic purposes. It is intended for general use cases where a random number is needed, such as for passwords or other randomly generated values.

In addition, the code you provided does not include any error handling or any checks to ensure that the input values are valid. It is important to validate the input values to ensure that they are of the expected type and that the function behaves as expected.

I would recommend that you use a cryptographic random number generator, such as the `crypto.getRandomValues()` function in Node.js, to generate random numbers for cryptographic purposes.


```
var $elm$core$Bitwise$xor = _Bitwise_xor;
var $elm$random$Random$peel = function (_v0) {
	var state = _v0.a;
	var word = (state ^ (state >>> ((state >>> 28) + 4))) * 277803737;
	return ((word >>> 22) ^ word) >>> 0;
};
var $elm$random$Random$int = F2(
	function (a, b) {
		return function (seed0) {
			var _v0 = (_Utils_cmp(a, b) < 0) ? _Utils_Tuple2(a, b) : _Utils_Tuple2(b, a);
			var lo = _v0.a;
			var hi = _v0.b;
			var range = (hi - lo) + 1;
			if (!((range - 1) & range)) {
				return _Utils_Tuple2(
					(((range - 1) & $elm$random$Random$peel(seed0)) >>> 0) + lo,
					$elm$random$Random$next(seed0));
			} else {
				var threshhold = (((-range) >>> 0) % range) >>> 0;
				var accountForBias = function (seed) {
					accountForBias:
					while (true) {
						var x = $elm$random$Random$peel(seed);
						var seedN = $elm$random$Random$next(seed);
						if (_Utils_cmp(x, threshhold) < 0) {
							var $temp$seed = seedN;
							seed = $temp$seed;
							continue accountForBias;
						} else {
							return _Utils_Tuple2((x % range) + lo, seedN);
						}
					}
				};
				return accountForBias(seed0);
			}
		};
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$author$project$Main$newCard` ÁöÑÂèòÈáèÔºå‰ΩøÁî® `A2` ÂáΩÊï∞‰ªé `elm` ÂåÖ‰∏≠ÈöèÊú∫ÁîüÊàê‰∏§‰∏™Êï∞Â≠óÔºåÁÑ∂ÂêéÂ∞ÜËøô‰∫õÈöèÊú∫ÁîüÊàêÁöÑÊï∞Â≠ó‰∏é `$elm$core$Platform$Sub$batch`„ÄÅ`$elm$core$Platform$Sub$none` Âíå `$author$project$Main$newCard` ‰∏ÄËµ∑Ôºå‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô `init` ÂáΩÊï∞„ÄÇ

`init` ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú® `$author$project$Main` ÂëΩÂêçÁ©∫Èó¥‰∏≠ÂÆö‰πâ‰∏Ä‰∏™Âêç‰∏∫ `$author$project$Main$init` ÁöÑÂáΩÊï∞„ÄÇÂáΩÊï∞ÂåÖÂê´‰∏Ä‰∏™ÂèÇÊï∞ `_v0`ÔºåËøô‰∏™ÂèÇÊï∞Â∞Ü‰Ωú‰∏∫ `init` ÂáΩÊï∞ÁöÑËøîÂõûÂÄº„ÄÇÂáΩÊï∞ÂÜÖÈÉ®‰ΩøÁî® `_Utils_Tuple2` ÂáΩÊï∞Â∞ÜÁîüÊàêÁöÑÈöèÊú∫Êï∞‰∏é‰∏ÄÁ≥ªÂàóÂ∏∏ÈáèÂÄºÁªÑÂêàÊàê‰∏Ä‰∏™ `A2` Á±ªÂûãÔºåËøô‰∏™Á±ªÂûãÂ∞ÜÂú®ÂêéÈù¢‰ΩøÁî®„ÄÇ

ÁÑ∂ÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$author$project$Main$subscriptions` ÁöÑÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞‰∏é `init` ÂáΩÊï∞ÁöÑËøîÂõûÂÄºÁõ∏ÂêåÔºå‰ΩÜÊòØËøîÂõûÁöÑÂØπË±°Á±ªÂûãÊòØ `A2` Á±ªÂûã„ÄÇÂèØ‰ª•ÁåúÊµãËøô‰∏™ÂáΩÊï∞ÂèØËÉΩÁî®Êù•Âú®Áî®Êà∑ÊéàÊùÉÁöÑÊÉÖÂÜµ‰∏ãÔºåÂë®ÊúüÊÄßÂú∞ÂêëÁî®Êà∑ÂèëÈÄÅ‰∏Ä‰∫õ‰ø°ÊÅØÊàñËÄÖÈÄöÁü•ÔºåÂõ†‰∏∫Ëøô‰∏™ÂáΩÊï∞ÈúÄË¶Å‰∏Ä‰∏™ÂèÇÊï∞Êù•Ë°®Á§∫Ë¶ÅÂèëÈÄÅÁöÑÊ∂àÊÅØÁöÑÂÜÖÂÆπÔºåÂπ∂‰∏îËøîÂõûÁöÑÂØπË±°ÊòØ‰∏Ä‰∏™ `A2` Á±ªÂûãÔºåËøô‰∏™Á±ªÂûãÈÄöÂ∏∏Áî®Êù•Ë°®Á§∫ÂºÇÊ≠•Êìç‰ΩúÁöÑÁªìÊûú„ÄÇ


```
var $author$project$Main$newCard = A2($elm$random$Random$int, 2, 14);
var $author$project$Main$init = function (_v0) {
	return _Utils_Tuple2(
		{
			a: {d: $elm$core$Maybe$Nothing, g: $elm$core$Maybe$Nothing, w: $elm$core$Maybe$Nothing},
			C: $elm$core$Maybe$Nothing,
			D: $elm$core$Maybe$Nothing,
			i: 100,
			j: 0
		},
		A2($elm$random$Random$generate, $author$project$Main$NewCard, $author$project$Main$newCard));
};
var $elm$core$Platform$Sub$batch = _Platform_batch;
var $elm$core$Platform$Sub$none = $elm$core$Platform$Sub$batch(_List_Nil);
var $author$project$Main$subscriptions = function (_v0) {
	return $elm$core$Platform$Sub$none;
};
```

This is a JavaScript function that renders a card with the properties passed in an object. The function uses the Elm library to generate the card properties, such as the model, the properties of the card, and theÂä™ÂäõÂÄºÁ≠â. The function is part of the `_Utils_Tuple2` function from the Elm library, which generates a tuple of two values.

The first two lines define the properties of the card. The `d` property is theÂä™ÂäõÂÄºÔºå`g` property is the Description property of the card, and `w` property is the current Effort of the card. The `i` property is the index of the property in the model, and `j` property is the property index in the model.

The following lines define the card model using the `A2` function from the `elm_random_card_event_utils.js` module. This function generates a random card with the properties defined in the `model.a` property of the card.

The `d` property is generated using the `elm_core_Maybe_Nothing` function, which generates a card with no properties. The `g` property is generated using the `elm_core_Maybe_Nothing` function, and the `w` property is generated using the `elm_core_Maybe_Just` function, which generates a random effort for the card.

The `i` and `j` properties are calculated based on the `index` of the property in the model and the `index` of the property in the model.

Finally, the card is returned as a tuple of the rendered card and an error message. If the card could not be generated, the function returns an error message.


```
var $author$project$Main$NewCardC = function (a) {
	return {$: 3, a: a};
};
var $elm$core$Platform$Cmd$batch = _Platform_batch;
var $elm$core$Platform$Cmd$none = $elm$core$Platform$Cmd$batch(_List_Nil);
var $author$project$Main$calculateNewState = F2(
	function (cardC, model) {
		var _v0 = model.a.d;
		if (!_v0.$) {
			var cardA = _v0.a;
			var _v1 = model.a.g;
			if (!_v1.$) {
				var cardB = _v1.a;
				var currentGame = model.a;
				return (_Utils_eq(cardC, cardA) || _Utils_eq(cardC, cardB)) ? _Utils_Tuple2(
					model,
					A2($elm$random$Random$generate, $author$project$Main$NewCardC, $author$project$Main$newCard)) : (((_Utils_cmp(cardA, cardC) < 0) && (_Utils_cmp(cardC, cardB) < 0)) ? _Utils_Tuple2(
					_Utils_update(
						model,
						{
							a: _Utils_update(
								currentGame,
								{d: $elm$core$Maybe$Nothing, g: $elm$core$Maybe$Nothing}),
							D: $elm$core$Maybe$Just(
								{
									d: model.a.d,
									g: model.a.g,
									w: $elm$core$Maybe$Just(cardC)
								}),
							i: model.i + model.j
						}),
					A2($elm$random$Random$generate, $author$project$Main$NewCard, $author$project$Main$newCard)) : ((_Utils_cmp(model.j, model.i - model.j) > 0) ? _Utils_Tuple2(
					_Utils_update(
						model,
						{
							a: _Utils_update(
								currentGame,
								{d: $elm$core$Maybe$Nothing, g: $elm$core$Maybe$Nothing}),
							D: $elm$core$Maybe$Just(
								{
									d: model.a.d,
									g: model.a.g,
									w: $elm$core$Maybe$Just(cardC)
								}),
							i: model.i - model.j,
							j: model.i - model.j
						}),
					A2($elm$random$Random$generate, $author$project$Main$NewCard, $author$project$Main$newCard)) : _Utils_Tuple2(
					_Utils_update(
						model,
						{
							a: _Utils_update(
								currentGame,
								{d: $elm$core$Maybe$Nothing, g: $elm$core$Maybe$Nothing}),
							D: $elm$core$Maybe$Just(
								{
									d: model.a.d,
									g: model.a.g,
									w: $elm$core$Maybe$Just(cardC)
								}),
							i: model.i - model.j
						}),
					A2($elm$random$Random$generate, $author$project$Main$NewCard, $author$project$Main$newCard))));
			} else {
				return _Utils_Tuple2(model, $elm$core$Platform$Cmd$none);
			}
		} else {
			return _Utils_Tuple2(model, $elm$core$Platform$Cmd$none);
		}
	});
```

This appears to be a function that is checking if a given card is valid for a particular game. It takes in the card and the current game as arguments, and returns a boolean value indicating whether the card is valid.

The function first checks if the card is equal to the current game by comparing the cards using a function called `_Utils_cmp`. If the cards are not equal, it then updates the current game and the card in the game model using the `_Utils_update` function.

If the cards are equal, it then returns an object that contains the current game and the new card that was generated.

If the game is not a valid game, it returns an object that contains the initial state of the game.

The function also includes a `try`/`catch` block that handles the case where the function is not defined for the given game. In this case, it returns `undefined`.


```
var $author$project$Main$update = F2(
	function (msg, model) {
		switch (msg.$) {
			case 0:
				var bet = msg.a;
				return _Utils_Tuple2(
					_Utils_update(
						model,
						{j: bet}),
					$elm$core$Platform$Cmd$none);
			case 1:
				var value = msg.a;
				var _v1 = $elm$core$String$toInt(value);
				if (!_v1.$) {
					var newValue = _v1.a;
					return (_Utils_cmp(newValue, model.i) > 0) ? _Utils_Tuple2(
						_Utils_update(
							model,
							{
								C: $elm$core$Maybe$Just('You cannot bet more than you have'),
								j: model.i
							}),
						$elm$core$Platform$Cmd$none) : _Utils_Tuple2(
						_Utils_update(
							model,
							{C: $elm$core$Maybe$Nothing, j: newValue}),
						$elm$core$Platform$Cmd$none);
				} else {
					return _Utils_Tuple2(
						_Utils_update(
							model,
							{
								C: $elm$core$Maybe$Just('Wrong input for bet')
							}),
						$elm$core$Platform$Cmd$none);
				}
			case 2:
				var card = msg.a;
				var _v2 = model.a.d;
				if (_v2.$ === 1) {
					var currentGame = model.a;
					return (card > 13) ? _Utils_Tuple2(
						model,
						A2($elm$random$Random$generate, $author$project$Main$NewCard, $author$project$Main$newCard)) : _Utils_Tuple2(
						_Utils_update(
							model,
							{
								a: _Utils_update(
									currentGame,
									{
										d: $elm$core$Maybe$Just(card)
									})
							}),
						A2($elm$random$Random$generate, $author$project$Main$NewCard, $author$project$Main$newCard));
				} else {
					var cardA = _v2.a;
					var currentGame = model.a;
					return (_Utils_cmp(card, cardA) < 1) ? _Utils_Tuple2(
						_Utils_update(
							model,
							{
								a: _Utils_update(
									currentGame,
									{
										d: $elm$core$Maybe$Just(card)
									})
							}),
						A2($elm$random$Random$generate, $author$project$Main$NewCard, $author$project$Main$newCard)) : _Utils_Tuple2(
						_Utils_update(
							model,
							{
								a: _Utils_update(
									currentGame,
									{
										g: $elm$core$Maybe$Just(card)
									})
							}),
						$elm$core$Platform$Cmd$none);
				}
			case 4:
				return _Utils_Tuple2(
					model,
					A2($elm$random$Random$generate, $author$project$Main$NewCardC, $author$project$Main$newCard));
			case 3:
				var card = msg.a;
				return A2($author$project$Main$calculateNewState, card, model);
			default:
				return $author$project$Main$init(0);
		}
	});
```

ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏Ä‰∏™JavaScriptËÑöÊú¨Ôºå‰∏ªË¶Å‰ΩúÁî®ÊòØËÆæÁΩÆËôöÊãü DOM ‰∏≠ÁöÑÊ†∑Âºè„ÄÇ

È¶ñÂÖàÔºåÂèòÈáè $elm$virtual_dom$VirtualDom$style Â≠òÂÇ®‰∫ÜËôöÊãü DOM ‰∏≠ÁöÑÊ†∑ÂºèÔºåÁÑ∂ÂêéÂèàÈáçÊñ∞ÂºïÁî®‰∫ÜÂÆÉÔºåËøôÊ†∑Â∞±‰øùËØÅ‰∫ÜÊØèÊ¨°ËÆøÈóÆËôöÊãü DOM Êó∂ÁöÑÊ†∑ÂºèÈÉΩÊòØÁõ∏ÂêåÁöÑ„ÄÇ

Êé•ÁùÄÔºåÂèòÈáè $elm$html$Html$Attributes$style Â≠òÂÇ®‰∫ÜHTMLÂÖÉÁ¥†ÁöÑÊ†∑ÂºèÔºåÂåÖÊã¨display„ÄÅplace-itemsÂíåmarginÂ±ûÊÄß„ÄÇÁÑ∂ÂêéÔºåÈÄöËøáË∞ÉÁî® _List_fromArray() ÂáΩÊï∞ÔºåÂ∞Ü‰∏äËø∞Ê†∑ÂºèÁöÑÂÄºËøîÂõûÔºåÂπ∂Â≠òÂÇ®Âà∞‰∫ÜËÆäÈáè $author$project$Main$centerHeadlineStyle ‰∏≠„ÄÇ

Êé•‰∏ãÊù•ÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $author$project$Main$NewGame ÁöÑÂØπË±°ÔºåÂåÖÂê´‰∫Ü‰∏Ä‰∏™Êï∞Â≠ó 5„ÄÇÁÑ∂ÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $author$project$Main$Play ÁöÑÂØπË±°ÔºåÂåÖÂê´‰∫Ü‰∏Ä‰∏™Êï∞Â≠ó 4„ÄÇÊúÄÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $author$project$Main$UpdateBetValue ÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞ aÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÁöÑÂØπË±°ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™Â±ûÊÄßÊòØÊï∞Â≠ó 1ÔºåÂè¶‰∏Ä‰∏™Â±ûÊÄßÊòØaÁöÑÂÄº„ÄÇ

ÊúÄÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$html$Html$article ÁöÑËôöÊãü DOM ËäÇÁÇπÔºåÂπ∂‰∏î‰ΩøÁî®‰∫Ü _VirtualDom_node() ÂáΩÊï∞Ëé∑ÂèñÂà∞‰∫ÜËØ•ËäÇÁÇπ„ÄÇ


```
var $elm$virtual_dom$VirtualDom$style = _VirtualDom_style;
var $elm$html$Html$Attributes$style = $elm$virtual_dom$VirtualDom$style;
var $author$project$Main$centerHeadlineStyle = _List_fromArray(
	[
		A2($elm$html$Html$Attributes$style, 'display', 'grid'),
		A2($elm$html$Html$Attributes$style, 'place-items', 'center'),
		A2($elm$html$Html$Attributes$style, 'margin', '2rem')
	]);
var $elm$html$Html$div = _VirtualDom_node('div');
var $author$project$Main$NewGame = {$: 5};
var $author$project$Main$Play = {$: 4};
var $author$project$Main$UpdateBetValue = function (a) {
	return {$: 1, a: a};
};
var $elm$html$Html$article = _VirtualDom_node('article');
```

ËøôÊÆµ‰ª£Á†ÅÁöÑ‰ΩúÁî®ÊòØÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´ÊåâÈíÆÂÖÉÁ¥†ÁöÑËôöÊãüDOMËäÇÁÇπÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âú®ÂèòÈáè$elm$html$button‰∏≠„ÄÇÁÑ∂ÂêéÔºåÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫$author$project$Main$cardToStringÁöÑÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞Êé•Âèó‰∏Ä‰∏™Âêç‰∏∫cardÁöÑÂÖÉÁ¥†‰Ωú‰∏∫ÂèÇÊï∞„ÄÇÂ¶ÇÊûú$cardÂØπË±°‰∏çÂ≠òÂú®ÔºåÂàôÂ∞ÜÂç°ÁâáÂÜÖÂÆπÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Á§∫‰∏∫‰∏Ä‰∏™Á©∫Â≠óÁ¨¶‰∏≤„ÄÇÂê¶ÂàôÔºåÊ†πÊçÆ‰º†ÂÖ•ÁöÑ$value$ÁöÑÂÄºÔºå‰ΩøÁî®$elm$core$String$fromIntÂáΩÊï∞Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤ÔºåÂπ∂ËøîÂõûÁõ∏Â∫îÁöÑÂêçÁß∞„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûú$value$Á≠â‰∫é11ÔºåÂàôËøîÂõû"Jack"ÔºåÂ¶ÇÊûúÁ≠â‰∫é12ÔºåÂàôËøîÂõû"Queen"ÔºåÂ¶ÇÊûúÁ≠â‰∫é13ÔºåÂàôËøîÂõû"King"ÔºåÂ¶ÇÊûúÁ≠â‰∫é14ÔºåÂàôËøîÂõû"Ace"„ÄÇÂ¶ÇÊûú$value$ÁöÑÂÄº‰∏çÂú®‰∏äËø∞ËåÉÂõ¥ÂÜÖÔºåÂàôËøîÂõû"impossible value"„ÄÇÊúÄÂêéÔºåÂ∞ÜËΩ¨Êç¢ÂêéÁöÑÂ≠óÁ¨¶‰∏≤ËøîÂõû„ÄÇ


```
var $elm$html$Html$button = _VirtualDom_node('button');
var $author$project$Main$cardContentPStyle = _List_fromArray(
	[
		A2($elm$html$Html$Attributes$style, 'font-size', '2rem')
	]);
var $author$project$Main$cardToString = function (card) {
	if (!card.$) {
		var value = card.a;
		if (value < 11) {
			return $elm$core$String$fromInt(value);
		} else {
			switch (value) {
				case 11:
					return 'Jack';
				case 12:
					return 'Queen';
				case 13:
					return 'King';
				case 14:
					return 'Ace';
				default:
					return 'impossible value';
			}
		}
	} else {
		return '-';
	}
};
```

ËøôÊÆµ‰ª£Á†ÅÁöÑ‰ΩúÁî®ÊòØËÆæÁΩÆ‰∏Ä‰∏™ÁîµÂ≠êÂïÜÂä°ÁΩëÁ´ôÁöÑÂÆΩÂ∫¶ÈôêÂà∂ÔºåËøô‰∏™ÈôêÂà∂Âú®ÁΩëÁ´ôÂÆΩÂ∫¶‰∏∫70%Êó∂ÁîüÊïà„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥Ôºå‰ª£Á†ÅÈ¶ñÂÖàÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫$author$project$Main$gameStyleÁöÑÂèòÈáèÔºåÂÆÉÂåÖÂê´‰∫Ü‰∏Ä‰∏™ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÁöÑÂØπË±°„ÄÇÁ¨¨‰∏Ä‰∏™Â±ûÊÄßÊòØ"width"ÔºåÂÄº‰∏∫100%ÔºåË°®Á§∫ÂÆΩÂ∫¶Â∫îËØ•Âç†ÊçÆÊï¥‰∏™ÁΩëÁ´ôÁöÑÂÆΩÂ∫¶„ÄÇÁ¨¨‰∫å‰∏™Â±ûÊÄßÊòØ"max-width"ÔºåÂÄº‰∏∫70remÔºåË°®Á§∫ÂΩìÁΩëÁ´ôÂÆΩÂ∫¶ËææÂà∞70%Êó∂ÔºåËØ•Â±ûÊÄßÁîüÊïà„ÄÇ

ÁÑ∂Âêé‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫$elm$html$Html$inputÁöÑÂèòÈáèÔºåÂÆÉÊòØ‰∏Ä‰∏™ËôöÊãüDOMËäÇÁÇπÔºå‰ª£Ë°®ÁΩëÁ´ô‰∏≠ÁöÑ‰∏Ä‰∏™ËæìÂÖ•Ê°Ü„ÄÇ

Êé•ÁùÄÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫$elm$json$Json$Encode$stringÁöÑÂèòÈáèÔºåÂÆÉÊòØ‰∏Ä‰∏™Áî®‰∫éÂ∞ÜJSONÂ≠óÁ¨¶‰∏≤ÁºñÁ†Å‰∏∫Â≠óÁ¨¶‰∏≤ÁöÑÂäüËÉΩ„ÄÇ

ÊúÄÂêéÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫$elm$html$Html$Attributes$stringPropertyÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Êî∂‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Âíå‰∏Ä‰∏™ÈîÆ„ÄÇËøô‰∏™ÈîÆÊòØ‰∏Ä‰∏™ËôöÊãüDOMÂ±ûÊÄßÔºåÂÆÉËøîÂõû‰∏Ä‰∏™Â∞ÜÈîÆÂØπÂ∫îÁöÑÂÄºËøõË°åJSONÁºñÁ†ÅÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ

Ëøô‰∏™ÂáΩÊï∞Ë¢´Áî®Êù•Ëé∑ÂèñËôöÊãüDOMËäÇÁÇπ‰∏≠‰∏é‚Äúmax‚ÄùÂ±ûÊÄßÂØπÂ∫îÁöÑÈîÆÔºåÁÑ∂ÂêéËé∑ÂèñËØ•ÈîÆÂØπÂ∫îÁöÑÂÄºÂπ∂Â∞ÜÂÖ∂ËøõË°åJSONÁºñÁ†Å„ÄÇÊúÄÂêéÔºåËøô‰∏™ÁºñÁ†ÅÂêéÁöÑÂÄºË¢´Áî®Êù•ËÆæÁΩÆËôöÊãüDOMËäÇÁÇπ‰∏≠ÁöÑ‚Äúmax-width‚ÄùÂ±ûÊÄß„ÄÇ

Êï¥‰∏™‰ª£Á†ÅÁöÑ‰ΩúÁî®ÊòØËÆæÁΩÆ‰∏Ä‰∏™ÁΩëÁ´ôÂÆΩÂ∫¶ÈôêÂà∂ÔºåÂΩìÁΩëÁ´ôÂÆΩÂ∫¶ËææÂà∞70%Êó∂ÔºåÂÆΩÂ∫¶ÈôêÂà∂ÁîüÊïà„ÄÇ


```
var $author$project$Main$gameStyle = _List_fromArray(
	[
		A2($elm$html$Html$Attributes$style, 'width', '100%'),
		A2($elm$html$Html$Attributes$style, 'max-width', '70rem')
	]);
var $elm$html$Html$input = _VirtualDom_node('input');
var $elm$json$Json$Encode$string = _Json_wrap;
var $elm$html$Html$Attributes$stringProperty = F2(
	function (key, string) {
		return A2(
			_VirtualDom_property,
			key,
			$elm$json$Json$Encode$string(string));
	});
var $elm$html$Html$Attributes$max = $elm$html$Html$Attributes$stringProperty('max');
```

ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏Ä‰∏™JavaScriptËÑöÊú¨ÔºåÂÆÉÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁî®Êà∑ËæìÂÖ•È™åËØÅÂäüËÉΩ„ÄÇËøô‰∏™È™åËØÅÂäüËÉΩÈÄöËøáÂú®Áî®Êà∑ËæìÂÖ•Ê°Ü‰∏≠ËæìÂÖ•"min"Â≠óÁ¨¶Êù•Ëé∑ÂèñÁî®Êà∑ËæìÂÖ•ÁöÑÊúÄÂ∞èÂÄºÔºåÁÑ∂ÂêéÂ∞ÜËøô‰∏™ÂÄºÂ≠òÂÇ®Âà∞ÂèòÈáè$elm$html$Html$Attributes$min‰∏≠„ÄÇ

Êé•‰∏ãÊù•ÔºåËÑöÊú¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫$elm$virtual_dom$VirtualDom$NormalÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™ÂèÇÊï∞$a$ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåÂØπË±°ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÔºö‰∏Ä‰∏™Ë°®Á§∫ÂΩìÂâçÈ™åËØÅÁä∂ÊÄÅÁöÑÂ±ûÊÄß$$.Âè¶‰∏Ä‰∏™Ë°®Á§∫ÂæÖÈ™åËØÅÁöÑ$a$ÂÄº„ÄÇ

ËÑöÊú¨ËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫$elm$html$Html$Events$onÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™‰∫ã‰ª∂ÂêçÁß∞Âíå‰∏Ä‰∏™Ëß£Á†ÅÂô®ÔºàÈÄöÂ∏∏ÊòØ‰∏Ä‰∏™Êï∞Â≠óÔºâÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞‰ºöÂú®‰∫ã‰ª∂ÂèëÁîüÊó∂Ë¢´Ë∞ÉÁî®ÔºåÂêåÊó∂‰º†ÈÄí‰∫ã‰ª∂ÂêçÁß∞ÂíåËß£Á†ÅÂô®‰Ωú‰∏∫ÂèÇÊï∞„ÄÇ

ÊúÄÂêéÔºåËÑöÊú¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫$elm$html$Html$Events$onClickÁöÑÂáΩÊï∞ÔºåÂÆÉ‰∏é‰∏äÈù¢ÂÆö‰πâÁöÑ$elm$html$Html$Events$onÂáΩÊï∞Á±ª‰ººÔºå‰ΩÜÊòØËøô‰∏™ÂáΩÊï∞Âè™Êé•Êî∂‰∏Ä‰∏™ÂèÇÊï∞$msg$ÔºåË°®Á§∫Áî®Êà∑ÁÇπÂáªÊåâÈíÆÊó∂‰º†ÈÄíÁªôÂÆÉÁöÑÊ∂àÊÅØ„ÄÇ

ÊÄªÁöÑÊù•ËØ¥ÔºåËøôÊÆµ‰ª£Á†ÅÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁî®Êà∑ËæìÂÖ•È™åËØÅÂäüËÉΩÔºåÈÄöËøáÂØπÁî®Êà∑ËæìÂÖ•ÁöÑÈ™åËØÅÔºåÂèØ‰ª•Á°Æ‰øùËæìÂÖ•ÁöÑÂÄºÁ¨¶ÂêàÊúÄÂ∞èÂÄºË¶ÅÊ±Ç„ÄÇ


```
var $elm$html$Html$Attributes$min = $elm$html$Html$Attributes$stringProperty('min');
var $elm$virtual_dom$VirtualDom$Normal = function (a) {
	return {$: 0, a: a};
};
var $elm$virtual_dom$VirtualDom$on = _VirtualDom_on;
var $elm$html$Html$Events$on = F2(
	function (event, decoder) {
		return A2(
			$elm$virtual_dom$VirtualDom$on,
			event,
			$elm$virtual_dom$VirtualDom$Normal(decoder));
	});
var $elm$html$Html$Events$onClick = function (msg) {
	return A2(
		$elm$html$Html$Events$on,
		'click',
		$elm$json$Json$Decode$succeed(msg));
};
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$html$Html$Events$alwaysStop` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÈòªÊ≠¢ `alwaysStop` ‰∫ã‰ª∂ÁöÑÂèëÁîüÔºåÂΩì `alwaysStop` ‰∫ã‰ª∂Ë¢´Ëß¶ÂèëÊó∂Ôºå‰ºöË∞ÉÁî®ËØ•ÂáΩÊï∞ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´‰∏§‰∏™Â±ûÊÄßÔºö‰∏Ä‰∏™Ë°®Á§∫‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÁöÑÂºïÁî®ÔºåÂè¶‰∏Ä‰∏™ÊòØ‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåË°®Á§∫‰∫ã‰ª∂ÊòØÂê¶Â∫îËØ•ÂÅúÊ≠¢‰º†Êí≠„ÄÇ

Êé•‰∏ãÊù•ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$elm$virtual_dom$VirtualDom$MayStopPropagation` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰ºöÈòªÊ≠¢‰∫ã‰ª∂Âú®ËôöÊãü DOM Ê†ë‰∏≠‰º†Êí≠ÔºåÂΩì `MayStopPropagation` ‰∫ã‰ª∂Ë¢´Ëß¶ÂèëÊó∂Ôºå‰ºöËøîÂõû‰∏Ä‰∏™ÂØπË±°ÔºåËØ•ÂØπË±°ÂåÖÂê´‰∏Ä‰∏™Ë°®Á§∫‰∫ã‰ª∂Â§ÑÁêÜÁöÑÂáΩÊï∞ÁöÑÂºïÁî®Âíå‰∏Ä‰∏™Ë°®Á§∫‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÁöÑ `stopPropagationOn` Â±¨ÊÄß„ÄÇ

ÊúÄÂêéÔºåÈÄöËøá `var $elm$json$Json$Decode$field` Âíå `var $elm$json$Json$Decode$at` ÂáΩÊï∞ÔºåÂÆûÁé∞‰∫ÜÂØπ JSON Êï∞ÊçÆÁöÑËß£Á†Å„ÄÇÂÖ∂‰∏≠Ôºå`$elm$json$Json$Decode$field` ÂáΩÊï∞Áî®‰∫éËß£Êûê JSON Êï∞ÊçÆ‰∏≠ÁöÑÂ≠óÊÆµÂêçÔºåËÄå `$elm$core$List$foldr` ÂáΩÊï∞ÂàôÁî®‰∫éÂØπÂàóË°®Êï∞ÊçÆËøõË°åÊäòÂè†ÔºåÂ∞ÜÂ§ö‰∏™Â≠óÊÆµÂêçÁªÑÊàêÁöÑÂàóË°®ËΩ¨Êç¢Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇ


```
var $elm$html$Html$Events$alwaysStop = function (x) {
	return _Utils_Tuple2(x, true);
};
var $elm$virtual_dom$VirtualDom$MayStopPropagation = function (a) {
	return {$: 1, a: a};
};
var $elm$html$Html$Events$stopPropagationOn = F2(
	function (event, decoder) {
		return A2(
			$elm$virtual_dom$VirtualDom$on,
			event,
			$elm$virtual_dom$VirtualDom$MayStopPropagation(decoder));
	});
var $elm$json$Json$Decode$field = _Json_decodeField;
var $elm$json$Json$Decode$at = F2(
	function (fields, decoder) {
		return A3($elm$core$List$foldr, $elm$json$Json$Decode$field, decoder, fields);
	});
```

ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞ÔºåÂÆÉÊâßË°å‰ª•‰∏ãÊìç‰ΩúÔºö

1. Â∞Ü `_Json_decodeString` ÂáΩÊï∞ËµãÂÄºÁªôÂèòÈáè `$elm$json$Json$Decode$string`„ÄÇ
2. ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ `$elm$html$Html$Events$targetValue` ÁöÑÂèòÈáèÔºåÂÆÉÁöÑÂÄº‰∏∫Ôºö

a. ÂØπ `$elm$json$Json$Decode$at` ËøõË°åÊìç‰ΩúÔºå‰ΩøÁî® `_List_fromArray` ÂáΩÊï∞‰ªéÂàóË°® `['target', 'value']` ‰∏≠Ëé∑ÂèñÂÄºÔºåÂπ∂Â∞ÜÁªìÊûúÂ≠òÂÇ®Âú® `$elm$json$Json$Decode$string` ÂèòÈáè‰∏≠„ÄÇ
b. ÂØπ `$elm$json$Json$Decode$string` ËøõË°åÊìç‰ΩúÔºå‰ΩøÁî® `map` ÂáΩÊï∞ÂØπ‰º†ÂÖ•ÁöÑÂÄºËøõË°åËΩ¨Êç¢ÔºåÂπ∂Â∞ÜÁªìÊûúÂ≠òÂÇ®Âõû `$elm$json$Json$Decode$string` ÂèòÈáè‰∏≠„ÄÇ
3. ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ `$elm$html$Html$Events$onInput` ÁöÑÂáΩÊï∞ÔºåÂÆÉÁöÑÂÆûÁé∞Â¶Ç‰∏ãÔºö
a. ÂØπ‰º†ÂÖ•ÁöÑ `tagger` ÂØπË±°ËøõË°åÊìç‰ΩúÔºå‰ΩøÁî® `stopPropagationOn` ÂáΩÊï∞ÈòªÊ≠¢‰∫ã‰ª∂ÁöÑ‰º†Êí≠„ÄÇ
b. ÂØπ `$elm$json$Json$Decode$map` ÂáΩÊï∞ËøõË°åÊìç‰ΩúÔºå‰ΩøÁî® `alwaysStop` ÂáΩÊï∞Âú®‰∫ã‰ª∂ÂÅúÊ≠¢ÂâçÂÅúÊ≠¢‰∫ã‰ª∂ÁöÑÁªßÁª≠‰º†Êí≠„ÄÇ
c. ÂØπ `$elm$json$Json$Decode$map` ÂáΩÊï∞ËøõË°åÊìç‰ΩúÔºå‰ΩøÁî® `map` ÂáΩÊï∞Â∞Ü‰º†ÂÖ•ÁöÑÂÄºÊò†Â∞ÑÂà∞‰∏Ä‰∏™Êñ∞ÂàóË°®‰∏≠ÔºåËØ•Êñ∞ÂàóË°®ÂåÖÂê´ `tagger` ÂØπË±°‰∏é `$elm$json$Json$Decode$string` ÂèòÈáè‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇ
d. ËøîÂõûÊñ∞ÂàóË°®ÁöÑÂÄºÔºåÂç≥ `A2($elm$html$Html$Events$stopPropagationOn, 'input', $elm$json$Json$Decode$map, tagger, $elm$html$Html$Events$targetValue))`„ÄÇ


```
var $elm$json$Json$Decode$string = _Json_decodeString;
var $elm$html$Html$Events$targetValue = A2(
	$elm$json$Json$Decode$at,
	_List_fromArray(
		['target', 'value']),
	$elm$json$Json$Decode$string);
var $elm$html$Html$Events$onInput = function (tagger) {
	return A2(
		$elm$html$Html$Events$stopPropagationOn,
		'input',
		A2(
			$elm$json$Json$Decode$map,
			$elm$html$Html$Events$alwaysStop,
			A2($elm$json$Json$Decode$map, tagger, $elm$html$Html$Events$targetValue)));
};
```

ËøôÊÆµ‰ª£Á†ÅÊòØ‰∏Ä‰∏™ JavaScript ÂáΩÊï∞Ôºå‰∏ªË¶ÅÁõÆÁöÑÊòØÂú®È°µÈù¢‰∏äÂä®ÊÄÅÂàõÂª∫Âπ∂ÊòæÁ§∫ÊñáÊú¨ÂÜÖÂÆπ„ÄÇ‰ª•‰∏ãÊòØ‰ª£Á†ÅÁöÑ‰∏ªË¶ÅÈÉ®ÂàÜÂíå‰ΩúÁî®Ôºö

1. `var $elm$html$Html$p = _VirtualDom_node('p');`ÔºöÂ£∞Êòé‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$html$Html$p ÁöÑËôöÊãü DOM ËäÇÁÇπÔºåÂÆÉ‰ª£Ë°®‰∫Ü‰∏Ä‰∏™ `<p>` Ê†áÁ≠æ„ÄÇ
2. `var $author$project$Main$standardFontSize = A2($elm$html$Html$Attributes$style, 'font-size', '2rem');`ÔºöÂ£∞Êòé‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $author$project$Main$standardFontSize ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™Âêç‰∏∫ $elm$html$Html$Attributes$style ÁöÑËôöÊãü DOM Â±ûÊÄßÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â≠ó‰ΩìÂ§ßÂ∞èÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇËøô‰∏™Â≠óÁ¨¶‰∏≤ÂÆö‰πâ‰∫ÜÈ°µÈù¢‰∏äÊñáÊú¨ÁöÑÈªòËÆ§Â≠ó‰ΩìÂ§ßÂ∞è„ÄÇ
3. `var $elm$virtual_dom$VirtualDom$text = _VirtualDom_text;`ÔºöÂ£∞Êòé‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$virtual_dom$VirtualDom$text ÁöÑÂèòÈáèÔºåÂÆÉÂ≠òÂÇ®‰∫ÜËôöÊãü DOM ‰∏≠ÊñáÊú¨ÂÜÖÂÆπÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Á§∫„ÄÇ
4. `var $elm$html$Html$text = $elm$virtual_dom$VirtualDom$text;`ÔºöÂ∞Ü $elm$virtual_dom$VirtualDom$text ËµãÂÄºÁªô $elm$html$Html$textÔºå‰ΩøÂæóËôöÊãü DOM ‰∏≠ÁöÑÊñáÊú¨ÂÜÖÂÆπ‰∏éÈ°µÈù¢‰∏äÊòæÁ§∫ÁöÑÊñáÊú¨ÂÜÖÂÆπ‰øùÊåÅ‰∏ÄËá¥„ÄÇ
5. `var $author$project$Main$showError = function (value) {`ÔºöÂ£∞Êòé‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $author$project$Main$showError ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™Âêç‰∏∫ value ÁöÑÂèÇÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂú®ÊòæÁ§∫ÈîôËØØ‰ø°ÊÅØÊó∂ÔºåÊ†πÊçÆ‰∏çÂêåÁöÑËæìÂÖ•ÂÄºÂÅöÂá∫Áõ∏Â∫îÁöÑÂ§ÑÁêÜ„ÄÇ
6. `if (!value.$) {`ÔºöÂ¶ÇÊûúÂèòÈáè value Â≠òÂú®ÔºåÊâßË°åËøô‰∏™Êù°‰ª∂ËØ≠Âè•„ÄÇ
7. `var string = value.a;`Ôºö‰ªé value.a Â±ûÊÄß‰∏≠Ëé∑ÂèñÂ≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜÂÖ∂Â≠òÂÇ®Âà∞ string ÂèòÈáè‰∏≠„ÄÇ
8. `return A2(...);`Ôºö‰ΩøÁî® A2() ÂáΩÊï∞Â∞Ü string ËΩ¨Êç¢‰∏∫ËôöÊãü DOM ‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤ËäÇÁÇπÔºåÁÑ∂ÂêéËøîÂõûÂÆÉ„ÄÇ
9. `var $elm$html$Html$div = _VirtualDom_node('div');`ÔºöÂ£∞Êòé‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$html$Html$div ÁöÑËôöÊãü DOM ËäÇÁÇπÔºåÂÆÉ‰ª£Ë°®‰∫Ü‰∏Ä‰∏™ `<div>` Ê†áÁ≠æ„ÄÇ
10. `var $author$project$Main$standardFontSize = A2($elm$html$Html$Attributes$style, 'font-size', '2rem');`ÔºöÂ£∞Êòé‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $author$project$Main$standardFontSize ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™Âêç‰∏∫ $elm$html$Html$Attributes$style ÁöÑËôöÊãü DOM Â±ûÊÄßÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Â≠ó‰ΩìÂ§ßÂ∞èÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇËøô‰∏™Â≠óÁ¨¶‰∏≤ÂÆö‰πâ‰∫ÜÈ°µÈù¢‰∏äÊñáÊú¨ÁöÑÈªòËÆ§Â≠ó‰ΩìÂ§ßÂ∞è„ÄÇ
11. `var $elm$virtual_dom$VirtualDom$text = _VirtualDom_text;`ÔºöÂ£∞Êòé‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ $elm$virtual_dom$VirtualDom$text ÁöÑÂèòÈáèÔºåÂÆÉÂ≠òÂÇ®‰∫ÜËôöÊãü DOM ‰∏≠ÊñáÊú¨ÂÜÖÂÆπÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Á§∫„ÄÇ
12. `var $elm$html$Html$text = $elm$virtual_dom$VirtualDom$text;`ÔºöÂ∞Ü $elm$virtual_dom$VirtualDom$text ËµãÂÄºÁªô $elm$html$Html$textÔºå‰ΩøÂæóËôöÊãü DOM ‰∏≠ÁöÑÊñáÊú¨ÂÜÖÂÆπ‰∏éÈ°µÈù¢‰∏äÊòæÁ§∫ÁöÑÊñáÊú¨ÂÜÖÂÆπ‰øùÊåÅ‰∏ÄËá¥„ÄÇ
13. `var $author$project$Main$showError = function (value) {`ÔºöÂ£∞Êòé‰∫Ü‰∏Ä‰∏™Âêç‰∏∫


```
var $elm$html$Html$p = _VirtualDom_node('p');
var $author$project$Main$standardFontSize = A2($elm$html$Html$Attributes$style, 'font-size', '2rem');
var $elm$virtual_dom$VirtualDom$text = _VirtualDom_text;
var $elm$html$Html$text = $elm$virtual_dom$VirtualDom$text;
var $author$project$Main$showError = function (value) {
	if (!value.$) {
		var string = value.a;
		return A2(
			$elm$html$Html$p,
			_List_fromArray(
				[$author$project$Main$standardFontSize]),
			_List_fromArray(
				[
					$elm$html$Html$text(string)
				]));
	} else {
		return A2($elm$html$Html$div, _List_Nil, _List_Nil);
	}
};
```

ËøôÊòØ‰∏Ä‰∏™JavaScript‰ª£Á†ÅÁâáÊÆµÔºåÂÆÉÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫`$author$project$Main$getGameStateMessage`ÁöÑÂáΩÊï∞„ÄÇËøô‰∏™ÂáΩÊï∞Êé•Âèó‰∏â‰∏™ÂèÇÊï∞Ôºö`cardA`„ÄÅ`cardB`Âíå`cardC`ÔºåÂÆÉ‰ª¨ÈÉΩÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÂèòÈáè„ÄÇ

ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÂà§Êñ≠‰∏§‰∏™Â≠óÁ¨¶‰∏≤ÊòØÂê¶ÂåπÈÖçÔºåÂ¶ÇÊûúÂÆÉ‰ª¨‰∏≠Êúâ‰∏Ä‰∏™Â≠óÁ¨¶‰∏çÁõ∏Á≠âÔºåÂàôËøîÂõû‰∏§‰∏™Â≠óÁ¨¶‰∏≤‰∏≠ËæÉÂ§ßÁöÑÈÇ£‰∏™ÔºåÂê¶ÂàôËøîÂõûËæÉÂ∞èÁöÑÈÇ£‰∏™„ÄÇÁÑ∂ÂêéÔºåÂáΩÊï∞‰ºöÊ†πÊçÆËøô‰∏™ÂåπÈÖçÁªìÊûúËøîÂõû‰∏§‰∏™ÂÖ∂‰ªñÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂàÜÂà´ÊòØ"You won"Âíå"You lost"„ÄÇ

ÊúÄÁªàÔºåÂáΩÊï∞ËøîÂõûÁöÑÁªìÊûúÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåË°®Á§∫Ê∏∏ÊàèÁä∂ÊÄÅ‰ø°ÊÅØÔºåÊ†πÊçÆ‰∏äËø∞ÂåπÈÖçÁªìÊûúÁöÑ‰∏çÂêåÔºåÂÆÉ‰ºöËæìÂá∫‰∏çÂêåÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ


```
var $author$project$Main$getGameStateMessage = F3(
	function (cardA, cardB, cardC) {
		return ((_Utils_cmp(cardA, cardC) < 0) && (_Utils_cmp(cardB, cardC) > 0)) ? A2(
			$elm$html$Html$div,
			_List_fromArray(
				[$author$project$Main$standardFontSize]),
			_List_fromArray(
				[
					$elm$html$Html$text('You won :)')
				])) : A2(
			$elm$html$Html$div,
			_List_fromArray(
				[$author$project$Main$standardFontSize]),
			_List_fromArray(
				[
					$elm$html$Html$text('You loose :(')
				]));
	});
```

ËØ•‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `F4` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•ÂèóÂõõ‰∏™ÂèÇÊï∞Ôºö `func`„ÄÅ`ma`„ÄÅ`mb` Âíå `mc`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÂåÖÂê´‰∏Ä‰∏™Êù°‰ª∂ËØ≠Âè•ÔºåÊ†πÊçÆ‰º†ÂÖ•ÁöÑÂèÇÊï∞ÊÉÖÂÜµÊâßË°å‰∏çÂêåÁöÑÈÄªËæë„ÄÇ

Â¶ÇÊûú `ma.$` Á≠â‰∫é 1ÔºåÂàôËøîÂõû `$elm$core$Maybe$Nothing`„ÄÇÂê¶ÂàôÔºåÂáΩÊï∞‰ºöÊ†πÊçÆ‰º†ÂÖ•ÂèÇÊï∞ÁöÑÊÉÖÂÜµÊâßË°åÂÖ∑‰ΩìÁöÑÈÄªËæë„ÄÇ

ÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂ¶ÇÊûú `mb.$` Á≠â‰∫é 1ÔºåÂáΩÊï∞‰ºöÊâßË°å `A3(func, a, b, c)` ÂáΩÊï∞ÔºåÂπ∂Â∞ÜÁªìÊûúËøîÂõû„ÄÇÂ¶ÇÊûú `mc.$` Á≠â‰∫é 1ÔºåÂáΩÊï∞‰ºöÊâßË°å `A3(func, a, b, c)` ÂáΩÊï∞ÔºåÂπ∂Â∞ÜÁªìÊûúËøîÂõû„ÄÇÂ¶ÇÊûú `mb.$` ‰∏çÁ≠â‰∫é 1 ‰∏î `mc.$` ‰∏çÁ≠â‰∫é 1ÔºåÂáΩÊï∞‰ºöÊâßË°å `A3(func, a, b, c)` ÂáΩÊï∞ÔºåÂπ∂Â∞ÜÁªìÊûúËøîÂõû„ÄÇÂ¶ÇÊûú `mb.$` Êàñ `mc.$` Á≠â‰∫é 1Ôºå‰ΩÜ `A3(func, a, b, c)` ÂáΩÊï∞ËøîÂõûÁöÑÁªìÊûú‰∏çÁ≠â‰∫é `$elm$core$Maybe$Nothing` Êàñ `$elm$core$Maybe$Just`ÔºåÂáΩÊï∞‰πü‰∏ç‰ºöÊâßË°å‰ªª‰ΩïÂÖ∑‰ΩìÁöÑÈÄªËæëÔºåÁõ¥Êé•ËøîÂõû `$elm$core$Maybe$Nothing`„ÄÇ


```
var $elm$core$Maybe$map3 = F4(
	function (func, ma, mb, mc) {
		if (ma.$ === 1) {
			return $elm$core$Maybe$Nothing;
		} else {
			var a = ma.a;
			if (mb.$ === 1) {
				return $elm$core$Maybe$Nothing;
			} else {
				var b = mb.a;
				if (mc.$ === 1) {
					return $elm$core$Maybe$Nothing;
				} else {
					var c = mc.a;
					return $elm$core$Maybe$Just(
						A3(func, a, b, c));
				}
			}
		}
	});
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `$author$project$Main$showLastWinLose` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™Âêç‰∏∫ `game` ÁöÑÂèÇÊï∞„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `F2` ÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏Ä‰∏™ÊòØÂèØËÉΩÊòØÂØπË±° `maybe`ÔºåÂè¶‰∏Ä‰∏™ÊòØÈªòËÆ§ÂÄº `_default`„ÄÇÂáΩÊï∞ÂÜÖÈÉ®ÂÖàÂà§Êñ≠ `maybe` ÂØπË±°‰∏ãÊòØÂê¶Êúâ `$` Â±ûÊÄßÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàôÊâßË°å `value = maybe.a` ÁöÑ‰ª£Á†ÅÂ∞ÜËøîÂõû `maybe.a` ÁöÑÂÄº„ÄÇÂ¶ÇÊûú `maybe` ÂØπË±°‰∏ãÊúâ `$` Â±ûÊÄßÔºåÂàôÊâßË°å `return _default` ÁöÑ‰ª£Á†ÅËøîÂõûÈªòËÆ§ÂÄº„ÄÇ

Êé•‰∏ãÊù•ÔºåÂÆö‰πâÂè¶‰∏Ä‰∏™Âêç‰∏∫ `$elm$core$Maybe$withDefault` ÁöÑÂáΩÊï∞ÔºåÂÆÉ‰∏é `F2` ÂáΩÊï∞ÁöÑÂäüËÉΩÁ±ª‰ººÔºåÂè™ÊòØËøîÂõûÂÄº‰ΩøÁî®‰∫Ü `_default` ËÄå‰∏çÊòØ `value`„ÄÇ

ÊúÄÂêéÔºåÂú® `$author$project$Main$showLastWinLose` ÂáΩÊï∞‰∏≠Ôºå‰ΩøÁî®‰∫Ü `A2` ÂáΩÊï∞Â∞Ü `F2` Âíå `map3` ÂáΩÊï∞ËøîÂõûÁöÑÂÄº‰º†ÈÄíÁªô `A4` ÂáΩÊï∞ÔºåÂÖ∂‰∏≠ `A4` ÂáΩÊï∞Êé•Êî∂Âõõ‰∏™ÂèÇÊï∞ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåË°®Á§∫Âú® HTML ‰∏≠ÊòæÁ§∫ÁöÑÂÜÖÂÆπÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ `game` ÂØπË±°ÔºåË°®Á§∫Ë¶ÅÊòæÁ§∫ÁöÑÊúÄÂêé‰∏Ä‰∏™ËÉúÂà©ÊàñÂ§±Ë¥•ÁöÑÊ∂àÊÅØ„ÄÇËøôÊ†∑ÔºåÂΩì `showLastWinLose` Ë¢´Ë∞ÉÁî®Êó∂ÔºåÂÆÉ‰ºöÂ§ÑÁêÜ `game` ÂØπË±°‰∏≠ÁöÑÊâÄÊúâÂ±ûÊÄßÔºåÂπ∂Âú® HTML ‰∏≠ÊòæÁ§∫ÊúÄÂêé‰∏Ä‰∏™ËÉúÂà©ÊàñÂ§±Ë¥•ÁöÑÊ∂àÊÅØ„ÄÇ


```
var $elm$core$Maybe$withDefault = F2(
	function (_default, maybe) {
		if (!maybe.$) {
			var value = maybe.a;
			return value;
		} else {
			return _default;
		}
	});
var $author$project$Main$showLastWinLose = function (game) {
	return A2(
		$elm$core$Maybe$withDefault,
		$elm$html$Html$text('something is wrong'),
		A4($elm$core$Maybe$map3, $author$project$Main$getGameStateMessage, game.d, game.g, game.w));
};
```

This appears to be a JavaScript function that generates a HTML table with two columns: one for the card content (author, title, and sometimes a rating), and the other for the author's name and the outcome of the game (win, lose, or draw). The function takes an array of card content objects, and generates the table using a template literal.


```
var $author$project$Main$showLastGame = function (game) {
	if (game.$ === 1) {
		return A2(
			$elm$html$Html$div,
			_List_fromArray(
				[$author$project$Main$standardFontSize]),
			_List_fromArray(
				[
					$elm$html$Html$text('This is your first game')
				]));
	} else {
		var value = game.a;
		return A2(
			$elm$html$Html$div,
			_List_Nil,
			_List_fromArray(
				[
					$author$project$Main$showLastWinLose(value),
					A2(
					$elm$html$Html$p,
					$author$project$Main$cardContentPStyle,
					_List_fromArray(
						[
							$elm$html$Html$text(
							'Card 1: ' + $author$project$Main$cardToString(value.d))
						])),
					A2(
					$elm$html$Html$p,
					$author$project$Main$cardContentPStyle,
					_List_fromArray(
						[
							$elm$html$Html$text(
							'Card 2: ' + $author$project$Main$cardToString(value.g))
						])),
					A2(
					$elm$html$Html$p,
					$author$project$Main$cardContentPStyle,
					_List_fromArray(
						[
							$elm$html$Html$text(
							'Drawn Card: ' + $author$project$Main$cardToString(value.w))
						]))
				]));
	}
};
```

This is a PHP function that renders a sports betting card with a user's current bet. The card includes a range input, a button to play or cancel, and a text to display the user's current bet.

The range input is defined by the `min` and `max` attributes of a `range` element. The `value` attribute is set to the user's current bet, which is obtained from the `model.j` variable.

The button to play or cancel is rendered using the `onClick` event of the `author.project.main.legend` element. The button text is set to "Play" and the font size is set to the standard font size.

Note that the function assumes that the card is rendered in a container with the class name `author.project.main.card.Card`.


```
var $elm$html$Html$Attributes$type_ = $elm$html$Html$Attributes$stringProperty('type');
var $elm$html$Html$Attributes$value = $elm$html$Html$Attributes$stringProperty('value');
var $author$project$Main$showGame = function (model) {
	return (model.i <= 0) ? A2(
		$elm$html$Html$article,
		$author$project$Main$gameStyle,
		_List_fromArray(
			[
				A2(
				$elm$html$Html$p,
				$author$project$Main$cardContentPStyle,
				_List_fromArray(
					[
						$elm$html$Html$text('You lose all you money')
					])),
				A2(
				$elm$html$Html$button,
				_List_fromArray(
					[
						$elm$html$Html$Events$onClick($author$project$Main$NewGame),
						$author$project$Main$standardFontSize
					]),
				_List_fromArray(
					[
						$elm$html$Html$text('Again')
					]))
			])) : A2(
		$elm$html$Html$article,
		$author$project$Main$gameStyle,
		_List_fromArray(
			[
				A2(
				$elm$html$Html$p,
				$author$project$Main$cardContentPStyle,
				_List_fromArray(
					[
						$elm$html$Html$text(
						'Currently you have ' + ($elm$core$String$fromInt(model.i) + ' in your pocket.'))
					])),
				A2(
				$elm$html$Html$p,
				$author$project$Main$cardContentPStyle,
				_List_fromArray(
					[
						$elm$html$Html$text(
						'Card 1: ' + $author$project$Main$cardToString(model.a.d))
					])),
				A2(
				$elm$html$Html$p,
				$author$project$Main$cardContentPStyle,
				_List_fromArray(
					[
						$elm$html$Html$text(
						'Card 2: ' + $author$project$Main$cardToString(model.a.g))
					])),
				A2(
				$elm$html$Html$p,
				$author$project$Main$cardContentPStyle,
				_List_fromArray(
					[
						$elm$html$Html$text(
						'Your current bet is ' + $elm$core$String$fromInt(model.j))
					])),
				A2(
				$elm$html$Html$input,
				_List_fromArray(
					[
						$elm$html$Html$Attributes$type_('range'),
						$elm$html$Html$Attributes$max(
						$elm$core$String$fromInt(model.i)),
						$elm$html$Html$Attributes$min('0'),
						$elm$html$Html$Attributes$value(
						$elm$core$String$fromInt(model.j)),
						$elm$html$Html$Events$onInput($author$project$Main$UpdateBetValue)
					]),
				_List_Nil),
				A2(
				$elm$html$Html$button,
				_List_fromArray(
					[
						$elm$html$Html$Events$onClick($author$project$Main$Play),
						$author$project$Main$standardFontSize
					]),
				_List_fromArray(
					[
						$elm$html$Html$text('Play')
					])),
				$author$project$Main$showLastGame(model.D),
				$author$project$Main$showError(model.C)
			]));
};
```

This appears to be a CSS stylesheet, specifically for a header, with a name "AuthorizationHeader".
It uses a variable $author$project$main$headerStyle that is defined in the stylesheet, which is then used in the class declarations for the header elements.
It also uses a variable $author$project$showHeader which is set to true or false, depending on whether the header should be displayed or not.
It uses some other classes such as A2, which i don't understand the full purpose of, and it uses some CSS selectors like selectors for the text-align, font-size, font-family, etc.
It also uses some other styles like font-size, text-align, and font-family, which are defined in the stylesheet.
It uses some other div elements and some other text elements and it adds some classes to them.
It uses some other selectors like selectors for the elm$html$Html$div, selectors for the elm$html$Html$text elements, and it uses some other styles like font-size, text-align, and font-family, which are defined in the stylesheet.
It uses some other CSS selectors like selectors for the author$project$Main$headerStyle, selectors for the $author$project$showHeader, selectors for the elm$html$Html$header, selectors for the elm$html$Html$div, selectors for the elm$html$Html$text elements, and it uses some other styles like font-size, text-align, and font-family, which are defined in the stylesheet.


```
var $elm$html$Html$h1 = _VirtualDom_node('h1');
var $author$project$Main$headerStyle = _List_fromArray(
	[
		A2($elm$html$Html$Attributes$style, 'font-size', '2rem'),
		A2($elm$html$Html$Attributes$style, 'text-align', 'center')
	]);
var $author$project$Main$showHeader = A2(
	$elm$html$Html$div,
	$author$project$Main$headerStyle,
	_List_fromArray(
		[
			A2(
			$elm$html$Html$h1,
			_List_fromArray(
				[
					A2($elm$html$Html$Attributes$style, 'font-size', '4rem')
				]),
			_List_fromArray(
				[
					$elm$html$Html$text('ACEY DUCEY CARD GAME')
				])),
			A2(
			$elm$html$Html$div,
			_List_Nil,
			_List_fromArray(
				[
					$elm$html$Html$text('Creative Computing Morristown, New Jersey')
				])),
			A2(
			$elm$html$Html$div,
			_List_Nil,
			_List_fromArray(
				[
					$elm$html$Html$text('\n        Acey-Ducey is played in the following manner. The Dealer (Computer) deals two cards face up. \n        You have an option to bet or not bet depending on whether or not you feel the card will have a value between the first two.\n        If you do not want to bet, bet 0.\n        ')
				]))
		]));
```

ËøôÊÆµ‰ª£Á†ÅÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `var $author$project$Main$view` ÁöÑ JavaScript ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰∏Ä‰∏™Âêç‰∏∫ `model` ÁöÑÂèÇÊï∞„ÄÇ

ÂáΩÊï∞È¶ñÂÖàÈÄöËøá `A2` ÂáΩÊï∞Ë∞ÉÁî®‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ `var $elm$html$Html$div` ÁöÑÂáΩÊï∞ÔºåËøô‰∏™ÂáΩÊï∞ÁöÑ‰ΩúÁî®ÊòØÈÄöËøáÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´ HTML `<div>` ÂÖÉÁ¥†ÁöÑ DOM ÂÖÉÁ¥†Êù•ÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´Ê≠£ÊñáÂÜÖÂÆπÁöÑÂå∫Âüü„ÄÇ

Êé•‰∏ãÊù•ÔºåÂáΩÊï∞ÈÄöËøá `$author$project$Main$centerHeadlineStyle` Ëé∑Âèñ‰∫ÜÊ≠£ÊñáÂÜÖÂÆπÁöÑ‰∏≠ÂøÉÊ†áÈ¢òÊ†∑ÂºèÔºåÂπ∂Â∞ÜËøô‰∏§‰∏™Ëé∑ÂèñÂà∞ÁöÑÂÄºÈÄöËøá `_List_fromArray` ÂáΩÊï∞ÁöÑËØ≠Ê≥ïÂêàÂπ∂Êàê‰∏Ä‰∏™Êï∞ÁªÑÔºåÊï∞ÁªÑ‰∏≠ÂåÖÂê´‰∏§‰∏™ÂÖÉÁ¥†ÔºåÂàÜÂà´ÊòØ `$author$project$Main$showHeader` Âíå `$author$project$Main$showGame(model)`„ÄÇ

ÊúÄÂêéÔºåÂáΩÊï∞ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂåÖÂê´Ê†áÈ¢òÂíåÊ≠£ÊñáÂÜÖÂÆπÁöÑ div ÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜËé∑ÂèñÂà∞ÁöÑ `$author$project$Main$main` ÂÖÉÁ¥†ËÆæÁΩÆ‰∏∫ `elm$browser$Browser$element` ÂáΩÊï∞ËøîÂõûÁöÑÂÖÉÁ¥†ÂØπË±°ÔºåÊúÄÁªàÂ∞Ü `main` ÂÖÉÁ¥†ÁöÑ `aB`„ÄÅ`aH`„ÄÅ`aJ` Âíå `aK` Â±ûÊÄßËÆæÁΩÆ‰∏∫ `$author$project$Main$main` ÂáΩÊï∞ËøîÂõûÁöÑÂÖÉÁ¥†ÂØπË±°ÁöÑÂ±ûÊÄßÔºå‰ΩøÂæó `main` ÂÖÉÁ¥†ÂèØ‰ª•Ë¢´ÁªëÂÆö‰∏∫È°µÈù¢‰∏äÁöÑÊüê‰∏™ÂÖÉÁ¥†ÔºåÂπ∂‰∏îÂèØ‰ª•Êé•Êî∂‰º†ÈÄíÁªôÂÆÉÁöÑ `model` ÂèÇÊï∞„ÄÇ


```
var $author$project$Main$view = function (model) {
	return A2(
		$elm$html$Html$div,
		$author$project$Main$centerHeadlineStyle,
		_List_fromArray(
			[
				$author$project$Main$showHeader,
				$author$project$Main$showGame(model)
			]));
};
var $author$project$Main$main = $elm$browser$Browser$element(
	{aB: $author$project$Main$init, aH: $author$project$Main$subscriptions, aJ: $author$project$Main$update, aK: $author$project$Main$view});
_Platform_export({'Main':{'init':$author$project$Main$main(
	$elm$json$Json$Decode$succeed(0))(0)}});}(this));
```